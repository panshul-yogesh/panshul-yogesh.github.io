{
  "title": "Launch Google Cloud SQL for OO",
  "content": "<div class=\"mw-parser-output\"><br/><p>OO Containerized uses Google Cloud SQL to store its data.</p>\n<p>There are two options for setting up Google Cloud SQL for OO:</p>\n<ul>\n<li>(Recommended) Use a dedicated Google Cloud SQL instance for OO to ensure a smooth and fluent experience.</li>\n<li>Use the same Google Cloud SQL instance as the rest of the suite components.</li>\n</ul>\n<p>Irrespective of the choice, review the <a href=\"/doc/423/26.1/399-gcpoocsizing\" title=\"sizing considerations\">sizing considerations</a> to check the Google Cloud SQL requirements.</p>\n<p>For option 1:<br/>\nPerform the following steps:</p>\n<ul>\n<li><a href=\"/doc/423/26.1/399-gcplaunchcsqlooc#Verify_creating_Google_Cloud_SQL\" title=\"Verify creating Google Cloud SQL\">Verify creating Google Cloud SQL</a></li>\n<li><a href=\"/doc/423/26.1/399-gcplaunchcsqlooc#Create_databases_for_OO_on_the_Google_Cloud_SQL_instance\" title=\"Create databases for OO on the Google Cloud SQL instance\">Create databases for OO on the Google Cloud SQL instance</a></li>\n</ul>\n<p>For option 2:</p>\n<ul>\n<li>You must resize the shared Google Cloud SQL instance to an instance type capable of supporting the added requirements of both suite and OO.</li>\n<li>Perform the <a href=\"/doc/423/26.1/399-gcpoocsizing\" title=\"Create databases for OO on the Google Cloud SQL instance\">Create databases for OO on the Google Cloud SQL instance</a> step. </li>\n</ul>\n<h2>Verify creating Google Cloud SQL</h2>\n<p>After creating the Google Cloud SQL instance, you must test its connectivity by running the command below on the bastion node. </p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">Make sure to install the PostgreSQL client on the bastion node before running the below command.</div>\n</div>\n<pre>psql -h &lt;GCP_DB_HOSTNAME&gt; -p 5432 -U &lt;postgres_admin&gt; -d postgres</pre>\n<p>Where: </p>\n<ul>\n<li><code><font color=\"#333333\" face=\"Consolas, Menlo, DejaVu Sans Mono, Liberation Mono, monospace\"><span style=\"white-space-collapse: preserve; background-color: rgb(225, 232, 246);\">&lt;</span></font>GCP_DB_HOSTNAME&gt;</code> is the database hostname you specified when launching the Cloud SQL instance. Replace it with the actual value.</li>\n<li><code>&lt;postgres_admin&gt;</code> is the PostgreSQL admin user you specified when launching the Cloud SQL instance. Replace it with the actual value.</li>\n</ul>\n<h2>Create databases for OO on the Google Cloud SQL instance</h2>\n<p>The databases must be empty so that OO will initialize them during installation. The table below shows example database information prepared for the following components.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Component</th>\n<th scope=\"col\">Database User</th>\n<th scope=\"col\">Database Name</th>\n<th scope=\"col\">Schema (default)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>OO Central</td>\n<td><code>oocentraldbuser</code></td>\n<td><code>oocentraldb</code></td>\n<td><code>oo_cen_core</code></td>\n</tr>\n<tr>\n<td>OO Session Manager</td>\n<td><code>oosessionmanagerdbuser</code></td>\n<td><code>oosessionmanagerdb</code></td>\n<td><code>public</code></td>\n</tr>\n<tr>\n<td>OO Controller</td>\n<td><code>oocontrollerdbuser</code></td>\n<td><code>oocontrollerdb</code></td>\n<td><code>public</code></td>\n</tr>\n<tr>\n<td>OO Scheduler</td>\n<td><code>ooschedulerdbuser</code></td>\n<td><code>ooschedulerdb</code></td>\n<td><code>oo_sch_core</code></td>\n</tr>\n<tr>\n<td>AutoPass</td>\n<td><code>aplsdbuser</code></td>\n<td><code>aplsdb</code></td>\n<td><code>public</code></td>\n</tr>\n</tbody>\n</table>\n<p>Below are sample SQL commands for creating a user and a database:</p>\n<ol>\n<li>\n<p>Log in to your database server with the administrator credentials, using the command below:</p>\n<pre>psql -h &lt;GCP_DB_HOSTNAME&gt; -p 5432 -U &lt;postgres_admin&gt; -d postgres</pre>\n</li>\n<li>\n<p>Run the following commands to create the databases and the users, by substituting the exemplified database names, database users, and their respective passwords of each component with the desired values.</p>\n<p><strong>OO Central:</strong></p>\n<pre><code>CREATE ROLE oocentraldbuser LOGIN ENCRYPTED PASSWORD 'oocentraldbuserPass' NOSUPERUSER INHERIT CREATEDB CREATEROLE;\nCREATE DATABASE oocentraldb WITH owner=oocentraldbuser;\nGRANT CREATE ON DATABASE oocentraldb TO oocentraldbuser;</code></pre>\n<p><strong>OO Session Manager:</strong></p>\n<pre><code>CREATE ROLE oosessionmanagerdbuser LOGIN ENCRYPTED PASSWORD 'oosessionmanagerdbuserPass';\nCREATE DATABASE oosessionmanagerdb WITH owner=oosessionmanagerdbuser;\nGRANT CREATE ON DATABASE oosessionmanagerdb TO oosessionmanagerdbuser;</code></pre>\n<p><strong>OO Controller:</strong></p>\n<pre><code>CREATE ROLE oocontrollerdbuser LOGIN ENCRYPTED PASSWORD 'oocontrollerdbuserPass';\nCREATE DATABASE oocontrollerdb WITH owner=oocontrollerdbuser;\nGRANT CREATE ON DATABASE oocontrollerdb TO oocontrollerdbuser;</code></pre>\n<p><strong>OO Scheduler:</strong></p>\n<pre><code>CREATE ROLE ooschedulerdbuser LOGIN ENCRYPTED PASSWORD 'ooschedulerPass';\nCREATE DATABASE ooschedulerdb WITH owner=ooschedulerdbuser;\nGRANT CREATE ON DATABASE ooschedulerdb TO ooschedulerdbuser;</code></pre>\n<p><strong>AutoPass:</strong></p>\n<pre><code>CREATE ROLE \"aplsdbuser\" LOGIN ENCRYPTED PASSWORD 'aplsdbuserPass' NOSUPERUSER INHERIT;\nGRANT \"aplsdbuser\" TO postgres;\nCREATE DATABASE \"aplsdb\"; \nALTER DATABASE \"aplsdb\" OWNER TO \"aplsdbuser\";\nGRANT ALL ON SCHEMA \"public\" TO \"aplsdbuser\";</code></pre>\n</li>\n</ol>\n<div> </div>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}