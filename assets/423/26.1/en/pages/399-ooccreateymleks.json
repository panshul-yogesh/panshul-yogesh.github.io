{
  "title": "Create values.yaml for OO on EKS",
  "content": "<div class=\"mw-parser-output\">\n<p>On the bastion node, you need to edit and configure the <b>values.<span class=\"nanospell-typo\">yaml</span></b> file that comes along with the OO Containerized zip. Helm install uses the values defined in this file.</p>\n<h2><a id=\"Create_and_configure_values_yaml\" name=\"Create_and_configure_values_yaml\" title=\"Create and configure values.yaml\"></a>Create and configure values.<span class=\"nanospell-typo\">yaml</span></h2>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Create a copy of <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file in the OO Containerized installation folder (so a copy of it will exist permanently).</p>\n<pre>cp oo-helm-charts-1.x.x+26.x.x/oo-helm-charts/values/values.<span class=\"nanospell-typo\">yaml</span> &lt;path_to_copied_oo_values_<span class=\"nanospell-typo\">yaml</span>&gt;/values.<span class=\"nanospell-typo\">yaml</span>.backup</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Edit the copied <b>values.<span class=\"nanospell-typo\">yaml</span></b> file using any editor and specify the required values in the file.</p>\n</li></ol>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>\n<p>This <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file contains critical configuration information. The file must be securely stored and backed up on a regular basis.</p>\n</div></div></div>\n<h3><a id=\"Newly_added_parameters\" name=\"Newly_added_parameters\" title=\"Newly added parameters\"></a>Newly added parameters</h3>\n<p>The below parameters are available for usage and configuration within the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file starting OO Containerized 23.4: </p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>global.<span class=\"nanospell-typo\">tls</span>.<span class=\"nanospell-typo\">tlsMinVersion</span></code></li><li style=\"margin-left: 28px; position: relative;\"><code>global.<span class=\"nanospell-typo\">tls</span>.<span class=\"nanospell-typo\">tlsCiphers</span></code></li><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">oocentral</span>.deployment.<span class=\"nanospell-typo\">maxAllowedVersionGapMsgRecovery</span></code></li><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">purgeMaxSize</span></code></li></ul>\n<h3><a id=\"Configurable_parameters\" name=\"Configurable_parameters\" title=\"Configurable parameters\"></a>Configurable parameters</h3>\n<p>The configurable parameters supported by the OO chart are grouped into the following categories:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Generic parameters</li><li style=\"margin-left: 28px; position: relative;\">Networking parameters</li><li style=\"margin-left: 28px; position: relative;\">Shared <span class=\"nanospell-typo\">IdM</span> parameters</li><li style=\"margin-left: 28px; position: relative;\">Database parameters</li><li style=\"margin-left: 28px; position: relative;\">Persistence parameters</li><li style=\"margin-left: 28px; position: relative;\">(Optional) Database maintenance retention period</li><li style=\"margin-left: 28px; position: relative;\">Service Management integration parameters</li><li style=\"margin-left: 28px; position: relative;\">Monitoring parameters</li></ul>\n<p>Search for and update each parameter described in the below sections as the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> contains other parameters that aren't listed. These parameters either have a default value or don't apply to this scenario.</p>\n<p>The <strong>values.<span class=\"nanospell-typo\">yaml</span> </strong>is in <span class=\"nanospell-typo\">YAML</span> format. Each parameter described below in the format <code>&lt;section1&gt;.&lt;section2&gt;.&lt;section3&gt;</code> is available in the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file like this:</p>\n<pre>  section1: \n    section2: \n      section3:</pre>\n<h3><a id=\"Generic_parameters\" name=\"Generic_parameters\" title=\"Generic parameters\"></a>Generic parameters</h3>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code><span class=\"nanospell-typo\">acceptEula</span></code></td>\n<td>Yes</td>\n<td>You must accept <span class=\"nanospell-typo\">EULA</span> to deploy OO</td>\n<td><code>false</code></td>\n<td><code>true</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">docker</span>.registry</code></td>\n<td>Yes</td>\n<td>Amazon Elastic Container Registry (<span class=\"nanospell-typo\">ECR</span>) containing OO <span class=\"nanospell-typo\">Docker</span> images.</td>\n<td><code><span class=\"nanospell-typo\">localhost</span>:5000</code></td>\n<td><code><font face=\"monospace\">981593490063.<span class=\"nanospell-typo\">dkr</span>.<span class=\"nanospell-typo\">ecr</span>.us-east-2.<span class=\"nanospell-typo\">amazonaws</span>.com</font></code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">docker</span>.<span class=\"nanospell-typo\">orgName</span></code></td>\n<td>Yes</td>\n<td>Amazon <span class=\"nanospell-typo\">ECR</span> organization name.</td>\n<td><code><span class=\"nanospell-typo\">hpeswitom</span></code></td>\n<td><code><span class=\"nanospell-typo\">hpeswitom</span></code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">securityContext</span>.user</code></td>\n<td>Yes</td>\n<td>\n<p>This parameter specifies the operating system user ID that's used to run the process in the container. The value of this parameter and the ID of the Amazon Elastic File System owner must be the same. </p>\n<p>When using big values, use the value in double quotes. See <a href=\"https://github.com/helm/helm/issues/1707\" title=\"this Github page\">this <span class=\"nanospell-typo\">Github</span> page</a> for more information. For example: <code>user: \"1999\"</code><br/>\n<br/>\n\t\t\tYou can't change this value after installation.</p>\n</td>\n<td><code>1999</code></td>\n<td><code>1999</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">securityContext</span>.<span class=\"nanospell-typo\">fsGroup</span></code></td>\n<td>Yes</td>\n<td>\n<p>This parameter specifies the operating system group ID that's used to run the process in the container.</p>\n<p>When using big values, use the value in double quotes. See <a href=\"https://github.com/helm/helm/issues/1707\" title=\"this Github page\">this <span class=\"nanospell-typo\">Github</span> page</a> for more information. For example: <code>user: \"1999\"</code><br/>\n<br/>\n\t\t\tYou can't change this value after installation.</p>\n</td>\n<td><code>1999</code></td>\n<td><code>1999</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">tls</span>.<span class=\"nanospell-typo\">tlsMinVersion</span></code></td>\n<td>No</td>\n<td>\n<p>This parameter specifies the minimum <span class=\"nanospell-typo\">TLS</span> version for both server and client used by the OO components.</p>\n<p>If the default value is used, <span class=\"nanospell-typo\">TLS</span> 1.3 is used with a fallback to <span class=\"nanospell-typo\">TLS</span> 1.2.</p>\n<p>For example, if this parameter is set to <code>\"TLSv1.3\"</code>, only <span class=\"nanospell-typo\">TLS</span> 1.3 protocol will be enabled.</p>\n</td>\n<td><code>\"TLSv1.2\"</code></td>\n<td><code>\"TLSv1.2\"</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">tls</span>.<span class=\"nanospell-typo\">tlsCiphers</span></code></td>\n<td>No</td>\n<td>\n<p>This parameter specifies the ordered list of <span class=\"nanospell-typo\">TLS</span> enabled cipher suites for both server and client side, used by the OO components.</p>\n<p>This parameter value is a <span class=\"nanospell-typo\">YAML</span> array in the following format: [\"cipher1\", \"cipher2\"].</p>\n</td>\n<td><code>[\"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">CCM</span>_8_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">CCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_CHACHA20_POLY1305_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">DHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">DHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_CHACHA20_POLY1305_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_CHACHA20_POLY1305_SHA256\"]</code></td>\n<td><code>[\"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">CCM</span>_8_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">CCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_CHACHA20_POLY1305_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">DHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_128_<span class=\"nanospell-typo\">GCM</span>_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">DHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_<span class=\"nanospell-typo\">AES</span>_256_<span class=\"nanospell-typo\">GCM</span>_SHA384\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">ECDSA</span>_WITH_CHACHA20_POLY1305_SHA256\", \"<span class=\"nanospell-typo\">TLS</span>_<span class=\"nanospell-typo\">ECDHE</span>_<span class=\"nanospell-typo\">RSA</span>_WITH_CHACHA20_POLY1305_SHA256\"]</code></td>\n</tr>\n<tr>\n<td><code>global.oo.size</code></td>\n<td>No</td>\n<td>\n<p>This parameter controls the resources allocated to each service based on the maximum number of tenants configured. This parameter supports two different configurations: 5 (1-5 tenants) or 20 (6-20 tenants).</p>\n<p>Note: Values other than 5 or 20 will be regarded as 5 or 20. For example, if you set this parameter to 3, the resources allocated will support up to 5 tenants. </p>\n</td>\n<td><code>5</code></td>\n<td><code>20</code></td>\n</tr>\n<tr>\n<td><code>global.cluster.k8sProvider</code></td>\n<td>Yes</td>\n<td>Specifies the <span class=\"nanospell-typo\">Kubernetes</span> infrastructure provider being used. Ensures that all cluster-specific configurations and resources are applied to the <span class=\"nanospell-typo\">AWS</span> environment.</td>\n<td><code><span class=\"nanospell-typo\">cdf</span></code></td>\n<td><code>aws</code></td>\n</tr>\n</tbody>\n</table>\n<div>\n<div>\n<h3><a id=\"Networking_parameters\" name=\"Networking_parameters\" title=\"Networking parameters\"></a>Networking parameters</h3>\n</div>\n<p>These parameters define how the OO application reaches the context of the entire <span class=\"nanospell-typo\">OpenText</span> Service Management suite.  </p>\n<div>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">externalAccessHost</span></code></td>\n<td>Yes</td>\n<td>\n<p>This is the external access point for OO, and the <span class=\"nanospell-typo\">FQDN</span> should be in the following format: <span style=\"background-color: transparent;\"><strong>oo.&lt;suite-<span class=\"nanospell-typo\">fqdn</span>&gt;</strong>.</span></p>\n<p><span style=\"background-color: transparent;\">The <span class=\"nanospell-typo\">FQDN</span> specified at this parameter is also the <span class=\"nanospell-typo\">DNS</span> name of the OO Application Load <span class=\"nanospell-typo\">Balancer</span> (ALB) for external access, which you'll create later. See <a href=\"/doc/423/26.1/399-configurealbeksooc\" title=\"Configure load balancers for OO\">Configure load <span class=\"nanospell-typo\">balancers</span> for OO</a> for details on the external access ALB.</span></p>\n</td>\n<td>N/A</td>\n<td><span style=\"background-color: transparent;\">If you can access the suite using the <span class=\"nanospell-typo\">FQDN</span>  <em><span class=\"nanospell-typo\">smax</span>.example.com</em>, then you can access OO using <em><strong>oo</strong>.<span class=\"nanospell-typo\">smax</span>.example.com.</em></span></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">externalAccessPort</span></code></td>\n<td>Yes</td>\n<td>This is the port number on which you can access OO from outside of the <span class=\"nanospell-typo\">Kubernetes</span> cluster. <br/>\n<br/>\n\t\t\tThe port number specified here is the listener port of the OO ALB for external access, which you'll create later. See <a href=\"/doc/423/26.1/399-configurealbeksooc\" title=\"Configure load balancers for OO\">Configure load <span class=\"nanospell-typo\">balancers</span> for OO</a> for details on the external access ALB.</td>\n<td>9443</td>\n<td>443</td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">nginx</span>.<span class=\"nanospell-typo\">httpsPort</span></code></td>\n<td>Yes</td>\n<td>\n<p>This is the <span class=\"nanospell-typo\">https</span> port on which the OO deployed <span class=\"nanospell-typo\">Nginx</span> controller listens and routes the traffic to the OO pods via ingress rules.</p>\n<p>Set this value to <strong>443</strong>.<br/>\n<br/>\n\t\t\tIf the parameter isn't set, it will take the value of the <em>global.<span class=\"nanospell-typo\">externalAccessPort</span></em> parameter.</p>\n</td>\n<td>9443</td>\n<td>443</td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">setFqdnInIngress</span></code></td>\n<td>Yes</td>\n<td>This parameter controls whether the ingress rules for OO components apply for a single host, specified using the <code>global.<span class=\"nanospell-typo\">externalAccessHost</span></code>, or not. <br/>\n<br/>\n\t\t\tIn <span class=\"nanospell-typo\">EKS</span>, traffic towards the OO components comes from two different sources: from the public Application Load <span class=\"nanospell-typo\">Balancer</span> for OO, and the integration Application Load <span class=\"nanospell-typo\">Balancer</span>. <br/>\n<br/>\n<b>Therefore, you must set this parameter to <code>false.</code></b> </td>\n<td><code>true</code></td>\n<td><code>false</code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">itom</span>-ingress-controller.<span class=\"nanospell-typo\">nginx</span>.service.<span class=\"nanospell-typo\">httpsNodePort</span></code></td>\n<td>Yes</td>\n<td>\n<p>This is the <strong><span class=\"nanospell-typo\">NodePort</span></strong> number of the OO deployed <span class=\"nanospell-typo\">Nginx</span> ingress controller.</p>\n<p>While values in the range 30000-32767 are accepted, the designated port number for the OO <span class=\"nanospell-typo\">Nginx</span> ingress controller is 31443. </p>\n<p>This parameter is missing from <strong>values.<span class=\"nanospell-typo\">yaml</span></strong>. To add it, use the following command on the Bastion host:<br/>\n<br/>\n<code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;/bin/yq e '.<span class=\"nanospell-typo\">itom</span>-ingress-controller.<span class=\"nanospell-typo\">nginx</span>.service.<span class=\"nanospell-typo\">httpsNodePort</span> = \"31443\"' -i &lt;path/to/values.<span class=\"nanospell-typo\">yaml</span></code></p>\n<p>Where: </p>\n<p><code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;</code> is the installation directory of OPTIC Management Toolkit (<span class=\"nanospell-typo\">OMT</span>).</p>\n<p><code>&lt;/path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</code> is the path of OO values.<span class=\"nanospell-typo\">yaml</span>.</p>\n<p>Make sure to use the command line tool <strong>yq</strong> that's part of <span class=\"nanospell-typo\">OMT</span> <strong>202x.xx</strong> and not from the OS <strong>$PATH</strong>.</p>\n<p>The version of <strong>yq</strong> that comes with <span class=\"nanospell-typo\">OMT</span> is 4.6.1, and the syntax of the command doesn't work with older versions of <strong>yq.</strong></p>\n</td>\n<td>N/A</td>\n<td>31443</td>\n</tr>\n<tr>\n<td>\n<p><code><span class=\"nanospell-typo\">itom</span>-ingress-controller.<span class=\"nanospell-typo\">nginx</span>.service.external.<span class=\"nanospell-typo\">nodePortAutoAssign</span></code></p>\n</td>\n<td>Yes</td>\n<td>\n<p>This parameter specifies whether OO deployed <span class=\"nanospell-typo\">Nginx</span> controller auto assigns a port in the range 30000-3276 as its <strong><span class=\"nanospell-typo\">NodePort</span></strong>. <br/>\n<br/>\n\t\t\tBecause you specified a fixed port number (31443<strong>)</strong> in the previous parameter, setting this parameter to <strong>false</strong> is mandatory. </p>\n<p>This parameter is missing from <strong>values.<span class=\"nanospell-typo\">yaml</span></strong>. To add it, use the following command on the Bastion host:<br/>\n<br/>\n<code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;/bin/yq e '.<span class=\"nanospell-typo\">itom</span>-ingress-controller.<span class=\"nanospell-typo\">nginx</span>.service.external.<span class=\"nanospell-typo\">nodePortAutoAssign</span>= false' -i &lt;path/to/values.<span class=\"nanospell-typo\">yaml</span></code></p>\n<p>Where: </p>\n<p><code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;</code> is the installation directory of <span class=\"nanospell-typo\">OMT</span>.</p>\n<p><code>&lt;/path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</code> is the path of OO values.<span class=\"nanospell-typo\">yaml</span>.</p>\n<p>Make sure to use the command line tool <strong>yq</strong> that's part of <span class=\"nanospell-typo\">OMT</span> <strong>202x.xx</strong> and not from the OS <strong>$PATH</strong>.</p>\n<p>The version of <strong>yq</strong> that comes with <span class=\"nanospell-typo\">OMT</span> is 4.6.1, and the syntax of the command doesn't work with older versions of <strong>yq.</strong></p>\n</td>\n<td>\n<p><span style=\"background-color: transparent;\">N/A</span></p>\n</td>\n<td>\n<p>false</p>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3><a id=\"Shared_IdM_parameters\" name=\"Shared_IdM_parameters\" title=\"Shared IdM parameters\"></a>Shared <span class=\"nanospell-typo\">IdM</span> parameters</h3>\n<p>OO integrates with the Service Management <span class=\"nanospell-typo\">IdM</span> service. At these parameters, specify the <span class=\"nanospell-typo\">IdM</span> connection details.</p>\n<table>\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Required</th>\n<th>Description</th>\n<th>Default</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">idm</span>.<span class=\"nanospell-typo\">idmAuthUrl</span></code></td>\n<td>Yes</td>\n<td>This is the public <span class=\"nanospell-typo\">URL</span> of the <span class=\"nanospell-typo\">IdM</span> Service Management.</td>\n<td>N/A</td>\n<td><code><span class=\"nanospell-typo\">https</span>://&lt;suite-<span class=\"nanospell-typo\">fqdn</span>&gt;:443/<span class=\"nanospell-typo\">idm</span>-service</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">idm</span>.<span class=\"nanospell-typo\">idmTransportUser</span></code></td>\n<td>Yes</td>\n<td>The <span class=\"nanospell-typo\">IdM</span> transport admin user configured in the suite's <span class=\"nanospell-typo\">IdM</span> service. In the <span class=\"nanospell-typo\">OpenText</span> Service Management suite, the name of this user is <code><span class=\"nanospell-typo\">idmTransportUser</span></code>.</td>\n<td>N/A</td>\n<td><code><span class=\"nanospell-typo\">idmTransportUser</span></code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">idm</span>.<span class=\"nanospell-typo\">superUser</span></code></td>\n<td>Yes</td>\n<td>The OO integration admin user name created in <a href=\"/doc/423/26.1/createoocusereks\" title=\"Create OO integration admin user in SMAX IdM\">Create OO integration admin user in the Service Management <span class=\"nanospell-typo\">IdM</span> (<span class=\"nanospell-typo\">EKS</span>)</a></td>\n<td>N/A</td>\n<td><code>oo-integration-admin</code></td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">idm</span>.tenant</code></td>\n<td>Yes</td>\n<td><span class=\"nanospell-typo\">IdM</span> parent tenant organization name where <code>global.<span class=\"nanospell-typo\">idm</span>.<span class=\"nanospell-typo\">superUser</span></code> resides. For Service Management and Cloud Management, the name of this organization is <strong><span class=\"nanospell-typo\">sysbo</span></strong>.</td>\n<td>N/A</td>\n<td><code><span class=\"nanospell-typo\">sysbo</span></code></td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Database_parameters\" name=\"Database_parameters\" title=\"Database parameters\"></a>Database parameters</h3>\n</div>\n<p>Configure the following parameters to set up the connection to the Amazon <span class=\"nanospell-typo\">RDS</span> instance.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.database.type</code></td>\n<td>Yes</td>\n<td>Currently OO supports only <span class=\"nanospell-typo\">PostgreSQL</span> database engines. Set this value to \"<strong><span class=\"nanospell-typo\">postgresql</span></strong>\".</td>\n<td>N/A</td>\n<td><code><span class=\"nanospell-typo\">postgresql</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.host</code></td>\n<td>Yes</td>\n<td>The <span class=\"nanospell-typo\">hostname</span> of the <span class=\"nanospell-typo\">RDS</span> instance created at the step <a href=\"/doc/oo_containerized/main/launchrdseksooc#Create_an_RDS_instance_for_OO\" title=\"Create an RDS instance for OO\">Create an <span class=\"nanospell-typo\">RDS</span> instance for OO</a>.</td>\n<td>N/A</td>\n<td><code>db.host.com</code></td>\n</tr>\n<tr>\n<td><code>global.database.port</code></td>\n<td>Yes</td>\n<td>Database server port.</td>\n<td>N/A</td>\n<td><code>5432</code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">tlsEnabled</span></code></td>\n<td>No</td>\n<td>Required only when you enable <span class=\"nanospell-typo\">TLS</span> connection for the external database.</td>\n<td><code>false</code></td>\n<td><code>true</code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">oocontroller</span>.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td>OO Controller database name.</td>\n<td><code><span class=\"nanospell-typo\">oocontrollerdb</span></code></td>\n<td><code><span class=\"nanospell-typo\">oocontrollerdb</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">oocontroller</span>.user</code></td>\n<td>Yes</td>\n<td>OO Controller database user.</td>\n<td><code><span class=\"nanospell-typo\">oocontrollerdbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">oocontrollerdbuser</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">ooui</span>.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td>OO Session Manager database name.</td>\n<td><code><span class=\"nanospell-typo\">oouidb</span></code></td>\n<td><code><span class=\"nanospell-typo\">oosessionmanagerdb</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">ooui</span>.user</code></td>\n<td>Yes</td>\n<td>OO Session Manager database user.</td>\n<td><code><span class=\"nanospell-typo\">oouidbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">oosessionmanagerdbuser</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">oocentral</span>.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td>OO Central database name.</td>\n<td><code><span class=\"nanospell-typo\">oocentraldb</span></code></td>\n<td><code><span class=\"nanospell-typo\">oocentraldb</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">oocentral</span>.user</code></td>\n<td>Yes</td>\n<td>OO Central database user.</td>\n<td><code><span class=\"nanospell-typo\">oocentraldbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">oocentraldbuser</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">ooscheduler</span>.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td>OO Scheduler database name.</td>\n<td><code><span class=\"nanospell-typo\">ooschedulerdb</span></code></td>\n<td><code><span class=\"nanospell-typo\">ooschedulerdb</span></code></td>\n</tr>\n<tr>\n<td><code>global.database.<span class=\"nanospell-typo\">ooscheduler</span>.user</code></td>\n<td>Yes</td>\n<td>OO Scheduler database user.</td>\n<td><code><span class=\"nanospell-typo\">ooschedulerdbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">ooschedulerdbuser</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">autopass</span>.deployment.database.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td><span class=\"nanospell-typo\">AutoPass</span> database name.</td>\n<td><code><span class=\"nanospell-typo\">aplsdb</span></code></td>\n<td><code><span class=\"nanospell-typo\">aplsdb</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">autopass</span>.deployment.database.user</code></td>\n<td>Yes</td>\n<td><span class=\"nanospell-typo\">AutoPass</span> database user.</td>\n<td><code><span class=\"nanospell-typo\">aplsdbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">aplsdbuser</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">autopass</span>-migration.deployment.database.<span class=\"nanospell-typo\">dbName</span></code></td>\n<td>Yes</td>\n<td><span class=\"nanospell-typo\">AutoPass</span> Migration database name - the same as <span class=\"nanospell-typo\">Autopass</span> database name</td>\n<td><code><span class=\"nanospell-typo\">aplsdb</span></code></td>\n<td><code><span class=\"nanospell-typo\">aplsdb</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">autopass</span>-migration.deployment.database.user</code></td>\n<td>Yes</td>\n<td><span class=\"nanospell-typo\">AutoPass</span> Migration database user- the same as <span class=\"nanospell-typo\">Autopass</span> database user</td>\n<td><code><span class=\"nanospell-typo\">aplsdbuser</span></code></td>\n<td><code><span class=\"nanospell-typo\">aplsdbuser</span></code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>\n<p>In the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file, the values for the <code>global.database.<span class=\"nanospell-typo\">ooui</span>.<span class=\"nanospell-typo\">dbName</span></code> and <code>global.database.<span class=\"nanospell-typo\">ooui</span>.user</code> parameters default to <strong><span class=\"nanospell-typo\">oouidb</span> </strong>and <strong><span class=\"nanospell-typo\">oouidbuser</span></strong>. If you create the OO Session Manager database name and database according to the steps in <a href=\"/doc/oo_containerized/main/launchrdseksooc#Create_databases_for_OO_on_the_Amazon_RDS_instance\" title=\"Create databases for OO on the Amazon RDS instance\">Create databases for OO on the Amazon <span class=\"nanospell-typo\">RDS</span> instance</a>, then update values for the <code>global.database.<span class=\"nanospell-typo\">ooui</span>.<span class=\"nanospell-typo\">dbName</span></code> and <code>global.database.<span class=\"nanospell-typo\">ooui</span>.user</code> parameters as <strong><span class=\"nanospell-typo\">oosessionmanagerdb</span> </strong>and <strong><span class=\"nanospell-typo\">oosessionmanagerdbuser</span></strong>.</p>\n</div></div></div>\n<h3><a id=\"Persistence_parameters\" name=\"Persistence_parameters\" title=\"Persistence parameters\"></a>Persistence parameters</h3>\n<p>Specify the names of the <span class=\"nanospell-typo\">PVCs</span> created as part of the preparation step <a href=\"/doc/423/26.1/399-preparepvooceks\" title=\"Prepare persistent volumes and claims for OO\">Prepare persistent volumes and claims for OO</a>.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.persistence.<span class=\"nanospell-typo\">configVolumeClaim</span></code></td>\n<td>Yes</td>\n<td>Name of the <span class=\"nanospell-typo\">PVC</span> created for OO configuration files.</td>\n<td>N/A</td>\n<td><code>oo-<span class=\"nanospell-typo\">config</span>-<span class=\"nanospell-typo\">pvc</span></code></td>\n</tr>\n<tr>\n<td><code>global.persistence.<span class=\"nanospell-typo\">dataVolumeClaim</span></code></td>\n<td>Yes</td>\n<td>Name of the <span class=\"nanospell-typo\">PVC</span> created for OO data files.</td>\n<td>N/A</td>\n<td><code>oo-data-<span class=\"nanospell-typo\">pvc</span></code></td>\n</tr>\n<tr>\n<td>\n<p><code>global.persistence.<span class=\"nanospell-typo\">logVolumeClaim</span></code></p>\n</td>\n<td>Yes</td>\n<td>\n<p>Name of the <span class=\"nanospell-typo\">PVC</span> created for OO logs.</p>\n</td>\n<td>N/A</td>\n<td>\n<p><code>oo-logs-<span class=\"nanospell-typo\">pvc</span></code></p>\n</td>\n</tr>\n<tr>\n<td><code>global.persistence.<span class=\"nanospell-typo\">rasLogVolumeClaim</span></code></td>\n<td>Yes</td>\n<td>Name of the <span class=\"nanospell-typo\">PVC</span> created for OO <span class=\"nanospell-typo\">RAS</span> logs.</td>\n<td>N/A</td>\n<td><code>oo-<span class=\"nanospell-typo\">ras</span>-logs-<span class=\"nanospell-typo\">pvc</span></code></td>\n</tr>\n<tr>\n<td><code>global.persistence.<span class=\"nanospell-typo\">dataExportVolumeClaim</span></code></td>\n<td>Yes</td>\n<td>Name of the <span class=\"nanospell-typo\">PVC</span> created for database exports.</td>\n<td>N/A</td>\n<td><code>oo-data-export-<span class=\"nanospell-typo\">pvc</span></code></td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Database_maintenance_parameters\" name=\"Database_maintenance_parameters\" title=\"Database maintenance parameters\"></a>Database maintenance parameters</h3>\n<p>This section is optional. All parameters described here have default values which are used if not purposely configured.</p>\n<p>The OO flows for database purging don't work with the current version of OO. However, to keep the database size under control, OO deploys a <span class=\"nanospell-typo\">Kubernetes</span> <strong><span class=\"nanospell-typo\">cron</span> job</strong> at install time, set to run each day at <strong>00:00 <span class=\"nanospell-typo\">GMT</span></strong>. The purpose of this job is to purge in the database OO execution data that's older than 365 days.</p>\n<p>The data retention period is configurable via the <em>hidden</em> Helm parameter <code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">retentionDays</span></code>.</p>\n<p>Minimum value is 28, and the value must be in multiples of 14. For example: 28, 42, 56, etc.</p>\n<p>You can configure the retention period after installation, by manually editing the <span class=\"nanospell-typo\">Kubernetes</span> job. For more information, see <a href=\"/doc/423/26.1/oodbmaintretinterval\" title=\"Change OO Database Maintenance Job retention interval\">Change OO Database Maintenance Job retention interval</a>.</p>\n<p>If you want to configure a different retention interval at OO install time, then run the following command on the Bastion host:</p>\n<pre>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;/bin/yq e '.<code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">retentionDays</span> = \"&lt;desired_amount_of_retention_days&gt;\"' -i &lt;path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</code>\n</pre>\n<p>Where:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;</code> = installation directory of <span class=\"nanospell-typo\">OMT</span></li><li style=\"margin-left: 28px; position: relative;\"><code>&lt;desired_amount_of_retention_days&gt;</code> = the retention interval (28, 42, 56, etc.)</li><li style=\"margin-left: 28px; position: relative;\"><code>&lt;path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</code> = the path of OO values.<span class=\"nanospell-typo\">yaml</span></li></ul>\n<p>Make sure:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">to use the command line tool <strong>yq</strong> that's part of <span class=\"nanospell-typo\">OMT</span> <strong>202x.xx</strong> and not from the OS <strong>$PATH</strong>.</li><li style=\"margin-left: 28px; position: relative;\">the version of <strong>yq</strong> that comes with <span class=\"nanospell-typo\">OMT</span> is 4.6.1, and the syntax of the command doesn't work with older versions of <strong>yq</strong>.</li></ul>\n<p>On top of the retention period, you can configure the purge jobs to automatically trigger and delete data based on tenant schema size by utilizing the <code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">purgeMaxSize</span></code> parameter. This parameter controls the size limit for all tenants when configured. By default, the parameter is set to (unlimited size) but can be configured to limit the size of the tenant <span class=\"nanospell-typo\">schemas</span>. When enabled this parameter will ignore the retention period and will delete historical data until the tenant schema size is back below the configured limit. </p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">retentionDays</span></code></td>\n<td>No</td>\n<td>\n<p>The OO execution data retention period in days. All data that's older than the number of days specified at this parameter will be automatically purged by the OO data maintenance <span class=\"nanospell-typo\">Kubernetes</span> <strong><span class=\"nanospell-typo\">cron</span>-job</strong>.</p>\n<p>Minimum value is 28, and the values must be a multiple of 14. For example: 28, 42, 56, etc.</p>\n</td>\n<td>hidden (not exposed in the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong>)</td>\n<td><code>224</code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">oodata</span>-maintenance-and-export.deployment.data.<span class=\"nanospell-typo\">purgeMaxSize</span></code></td>\n<td>No</td>\n<td>This parameter controls the max size in gigabytes that a tenant's schema is allowed to grow to. After the tenant schema grows beyond the set parameter size purging of historical data will occur, regardless of retention period.</td>\n<td><code>0</code></td>\n<td><code>200</code></td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Service_Management_integration_parameters\" name=\"Service_Management_integration_parameters\" title=\"Service Management integration parameters\"></a>Service Management integration parameters</h3>\n<div>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">smaxFqdn</span></code></td>\n<td>Yes</td>\n<td>The <span class=\"nanospell-typo\">FQDN</span> and port of the public load <span class=\"nanospell-typo\">balancer</span> for accessing Service Management.</td>\n<td>N/A</td>\n<td><code><span class=\"nanospell-typo\">smax</span>.example.com:443</code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">caCertificates</span></code></td>\n<td><font face=\"monospace\">Conditional</font></td>\n<td>\n<p>This parameter specifies the certificates that OO requires to trust, such as the ones used for:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">The external load <span class=\"nanospell-typo\">balancer</span> of <span class=\"nanospell-typo\">SMA</span></li><li style=\"margin-left: 28px; position: relative;\">The OO <span class=\"nanospell-typo\">RDS</span> instance, only if the <span class=\"nanospell-typo\">RDS</span> instance can accept <span class=\"nanospell-typo\">TLS</span> connections.</li></ul>\n<p>See the below explanation for details.</p>\n</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>To get the suite certificates, see <a href=\"/doc/423/26.1/getsuitecacertificate\" title=\"Get the suite CA certificate\">Get the suite CA certificate</a>.</p>\n<p>The certificates that OO must trust are mandatory. You can specify these certificates in two ways:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">At Helm install time via command line.</li><li style=\"margin-left: 28px; position: relative;\">At OO install time via Helm parameter <code><span class=\"nanospell-typo\">caCertificates</span></code> in <strong>values.<span class=\"nanospell-typo\">yaml</span></strong>.</li></ul>\n<p>Providing these certificates via the Helm parameter <code><span class=\"nanospell-typo\">caCertificates</span></code> in OO <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> is optional. <span style=\"background-color: transparent;\">Regardless of the method you chose, these certificates must be either the <em>server certificates</em> or the <em>root CA</em> that generated the server certificates. </span>In addition, the certificates must be in a <strong><span class=\"nanospell-typo\">PEM</span></strong> format (base64 encoded). </p>\n<p>In comparison:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">The advantage of <strong>Option #1</strong> is that it's faster and easier than Option #2, but it doesn't add the certificate content to the OO <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file.</li><li style=\"margin-left: 28px; position: relative;\">The advantage of <strong>Option #2</strong> is that it adds the certificate(s) content to the OO <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file which provides you with a faster way of tracking these certificates at a later point in time, by checking the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file directly. </li></ul>\n<h4><a id=\"Add_the_certificates_at_install_time_in_CLI\" name=\"Add_the_certificates_at_install_time_in_CLI\" title=\"Add the certificates at install time in CLI\"></a>Add the certificates at install time in <span class=\"nanospell-typo\">CLI</span></h4>\n<p>Add the certificates at Helm install time using the <code>--set-file</code> arguments. If you're adding certificates at Helm install time using <span class=\"nanospell-typo\">CLI</span>, ensure to remove the <code><span class=\"nanospell-typo\">caCertificates</span> </code>parameter from the <strong>values.<span class=\"nanospell-typo\">yaml</span></strong> file.</p>\n<p>For example: </p>\n<pre>helm install [...] --set-file \"<span class=\"nanospell-typo\">caCertificates</span>.<span class=\"nanospell-typo\">smax</span>_lb\\.<span class=\"nanospell-typo\">crt</span>\"=/path/to/<span class=\"nanospell-typo\">smax</span>_lb.<span class=\"nanospell-typo\">crt</span> --set-file \"<span class=\"nanospell-typo\">caCertificates</span>.oo_db\\.<span class=\"nanospell-typo\">crt</span>\"=/path/to/oo_db.<span class=\"nanospell-typo\">crt</span></pre>\n<p><strong>Note that:</strong></p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>[...]</code> is a placeholder for other Helm install-related parameters. For more information, see <a href=\"/doc/423/26.1/ooceks\" title=\"Install OO Containerized on AWS\">Install OO Containerized on <span class=\"nanospell-typo\">EKS</span></a>.</li><li style=\"margin-left: 28px; position: relative;\">Make sure not to miss the escape character before the dot in the <code>--set-file</code> argument - eg:<code>\"<span class=\"nanospell-typo\">caCertificates</span>.<span class=\"nanospell-typo\">smax</span>_lb<strong>\\</strong>.<span class=\"nanospell-typo\">crt</span>\"</code></li><li style=\"margin-left: 28px; position: relative;\">You can use multiple -<code>-set-file</code> arguments, according to the amount of certificate(s) OO requires to trust.</li></ul>\n<h4><a id=\"Add_certificates_using_the_Helm_parameter\" name=\"Add_certificates_using_the_Helm_parameter\" title=\"Add certificates using the Helm parameter\"></a>Add certificates using the Helm parameter</h4>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to add this parameter in OO <strong>values.<span class=\"nanospell-typo\">yaml</span></strong>:\n\n\t<pre>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;/bin/yq e '.<span class=\"nanospell-typo\">caCertificates</span> = \"placeholder\"' -i &lt;path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</pre>\n<p>Where:<br/>\n<code>&lt;<span class=\"nanospell-typo\">OMT</span>_External_K8s_2x.x-xxx&gt;</code> = installation directory of <span class=\"nanospell-typo\">OMT</span><br/>\n<code>&lt;path/to/values.<span class=\"nanospell-typo\">yaml</span>&gt;</code> = the path of the OO <strong>values.<span class=\"nanospell-typo\">yaml</span></strong></p>\n<p>Make sure that:<br/>\n\tYou use the command line tool <strong>yq</strong> that's part of <span class=\"nanospell-typo\">OMT</span> <strong>202x.xx</strong> and not from the OS <strong>$PATH</strong>. The version of <strong>yq</strong> that comes with <span class=\"nanospell-typo\">OMT</span> is 4.6.1, and the syntax of the command doesn't work with older versions of <strong>yq.</strong></p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Open <strong>values.<span class=\"nanospell-typo\">yaml</span> </strong>in a text editor, delete \"placeholder\" from the <code><span class=\"nanospell-typo\">caCertificates</span></code> parameter, and specify the content of the certificates as given below:\n\t<pre><code>caCertificates:\n  smax_lb.crt: |\n    -----BEGIN CERTIFICATE-----\n    MIIFLTCCAxWgAwIBAgIUEgAXHFYWniNO5iq5E7q8UIiLdfswDQYJKoZIhvcNAQEL\n    [...]\n    gLMaj435og1CxyQMf5qt+m6DqVXjQR/wPfHUNz6S0aON\n    -----END CERTIFICATE-----\n  # Only if TLS is enabled with the OO RDS instance\n  oo_db.crt: |\n    -----BEGIN CERTIFICATE-----\n    MIIFLTCCAxWgAwIBAgIUEgAXHFYWniNO5iq5E7q8UIiLdfswDQYJKoZIhvcNAQEL\n    [...]\n    gLMaj435og1CxyQMf5qt+m6DqVXjQR/wPfHUNz6S0aON\n    -----END CERTIFICATE----- </code></pre>\n<p>For each certificate, the key index name represents the name of the certificate. In the example, <strong><span class=\"nanospell-typo\">smax</span>_lb.<span class=\"nanospell-typo\">crt</span> </strong>is the certificate used for <span class=\"nanospell-typo\">SMA</span> Application Load <span class=\"nanospell-typo\">Balancer</span>, and <strong>oo_db.<span class=\"nanospell-typo\">crt</span> </strong>is the certificate used for the <span class=\"nanospell-typo\">RDS</span> instance OO connects to, only if it's configured with a <span class=\"nanospell-typo\">TLS</span> connection. </p>\n\tMake sure to use the correct indentation. For example:<br/>\n<code><span class=\"nanospell-typo\">caCertificates</span></code> is the top-level key index, therefore there is no need for any indentation before the parameter name. <br/>\n<code><span class=\"nanospell-typo\">smax</span>_lb.<span class=\"nanospell-typo\">crt</span></code> is a second-level key index, therefore you must use 2 spaces for indentation.<br/>\n<code>----- BEGIN CERTIFICATE -----</code> is the content of the <strong><span class=\"nanospell-typo\">PEM</span></strong> encoded certificate. Indent each line by 4 spaces.</li></ol>\n<ul style=\"padding-left: 0px;\"></ul>\n<h3 id=\"Monitoring_parameters\"><a id=\"Monitoring_parameters\" name=\"Monitoring_parameters\" title=\"Monitoring parameters\"></a>Monitoring parameters</h3>\n<p>You can add monitoring support by exposing Prometheus-style metrics from the most critical OO services (OO Controller, OO Central, OO Scheduler, OO Session Manager, and OO <span class=\"nanospell-typo\">Downloader</span>). This helps in troubleshooting various aspects inside the cluster like performance, scalability, and others. After enabling <span class=\"nanospell-typo\">OMT</span> monitoring capability, you must configure OO to deploy the service monitors.</p>\n<p>The OO service monitors are deployed when you set the <code>global.<span class=\"nanospell-typo\">prometheus</span>.<span class=\"nanospell-typo\">deployPrometheusConfig</span></code> user input parameter to <strong>true</strong>.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">prometheus</span>.<span class=\"nanospell-typo\">deployPrometheusConfig</span></code></td>\n<td>No</td>\n<td>Controls whether to deploy scraping rules through <code><span class=\"nanospell-typo\">ServiceMonitor</span></code> objects and alerts through<strong> </strong><code><span class=\"nanospell-typo\">PrometheusRule</span></code> objects</td>\n<td>true</td>\n<td>This input depends on whether you have enabled the monitoring capability.</td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">prometheus</span>.<span class=\"nanospell-typo\">deployGrafanaConfig</span></code></td>\n<td>No</td>\n<td>Controls whether to deploy <code><span class=\"nanospell-typo\">ConfigMap</span></code> objects containing <strong><span class=\"nanospell-typo\">Grafana</span></strong> dashboard configurations</td>\n<td>true</td>\n<td><strong><span class=\"nanospell-typo\">ConfigMaps</span></strong> labeled <strong><span class=\"nanospell-typo\">grafana</span>_dashboard: \"1\"</strong> contain dashboard configurations. <span class=\"nanospell-typo\">OMT</span> monitoring solution uploads these dashboards in <strong><span class=\"nanospell-typo\">Grafana</span></strong>. For other monitoring solutions download and upload the dashboards into <strong><span class=\"nanospell-typo\">Grafana</span> </strong>manually.</td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">prometheus</span>.<span class=\"nanospell-typo\">prometheusSelector</span>.<span class=\"nanospell-typo\">prometheus</span>_<span class=\"nanospell-typo\">config</span></code></td>\n<td>No</td>\n<td>Defines the label (s) that apply to the scraping rules through <code><span class=\"nanospell-typo\">ServiceMonitor</span></code> objects</td>\n<td>1</td>\n<td>Based on this label, you can include or exclude metrics from Prometheus.</td>\n</tr>\n<tr>\n<td><code>global.<span class=\"nanospell-typo\">prometheus</span>.<span class=\"nanospell-typo\">grafanaSelector</span>.<span class=\"nanospell-typo\">grafana</span>_dashboard</code></td>\n<td>No</td>\n<td>Defines the label(s) that apply to the <strong><span class=\"nanospell-typo\">Grafana</span></strong> dashboard configurations through <code><span class=\"nanospell-typo\">ConfigMap</span></code> objects</td>\n<td>1</td>\n<td>The default label value used by the <span class=\"nanospell-typo\">OMT</span> monitoring solution. For a custom <span class=\"nanospell-typo\">Grafana</span> solution use the appropriate configuration label.</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>",
  "modifiedon": "2025-11-11 09:24:07"
}