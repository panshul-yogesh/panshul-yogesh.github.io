{
  "title": "Prepare persistent volumes for OO Containerized",
  "content": "<div class=\"mw-parser-output\"><p>Operations Orchestration (OO) Containerized installation requires below Persistent Volumes (PVs) and Persistent Volume Claims (PVC). PVs are pieces of storage relevant to NFS volumes, and PVCs are requests for a piece of storage on a volume. </p>\n<p>Currently, the way OO Containerized uses persistent storage is by providing the names of the required PVCs at OO install time via Helm parameters, which means that both PVs and PVCs must be created upfront.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Component</th>\n<th scope=\"col\">Persistent volume name</th>\n<th scope=\"col\">Persistent volume claim name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>OO</td>\n<td><code>oo-config-vol</code></td>\n<td><code>oo-config-pvc</code></td>\n<td>Used for storing configuration files.</td>\n</tr>\n<tr>\n<td>OO</td>\n<td><code>oo-data-vol</code></td>\n<td><code>oo-data-pvc</code></td>\n<td>Used for storing data files.</td>\n</tr>\n<tr>\n<td>OO</td>\n<td><code>oo-logs-vol</code></td>\n<td><code>oo-logs-pvc</code></td>\n<td>Used for storing all logs except OO RAS logs.</td>\n</tr>\n<tr>\n<td>OO</td>\n<td><code>oo-data-export-vol</code></td>\n<td><code>oo-data-export-pvc</code></td>\n<td>Used for storing database exported data before purging.</td>\n</tr>\n<tr>\n<td>OO</td>\n<td><code>oo-ras-logs-vol</code></td>\n<td><code>oo-ras-logs-pvc</code></td>\n<td>Used for storing OO RAS logs.</td>\n</tr>\n</tbody>\n</table>\n<h2>Create persistent volumes</h2>\n<ol>\n<li>Navigate to the OO chart package directory. For example:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>oo-helm-charts-1.x.x+26.x.x/oo-1.x.x+26.x.x/oo-helm-charts/samples/persistent_storage/on_premises/</code></pre>\n</div>\n</li>\n<li>Open the <strong>volumes.yaml</strong><b> </b>file with a text editor, add the below information in each volume template then save the file:\n\t<ul>\n<li>The FQDN of the NFS server.</li>\n<li>The NFS directory path you provided during the creation of the NFS volumes.</li>\n<li>The Storage Class Name that needs to be used with the OO volumes.\n\t\t<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>By default, the <code>storageClassName</code> attribute of the PVs is empty. If you have one or more <code>storageClasses</code> that you want the OO volumes to use, then add the Storage Class Names for each volume. You can use a different Storage Class name for each volume or the same Storage Class Name for all volumes.</div></div></div>\n</li>\n</ul>\n</li>\n<li>Run the following command to create persistent volumes:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>kubectl create -f oo-helm-charts-1.x.x+26.x.x/oo-1.x.x+26.x.x/oo-helm-charts/samples/persistent_storage/on_premises/volumes.yaml</code></pre>\n</div>\n</li>\n<li>Run the following command to verify the volume creation:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>kubectl get pv | grep oo</code></pre>\n</div>\n</li>\n</ol>\n<h2>Create persistent volume claims</h2>\n<ol>\n<li>Navigate to the OO chart package directory. For example:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>cd oo-helm-charts-1.x.x+26.x.x/oo-1.x.x+26.x.x/oo-helm-charts/samples/persistent_storage/on_premises/</code></pre>\n</div>\n</li>\n<li>Open the <strong>claims.yaml</strong><b> </b>file with a text editor, provide the below information in each volume claim template, and then save the file:\n\t<ul>\n<li>The namespace where OO will be deployed. You provided the namespace as part of the preparation step in <a href=\"/doc/423/26.1/ooccreateoodeployment\" title=\"Create a new deployment for OO Containerized\">Create a new deployment for OO</a>.</li>\n<li>The name of the volume the PVC is bound to.</li>\n<li>If you have used a Storage Class Name during the creation of the OO volumes, then provide the name(s) of the Storage Class for each PVC to bind to the corresponding volume.<br/>\n\t\tThe relationship between the OO volume claims and OO volumes is the following:\n\t\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">OO volume claims</th>\n<th scope=\"col\">OO volumes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>oo-config-pvc</td>\n<td>oo-config-vol</td>\n</tr>\n<tr>\n<td>oo-data-pvc</td>\n<td>oo-data-vol</td>\n</tr>\n<tr>\n<td>oo-logs-pvc</td>\n<td>oo-logs-vol</td>\n</tr>\n<tr>\n<td>oo-data-export-pvc</td>\n<td>oo-data-export-vol</td>\n</tr>\n<tr>\n<td>oo-ras-logs-pvc</td>\n<td>oo-ras-logs-vol</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n<li>Run the following command to create persistent volume claims:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>kubectl create -f oo-helm-charts-1.x.x+26.x.x/oo-1.x.x+26.x.x/oo-helm-charts/samples/persistent_storage/on_premises/claims.yaml</code></pre>\n</div>\n</li>\n<li>Run the following command to verify the volume creation:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code> kubectl get pvc -n &lt;oo_namespace&gt;</code></pre>\n</div>\n</li>\n</ol>\n</div>",
  "modifiedon": "2025-11-21 07:15:38"
}