{
  "title": "Database related infrastructure",
  "content": "<div class=\"mw-parser-output\">\n \n\n<p>This topic provides you with the required specifications to configure the database server requirements.</p>\n<p>Operations Platform supports the following databases:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><span class=\"nanospell-typo\">PostgreSQL</span>: This relational database server is required to store data.</li><li style=\"margin-left: 28px; position: relative;\">Oracle: This relational database server is required to store data.\n\t<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>You can choose either <span class=\"nanospell-typo\">PostgreSQL</span> or Oracle as the relational database for storing data. For <span class=\"nanospell-typo\">AWS</span> and Azure, there is no Oracle support. </div></div></div>\n</li></ul>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>In a production environment, use an external <span class=\"nanospell-typo\">PostgreSQL</span> or Oracle database.<br/>\n<br/>\nEmbedded <span class=\"nanospell-typo\">PostgreSQL</span> is supported in non-production and low footprint environments only. </div></div></div>\n<p><span style=\"color: rgb(0, 115, 231); font-family: Roboto, sans-serif; font-size: 24px;\"><span class=\"nanospell-typo\">PostgreSQL</span></span></p>\n<p>Operations Platform supports <span class=\"nanospell-typo\">PostgreSQL</span> database. You can use <span class=\"nanospell-typo\">PostgreSQL</span> database as an embedded database or an external database.</p>\n<p>Embedded <span class=\"nanospell-typo\">PostgreSQL</span> is installed and configured in a separate container during deployment and database files are stored on the <span class=\"nanospell-typo\">NFS</span> server.</p>\n<p>External <span class=\"nanospell-typo\">PostgreSQL</span> is installed on a system that is separate from the control plane and worker nodes. For details to install <span class=\"nanospell-typo\">PostgreSQL</span>, see the <a href=\"https://www.postgresql.org/docs/13/index.html\" target=\"_blank\" title=\"PostgreSQL documentation\"><span class=\"nanospell-typo\">PostgreSQL</span> documentation</a>.</p>\n<p>For external <span class=\"nanospell-typo\">PostgreSQL</span>​​​​​​, you must install <code><span class=\"nanospell-typo\">postgres</span>-<span class=\"nanospell-typo\">contrib</span></code> or <code><span class=\"nanospell-typo\">postgresql</span>&lt;version&gt;-<span class=\"nanospell-typo\">contrib</span></code><strong> </strong>package on the database server depending on the <span class=\"nanospell-typo\">PostgreSQL</span> version you are using.</p>\n<p>For Azure <span class=\"nanospell-typo\">PostgreSQL</span> Flexible Server, you must enable the <code><span class=\"nanospell-typo\">PgBouncer</span></code> polling solution. For more information, see <a href=\"https://learn.microsoft.com/en-us/azure/postgresql/flexible-server/concepts-pgbouncer\" target=\"_blank\" title=\"PgBouncer in Azure Database for PostgreSQL - Flexible Server\"><span class=\"nanospell-typo\">PgBouncer</span> in Azure Database for <span class=\"nanospell-typo\">PostgreSQL</span> - Flexible Server</a>. The <code><span class=\"nanospell-typo\">PgBouncer</span></code> polling solution avoids any slowness you may see in the UI.</p>\n<p>If you are using Operations Platform, use the external <span class=\"nanospell-typo\">PostgreSQL</span> server set up by Operations Platform to create the additional database for the applications.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div><strong> </strong>Use lowercase when creating names for database, <span class=\"nanospell-typo\">schemas</span>, and users, etc in <span class=\"nanospell-typo\">PostgreSQL</span>.  </div></div></div>\n<h3 id=\"Create_certificates_and_set_up_trust\"><a id=\"Set_up_trust_for_PostgreSQL_database\" name=\"Set_up_trust_for_PostgreSQL_database\" title=\"Set up trust for PostgreSQL database\"></a><a id=\"Set-up-trust-for-PostgreSQL-database\" name=\"Set-up-trust-for-PostgreSQL-database\" title=\"Set up trust for PostgreSQL database\"></a>Set up trust for <span class=\"nanospell-typo\">PostgreSQL</span> database</h3>\n<p>It is recommended to enable <span class=\"nanospell-typo\">TLS</span> for databases to provide privacy and data integrity between a client and a server. After you set up your database server to use <span class=\"nanospell-typo\">TLS</span>, obtain the public Certificate Authority (CA) certificate of the CA that issued the database server certificates.</p>\n<h4 id=\"For_AWS\"><a id=\"Set_up_trust_for_PostgreSQL_database_on_AWS\" name=\"Set_up_trust_for_PostgreSQL_database_on_AWS\" title=\"Set up trust for PostgreSQL database on AWS\"></a><a id=\"Set-up-trust-for-PostgreSQL-database-on-AWS\" name=\"Set-up-trust-for-PostgreSQL-database-on-AWS\" title=\"Set up trust for PostgreSQL database on AWS\"></a>Set up trust for <span class=\"nanospell-typo\">PostgreSQL</span> database on <span class=\"nanospell-typo\">AWS</span></h4>\n<p>You can download the <span class=\"nanospell-typo\">RDS</span> certificate from the <a href=\"https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-download-ssl-certificate-for-managed-database\" target=\"_blank\" title=\"AWS location\"><span class=\"nanospell-typo\">AWS</span> location</a>. Scroll down the page and download the <span class=\"nanospell-typo\">SSL</span> certificate - <em>https://s3.amazonaws.com/rds-downloads/<span class=\"nanospell-typo\">rds</span>-ca-2019-root.<span class=\"nanospell-typo\">pem</span></em>. You must save the certificate in <font color=\"#333333\" face=\"Consolas, Menlo, DejaVu Sans Mono, Liberation Mono, monospace\"><span style=\"white-space-collapse: preserve; background-color: rgb(225, 232, 246);\"><span class=\"nanospell-typo\">PEM</span></span></font> format.</p>\n<h4 id=\"Set_up_trust_for_PostgreSQL_database_for Azure \"><a id=\"Set_up_trust_for_PostgreSQL_database_on_Azure\" name=\"Set_up_trust_for_PostgreSQL_database_on_Azure\" title=\"Set up trust for PostgreSQL database on Azure\"></a><a id=\"Set-up-trust-for-PostgreSQL-database-on-Azure\" name=\"Set-up-trust-for-PostgreSQL-database-on-Azure\" title=\"Set up trust for PostgreSQL database on Azure\"></a>Set up trust for <span class=\"nanospell-typo\">PostgreSQL</span> database on Azure </h4>\n<p>You can find the certificate to connect to a <span class=\"nanospell-typo\">PostgreSQL</span> instance on Azure at <em><a data-linktype=\"external\" href=\"https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem\" target=\"_blank\" title=\"DigiCertGlobalRootG2.crt.pem\">DigiCertGlobalRootG2.<span class=\"nanospell-typo\">crt</span>.<span class=\"nanospell-typo\">pem</span></a></em>. Download the <span class=\"nanospell-typo\">PostgreSQL</span> server certificate file and save it in <code><span class=\"nanospell-typo\">PEM</span></code> format on Azure Bastion node. You need this certificate to establish a secure connection.</p>\n<h4 id=\"GKE\"><a id=\"Set_up_trust_for_PostgreSQL_database_on_GCP\" name=\"Set_up_trust_for_PostgreSQL_database_on_GCP\" title=\"Set up trust for PostgreSQL database on GCP\"></a><a id=\"Set-up-trust-for-PostgreSQL-database-on-GCP\" name=\"Set-up-trust-for-PostgreSQL-database-on-GCP\" title=\"Set up trust for PostgreSQL database on GCP\"></a>Set up trust for <span class=\"nanospell-typo\">PostgreSQL</span> database on <span class=\"nanospell-typo\">GCP</span></h4>\n<p>You can download the <span class=\"nanospell-typo\">PostgreSQL</span> server certificate, <code>server-ca.<span class=\"nanospell-typo\">pem</span></code> using <code>Cloud <span class=\"nanospell-typo\">SQL</span></code>. For more information, see <a href=\"https://cloud.google.com/sql/docs/postgres/configure-ssl-instance\" title=\"Configure SSL/TLS certificates\">Configure <span class=\"nanospell-typo\">SSL</span>/<span class=\"nanospell-typo\">TLS</span> certificates</a>. </p>\n<p>Use the full path to this <code>.<span class=\"nanospell-typo\">pem</span></code> file in the <code><span class=\"nanospell-typo\">dbCert</span></code> value while configuring the <code><span class=\"nanospell-typo\">config</span>.<span class=\"nanospell-typo\">json</span></code> file.</p>\n<p>After you get the <span class=\"nanospell-typo\">PostgreSQL</span> server certificate, you may not be able to connect to <span class=\"nanospell-typo\">PostgreSQL</span> with <span class=\"nanospell-typo\">TLS</span> enabled because of a <span class=\"nanospell-typo\">GCP</span> limitation. For more information, see <a href=\"/doc/423/26.1/402-enabletlsonpostgresqlforop#Connect_to_PostgreSQL_for_GCP\" title=\"Connect to PostgreSQL on GCP\">Connect to <span class=\"nanospell-typo\">PostgreSQL</span> on <span class=\"nanospell-typo\">GCP</span></a>.</p>\n<h2><a id=\"Oracle\" name=\"Oracle\" title=\"Oracle\"></a>Oracle</h2>\n<p>Operations Platform supports Oracle.</p>\n<p>Deployment on Azure doesn't support Oracle.</p>\n<p>External Oracle database is installed on the system that's separate from the control plane and worker nodes. For details, see the <a href=\"http://docs.oracle.com/en/database/oracle/oracle-database/12.2/ladbi/index.html\" target=\"_blank\" title=\"Oracle documentation\">Oracle documentation</a>. </p>\n<p>Deployment on <span class=\"nanospell-typo\">AWS</span> does not support Oracle if you use the <span class=\"nanospell-typo\">ITOM</span> Cloud Deployment toolkit to set up <span class=\"nanospell-typo\">AWS</span> infrastructure. However, for <span class=\"nanospell-typo\">AWS</span> infrastructure that is set up manually, you can deploy Operations Platform with Oracle database without <span class=\"nanospell-typo\">TLS</span>.</p>\n<p><strong>Oracle support for <span class=\"nanospell-typo\">AutoPass</span></strong></p>\n<p>To support <span class=\"nanospell-typo\">AutoPass</span> with Oracle database in Operations Platform, create a tenant user in Oracle for <span class=\"nanospell-typo\">AutoPass</span> and grant the required permissions. The <code>&lt;<span class=\"nanospell-typo\">TENANTUSER</span>&gt;</code> value can be set to <code>Provider</code> or any custom name of your choice.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Create a user in Oracle:\n\t<pre><code>CREATE USER &lt;TENANTUSER&gt; IDENTIFIED BY &lt;\"PASSWORD\"&gt; DEFAULT TABLESPACE SYSTEM TEMPORARY TABLESPACE TEMP QUOTA UNLIMITED ON SYSTEM;</code></pre>\n<div>For example: </div>\n<pre><code>CREATE USER Provider IDENTIFIED BY \"qwerty\" DEFAULT TABLESPACE SYSTEM TEMPORARY TABLESPACE TEMP QUOTA UNLIMITED ON SYSTEM;</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<div>Grant permissions to the newly created user:\n\t<pre><code>GRANT \\\"CONNECT\\\",\\\"RESOURCE\\\" TO &lt;TENANTUSER&gt;;</code></pre>\n<div> For example:\n\t<pre><code>GRANT \\\"CONNECT\\\",\\\"RESOURCE\\\" TO Provider;</code></pre>\n<div>This allows the tenant user to connect to Oracle database and create tables.</div>\n</div>\n</div>\n</li></ol>\n</div>",
  "modifiedon": "2026-01-30 14:51:17"
}