{
  "title": "Create the variables file",
  "content": "<div class=\"mw-parser-output\">\n<p>The <code><span class=\"nanospell-typo\">dbinit</span></code> script helps you to install the OPTIC DL <span class=\"nanospell-typo\">Vertica</span> <span class=\"nanospell-typo\">Plugin</span> (<code><span class=\"nanospell-typo\">itom</span>-di-<span class=\"nanospell-typo\">pulsarudx</span></code>) and allows you to create the monitoring user. The <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code> consists of the default values.</p>\n<div>\n<p>The <code><span class=\"nanospell-typo\">dbinit</span>.sh</code> <code><span class=\"nanospell-typo\">genconfig</span></code> option allows you to configure the variables to create objects within <span class=\"nanospell-typo\">Vertica</span> while executing the script. You must run this command for a new deployment scenario where the <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code> file isn't available in the location <code>/<span class=\"nanospell-typo\">usr</span>/local/<span class=\"nanospell-typo\">itom</span>-di-<span class=\"nanospell-typo\">pulsarudx</span>/conf</code>. If you have already run the script earlier and the file exists, you can skip running the command.</p>\n<p>After you install the OPTIC Data Lake <span class=\"nanospell-typo\">Vertica</span> <span class=\"nanospell-typo\">plugin</span>, you are prompted to export the following variables:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">VERTICA</span>_HOME</code></li><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">VERTICA</span>_DBA</code></li><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">VERTICA</span>_DB</code></li><li style=\"margin-left: 28px; position: relative;\"><code><span class=\"nanospell-typo\">VERTICA</span>_MON_USER</code></li></ul>\n<p>The <code><span class=\"nanospell-typo\">dbinit</span>.sh</code> script uses the values from the environment variables and prompts you to type the password.</p>\n<p>If you do not export the environment variables, run the <code><span class=\"nanospell-typo\">dbinit</span>.sh</code> with <code><span class=\"nanospell-typo\">genconfig</span></code> option. The script uses the default values and prompts you to type the password.</p>\n<p>The command generates a file in <code>/<span class=\"nanospell-typo\">usr</span>/local/<span class=\"nanospell-typo\">itom</span>-di-<span class=\"nanospell-typo\">pulsarudx</span>/conf/<span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code>. The script uses the <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code> file. If you want to change the default values, edit the <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code> file. It is recommended to use <code><span class=\"nanospell-typo\">genconfig</span></code> as it supports all the settings that you can configure through <code><span class=\"nanospell-typo\">dbinit</span>.sh</code> script.</p>\n<p>To create the variable file, perform the following steps on the <span class=\"nanospell-typo\">Vertica</span> node where you have installed the RPM: </p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log on to the <span class=\"nanospell-typo\">Vertica</span> node as the <code>root</code> user. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to the location <code>/<span class=\"nanospell-typo\">usr</span>/local/<span class=\"nanospell-typo\">itom</span>-di-<span class=\"nanospell-typo\">pulsarudx</span>/bin.</code></li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to create the configuration file for the variables:<br/>\n<code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> &lt;options&gt;</code><br/>\n<strong>Options usage:</strong> <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> [-h] [-f|--<span class=\"nanospell-typo\">filepath</span>] [-y|--yes]</code>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Option</th>\n<th scope=\"col\">Description</th>\n</tr>\n<tr>\n<td><code>-h</code></td>\n<td>\n<div>Display the script usage or help.</div>\n<div><strong>Usage</strong>: <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> -h</code></div>\n</td>\n</tr>\n<tr>\n<td><code>-y</code>, <code>--yes</code></td>\n<td>Force overwrite. The script prompts you to overwrite an existing configuration file. This option will cause the file to be overwritten.<br/>\n<strong>Usage</strong>: <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> -y </code><br/>\n\t\t\t\tOR<br/>\n<strong>Usage</strong>: <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> --yes</code></td>\n</tr>\n<tr>\n<td><code>-f</code>, <code>--<span class=\"nanospell-typo\">filepath</span></code></td>\n<td>The default configuration file location - <code>/<span class=\"nanospell-typo\">usr</span>/local/<span class=\"nanospell-typo\">itom</span>-di-pulsar-<span class=\"nanospell-typo\">udx</span>/conf/<span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code>. However, if you want to generate a configuration file in a different location you can use this option.<br/>\n<strong>Usage</strong>: <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> -f /<span class=\"nanospell-typo\">tmp</span>/my_conf.<span class=\"nanospell-typo\">yaml</span> </code><br/>\n\t\t\t\tOR<br/>\n<strong>Usage</strong>: <code>./<span class=\"nanospell-typo\">dbinit</span>.sh <span class=\"nanospell-typo\">genconfig</span> --<span class=\"nanospell-typo\">filepath</span> /<span class=\"nanospell-typo\">tmp</span>/my_conf.<span class=\"nanospell-typo\">yaml</span></code></td>\n</tr>\n</thead>\n</table>\n</li></ol>\n<p>A <code><span class=\"nanospell-typo\">dbinit</span>_conf_sample.<span class=\"nanospell-typo\">yaml</span></code> file is available in the location <code>/<span class=\"nanospell-typo\">usr</span>/local/<span class=\"nanospell-typo\">itom</span>-di-<span class=\"nanospell-typo\">pulsarudx</span>/conf</code>.<br/>\n </p>\n<p>You can edit the <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code>, parameters, and values as required. The following tables explain the environment variables and the default values:</p>\n<p><strong>global</strong></p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Description</th>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">verticaAdminUser</span></code></td>\n<td>\n<div>Database administrator <span class=\"nanospell-typo\">username</span>.<br/>\n<strong>Default value</strong> - <code><span class=\"nanospell-typo\">dbadmin</span></code></div>\n</td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">verticaDatabase</span></code></td>\n<td><span class=\"nanospell-typo\">Vertica</span> database name used by OPTIC DL.<br/>\n<strong>Default value</strong> - <code><span class=\"nanospell-typo\">itomdb</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">verticaHome</span></code></td>\n<td><span class=\"nanospell-typo\">Vertica</span> install location.<br/>\n<strong>Default value</strong> - <code>/opt/<span class=\"nanospell-typo\">vertica</span></code></td>\n</tr>\n<tr>\n<td><code><span class=\"nanospell-typo\">verticaMonitoringUser</span></code></td>\n<td>\n<p>Database monitoring <span class=\"nanospell-typo\">username</span>.</p>\n<p><strong>Default value</strong> - <code><span class=\"nanospell-typo\">vertica</span>_<span class=\"nanospell-typo\">monuser</span></code></p>\n</td>\n</tr>\n</thead>\n</table>\n<p>Example <code><span class=\"nanospell-typo\">dbinit</span>_conf.<span class=\"nanospell-typo\">yaml</span></code></p>\n<pre><code>global:\n    verticaAdminUser:\n        value: dbadmin\n        comment: The database administrator\n    verticaDatabase:\n        value: itomdb\n        comment: The Vertica database used by OPTIC DL.\n    verticaHome:\n        value: /opt/vertica\n        comment: Path where Vertica was installed\n    verticaMonitoringUser:\n        value: vertica_monuser\n        comment: The Vertica monitoring user</code></pre>\n</div>\n</div>",
  "modifiedon": "2026-01-30 13:44:08"
}