{
  "title": "Create my-values.yaml (GCP)",
  "content": "<div class=\"mw-parser-output\"><br/><p>You need to create a <strong>my-</strong><b>values.yaml</b> file with the configuration information for your UD/UCMDB deployment in the bastion node.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">When creating your my-values.yaml file, keep the following in mind:\n<ul>\n<li>You need to set the <strong>global.externalAccessPort</strong> parameter to the port for UD/UCMDB.</li>\n<li>You need to set the <strong>global.externalAccessHost</strong> parameter to the FQDN for UD/UCMDB.</li>\n</ul>\n</div>\n</div>\n<h2>Create and configure my-values.yaml</h2>\n<p>You can create and configure a custom<strong> </strong><strong>my-</strong><b>values.yaml </b>file based on the sample file (values.yaml) provided in the chart package.</p>\n<ol>\n<li>\n<p>Create a copy of the sample file.</p>\n<pre>cp UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/samples/values.yaml my-values.yaml</pre>\n</li>\n<li>\n<p>Edit the <b>my-values.yaml</b> file using any editor and provide the required values in the file.</p>\n</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">This <b>my-values.yaml</b> file contains critical configuration information. Many administrative operations are based on this file, for example, UD/UCMDB version upgrade, and enabling TLS connection to databases. The file must be securely stored and backed up regularly.</div>\n</div>\n<h2>Configurable parameters</h2>\n<p>The configurable parameters supported by the UD/UCMDB chart are grouped into the following categories.</p>\n<h3>Generic parameters</h3>\n<span id=\"cke_bm_2033S\" style=\"display: none;\"> </span><span id=\"cke_bm_2033E\" style=\"display: none;\"> </span>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>acceptEula</td>\n<td>Yes</td>\n<td>You must accept the end-user license agreements to deploy UD/UCMDB</td>\n<td>false</td>\n<td>true</td>\n</tr>\n<tr>\n<td>global.docker.registry</td>\n<td>Yes</td>\n<td>\n<div>Artifact Registry where UD/UCMDB docker images are stored</div>\n</td>\n<td>localhost:5000</td>\n<td>us-west2-docker.pkg.dev</td>\n</tr>\n<tr>\n<td>global.docker.orgName</td>\n<td>Yes</td>\n<td>Artifact Registry organization name</td>\n<td>hpeswitom</td>\n<td>hpeswitom</td>\n</tr>\n<tr>\n<td>global.securityContext.user</td>\n<td>No</td>\n<td>\n<p>This parameter specifies the operating system user ID that's used to run the process in the container. The value of this parameter and the ID of the NFS folder owner must be the same. </p>\n<p><strong>Note:</strong> The value can't be changed after installation.</p>\n</td>\n<td>1999</td>\n<td>100001</td>\n</tr>\n<tr>\n<td>global.securityContext.fsGroup</td>\n<td>No</td>\n<td>\n<p>This parameter specifies the operating system group ID that's used to run the process in the container. </p>\n<p><strong>Note:</strong> The value can't be changed after installation.</p>\n</td>\n<td>1999</td>\n<td>200001</td>\n</tr>\n<tr>\n<td>global.nodeSelector</td>\n<td>No</td>\n<td>\n<p>This parameter specifies the nodes to run the process in the container. Set the corresponding node selector tags if you want the UD/UCMDB services to run only on the specified nodes.</p>\n<p>The label of the UD/UCMDB worker node specified here must be the same as the one when you <a href=\"/doc/423/26.1/403-ucmdbgcpcluster\" title=\"Launch EKS cluster worker nodes for UD/UCMDB\">Create a node pool for UD/UCMDB</a>.</p>\n</td>\n<td>Worker: label</td>\n<td>Worker: ucmdb</td>\n</tr>\n</tbody>\n</table>\n<h3>Networking parameters</h3>\n<p>The networking configuration parameters are set by Load Balancer for accessing the UD/UCMDB application user interfaces. Make sure you allocate an FQDN for UD/UCMDB (for example, via <a href=\"/doc/423/26.1/403-ucmdbgcpsetip\" title=\"AWS route 53 services\">Set up IP and external access hostname</a>) if you don't have one, and prepare a new certificate for this FQDN.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>global.externalAccessHost</td>\n<td>Yes</td>\n<td>Set the value to the FQDN of the load balancer.</td>\n<td></td>\n<td>ucmdb.example.com</td>\n</tr>\n<tr>\n<td>global.externalAccessPort</td>\n<td>Yes</td>\n<td>Set the value to the listening port on the load balancer for accessing the UD/UCMDB application user interfaces.</td>\n<td>30443</td>\n<td>443</td>\n</tr>\n<tr>\n<td>itom-ingress-controller.nginx.service.external.httpsPort</td>\n<td>Yes</td>\n<td>\n<p>Set it to a value that doesn't conflict with other applications deployed in the same cluster. For example, if SMAX and UD/UCMDB are deployed in the same cluster, this parameter must be set to a value different than SMAX.</p>\n<p>The range of valid ports is <strong>30000-32767</strong>.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in the <strong>my-values.yaml</strong> file.</p>\n</td>\n<td></td>\n<td>30443</td>\n</tr>\n<tr>\n<td>\n<p>itom-ingress-controller.nginx.service.external.type</p>\n</td>\n<td>Yes</td>\n<td>\n<p>Set the value to <strong>''NodePort'</strong> for the managed Kubernetes deployment.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in the <strong>my-values.yaml</strong> file.</p>\n</td>\n<td></td>\n<td>\n<p>NodePort</p>\n</td>\n</tr>\n<tr>\n<td>itom-ingress-controller.nginx.service.internal.type</td>\n<td>Yes</td>\n<td>\n<p>Set the value to <strong>''NodePort'</strong> for the managed Kubernetes deployment.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in the <strong>my-values.yaml</strong> file.</p>\n</td>\n<td></td>\n<td>NodePort</td>\n</tr>\n<tr>\n<td>itom-ingress-controller.nginx.service.internal.enable</td>\n<td>Yes</td>\n<td></td>\n<td>true</td>\n<td></td>\n</tr>\n<tr>\n<td>itom-ingress-controller.nginx.service.internal.httpsPort</td>\n<td>Yes</td>\n<td>\n<p>Set it to a value that doesn't conflict with other applications deployed in the same cluster. For example, if SMAX and UD/UCMDB are deployed in the same cluster, this parameter must be set to a value different than SMAX.</p>\n<p>The range of valid ports is <strong>30000-32767</strong>.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in the <strong>my-values.yaml</strong> file.</p>\n</td>\n<td>30445</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3>Database parameters</h3>\n<p>Configure the following database parameters.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>global.database.host</td>\n<td>Yes</td>\n<td>Database server host name</td>\n<td></td>\n<td>db.example.com</td>\n</tr>\n<tr>\n<td>global.database.port</td>\n<td>Yes</td>\n<td>Database server port</td>\n<td></td>\n<td>5432</td>\n</tr>\n<tr>\n<td>ucmdbserver.deployment.database.user</td>\n<td>Yes</td>\n<td>UCMDB database user</td>\n<td>ucmdb</td>\n<td>ucmdb</td>\n</tr>\n<tr>\n<td>ucmdbserver.deployment.database.dbName</td>\n<td>Yes</td>\n<td>UCMDB database name</td>\n<td>ucmdb</td>\n<td>ucmdb_db</td>\n</tr>\n<tr>\n<td>ucmdbserver.deployment.database.schema</td>\n<td>Yes</td>\n<td>UCMDB database schema</td>\n<td>ucmdb</td>\n<td>ucmdb_schema</td>\n</tr>\n<tr>\n<td>autopass.deployment.database.user</td>\n<td>Yes</td>\n<td>AutoPass database user</td>\n<td>autopass</td>\n<td>ucmdb_autopass</td>\n</tr>\n<tr>\n<td>autopass.deployment.database.dbName</td>\n<td>Yes</td>\n<td>AutoPass database name</td>\n<td>autopass</td>\n<td>ucmdb_autopass_db</td>\n</tr>\n<tr>\n<td>autopass.deployment.database.schema</td>\n<td>No</td>\n<td>AutoPass database schema</td>\n<td>public</td>\n<td>ucmdb_autopass_schema</td>\n</tr>\n<tr>\n<td>idm.deployment.database.user</td>\n<td>Yes</td>\n<td>IdM database user</td>\n<td>idm</td>\n<td>ucmdb_idm</td>\n</tr>\n<tr>\n<td>idm.deployment.database.dbName</td>\n<td>Yes</td>\n<td>IdM database name</td>\n<td>idm</td>\n<td>ucmdb_idm_db</td>\n</tr>\n<tr>\n<td>idm.deployment.database.schema</td>\n<td>No</td>\n<td>IdM database schema</td>\n<td>public</td>\n<td>ucmdb_idm_schema</td>\n</tr>\n</tbody>\n</table>\n<h4>TLS parameters for external PostgreSQL</h4>\n<p>If you want to connect to the external PostgreSQL by using TLS, configure the following parameters:</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td>global.database.tlsEnabled</td>\n<td>No</td>\n<td>\n<p>Enable TLS connection to database server.</p>\n<p>Set it to <strong>true </strong>if you want to enable TLS.</p>\n</td>\n<td>false</td>\n<td><b>true</b></td>\n</tr>\n<tr>\n<td>caCertificates</td>\n<td>No</td>\n<td>The content of the database server CA certificate<br/>\n\t\t\tencoded by base64.\n\t\t\t<p>If your certificate isn't base-64 encoded, run the following <br/>\n\t\t\tcommand on a Linux system to encode the CA certificate</p>\n<code>base64 &lt; pg-ca.pem</code></td>\n<td></td>\n<td>\n<pre><code>caCertificates:\n  database.crt: |\n    &lt;certificate content base64 encoded&gt;</code></pre>\n<p>See the screenshot below this table.</p>\n</td>\n</tr>\n<tr>\n<td>ucmdbserver.deployment.<br/>\n\t\t\tdatabase.tlsCert</td>\n<td>No</td>\n<td>\n<p>(Required when <b>tlsEnabled </b>is <b>true</b>) The name of the key for<br/>\n\t\t\tthe PostgreSQLcertificate defined in the<br/>\n\t\t\t <b>caCertificates</b> parameter.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in<br/>\n\t\t\tthe <strong>my-values.yaml</strong> file.</p>\n</td>\n<td></td>\n<td>\n<p> <code>database.crt</code></p>\n</td>\n</tr>\n<tr>\n<td>ucmdbprobe.deployment.<br/>\n\t\t\tdatabase.tlsCert</td>\n<td>No</td>\n<td>\n<p>(Required when <b>tlsEnabled </b>is <b>true</b>) The name of the key for<br/>\n\t\t\tthe external PostgreSQL database certificate defined<br/>\n\t\t\tin the <b>caCertificates </b>parameter.</p>\n<p><strong>Note</strong>: You need to manually insert this parameter in<br/>\n\t\t\tthe <strong>my-values.yaml</strong> file.</p>\n</td>\n<td></td>\n<td><code>probe-postgresql.crt</code></td>\n</tr>\n</thead>\n</table>\n<div><a class=\"image\" href=\"\"> <img alt=\"db cert\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/2/27/cms_values_yaml_certificate-db.png\" height=\"461\" hspace=\"0\" src=\"../../../images/cms_values_yaml_certificate-db_344b9991.png\" vspace=\"0\" width=\"627\"/> </a></div>\n<h4>Data Flow Probe database parameters</h4>\n<p>If you plan to deploy UD/UCMDB with the containerized Data Flow Probe, you need to configure the following database parameters; otherwise, skip them.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ucmdbprobe.deployment.database.probeEmbeddedDb</td>\n<td>No</td>\n<td>\n<ul>\n<li><b>true</b> (default): The PostgreSQL database embedded in the containerized Data Flow Probe is used</li>\n<li><b>false</b>: The external PostgreSQL database is used by the containerized Data Flow Probe </li>\n</ul>\n</td>\n<td>true</td>\n<td>false</td>\n</tr>\n<tr>\n<td>ucmdbprobe.deployment.database.user</td>\n<td>No</td>\n<td>Data Flow Probe database user. Do not set it if <strong>probeEmbeddedDb</strong> is <strong>true</strong>.</td>\n<td>probe</td>\n<td>ucmdb_probe</td>\n</tr>\n<tr>\n<td>ucmdbprobe.deployment.database.dbName</td>\n<td>No</td>\n<td>Data Flow Probe database name. Do not set it if <strong>probeEmbeddedDb</strong> is <strong>true</strong>.</td>\n<td>dataflowprobe</td>\n<td>ucmdb_probe_db</td>\n</tr>\n<tr>\n<td>ucmdbprobe.deployment.database.schema</td>\n<td>No</td>\n<td>Data Flow Probe database schema. Do not set it if <strong>probeEmbeddedDb</strong> is <strong>true</strong>.</td>\n<td>probe</td>\n<td>probe</td>\n</tr>\n</tbody>\n</table>\n<h3>Persistence parameters</h3>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>global.persistence.enabled</td>\n<td>No</td>\n<td>Enables dynamic PVC creation.<br/>\n\t\t\t <br/>\n\t\t\tIn production environments, this parameter must be set to <b>true</b>.</td>\n<td>true</td>\n<td>true</td>\n</tr>\n<tr>\n<td>global.persistence.dataVolumeName</td>\n<td>No</td>\n<td>\n<p>Persistent volume (PV) for storing UD/UCMDB data files.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">In this release, you must uncomment this parameter with the default value in <strong>my-values.yaml </strong>to explicitly specify <code>dataVolumeName: ucmdb-data-volume</code></div>\n</div>\n</td>\n<td>ucmdb-data-volume</td>\n<td>ucmdb-data-volume</td>\n</tr>\n<tr>\n<td>global.persistence.configVolumeName</td>\n<td>No</td>\n<td>\n<p>Persistent volume (PV) for storing UD/UCMDB configuration files.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">In this release, you must uncomment this parameter with the default value in <strong>my-values.yaml </strong>to explicitly specify <code>configVolumeName: ucmdb-config-volume</code></div>\n</div>\n</td>\n<td>ucmdb-config-volume</td>\n<td>ucmdb-config-volume</td>\n</tr>\n<tr>\n<td>global.persistence.logVolumeName</td>\n<td>No</td>\n<td>\n<p>Persistent volume (PV) for storing UD/UCMDB log files.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">In this release, you must uncomment this parameter with the default value in <strong>my-values.yaml </strong>to explicitly specify <code>logVolumeName: ucmdb-log-volume</code></div>\n</div>\n</td>\n<td>ucmdb-log-volume</td>\n<td>ucmdb-log-volume</td>\n</tr>\n<tr>\n<td>global.persistence.dataVolumeStorageClassName</td>\n<td>Yes</td>\n<td>\n<p>The storage class name of the automatically created PVC for UD/UCMDB data files.</p>\n<p>The value must be the same as the storageClassName defined in the corresponding PV. For example, if you specify the storage class name as \"gp2\" in <strong>ucmdb-pv.yaml </strong>when creating the PV, use the same value \"gp2\" here.</p>\n</td>\n<td></td>\n<td>gp2</td>\n</tr>\n<tr>\n<td>global.persistence.configVolumeStorageClassName</td>\n<td>Yes</td>\n<td>\n<p>The storage class name of the automatically created PVC for UD/UCMDB configuration files. </p>\n<p>The value must be the same as the storageClassName defined in the corresponding PV. For example, if you specify the storage class name as \"gp2\" in <strong>ucmdb-pv.yaml </strong>when creating the PV, use the same value \"gp2\" here.</p>\n</td>\n<td></td>\n<td>gp2</td>\n</tr>\n<tr>\n<td>global.persistence.logVolumeStorageClassName</td>\n<td>Yes</td>\n<td>\n<p>The storage class name of the automatically created PVC for UD/UCMDB log files. </p>\n<p>The value must be the same as the storageClassName defined in the corresponding PV. For example, if you specify the storage class name as \"gp2\" in <strong>ucmdb-pv.yaml </strong>when creating the PV, use the same value \"gp2\" here.</p>\n</td>\n<td></td>\n<td>gp2</td>\n</tr>\n<tr>\n<td>global.persistence.dataVolumeSize</td>\n<td>No</td>\n<td>The requested storage size of the automatically created PVC for UD/UCMDB data files.</td>\n<td>5G</td>\n<td></td>\n</tr>\n<tr>\n<td>global.persistence.configVolumeSize</td>\n<td>No</td>\n<td>The requested storage size of the automatically created PVC for UD/UCMDB configuration files.</td>\n<td>5G</td>\n<td></td>\n</tr>\n<tr>\n<td>global.persistence.logVolumeSize</td>\n<td>No</td>\n<td>The requested storage size of the automatically created PVC for UD/UCMDB log files.</td>\n<td>5G</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3>UD/UCMDB deployment parameters</h3>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td>global.size</td>\n<td>Yes</td>\n<td>Deployment size of UD/UCMDB application (small/medium/large)</td>\n<td>small</td>\n<td>small</td>\n</tr>\n<tr>\n<td>global.cms.timeZone</td>\n<td>No</td>\n<td>The time zone used in timestamps of messages produced in UD/UCMDB log files.<br/>\n\t\t\t <br/>\n\t\t\tThe time zones have unique names in the form <b>Area/Location</b>. The supported values are described in this web site: <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" title=\"List of tz database time zones\">List of tz database time zones</a>.</td>\n<td>UTC</td>\n<td>Asia/Shanghai</td>\n</tr>\n<tr>\n<td>global.cms.deployProbe</td>\n<td>No</td>\n<td>\n<p>Deploy the Data Flow Probe in the OMT cluster if <b>true</b>.</p>\n</td>\n<td>\n<p> true</p>\n</td>\n<td>false</td>\n</tr>\n<tr>\n<td>global.cms.deployGateway</td>\n<td>No</td>\n<td>\n<p>Deploy the UCMDB Gateway in the OMT cluster if <b>true</b>.</p>\n<p>By default, this parameter isn't listed in the sample file, and the system uses the default value (<strong>true</strong>). This is because the component is required when you deploy UD/UCMDB with OpenText Service Management. Don't manually set this parameter to <strong>false</strong>.</p>\n</td>\n<td>true</td>\n<td>true</td>\n</tr>\n<tr>\n<td>global.cms.deployDownloader</td>\n<td>No</td>\n<td>\n<p>Deploy the Data Flow Probe installers, the UCMDB Local Client tool installers, and the UCMDB API Client jar files for downloading in the OMT cluster if <strong>true</strong>. </p>\n<p>By default, this parameter isn't listed in the sample file, and the system uses the default value (<strong>true</strong>). It's recommended that you keep the default value and deploy the components without manually setting the parameter to <strong>false</strong>.</p>\n</td>\n<td>\n<p> true</p>\n</td>\n<td>true</td>\n</tr>\n<tr>\n<td>global.cms.deploySolr</td>\n<td>No</td>\n<td>\n<p>Deploy the embedded SOLR service in the OMT cluster if <strong>true</strong>.</p>\n</td>\n<td>\n<p> true</p>\n</td>\n<td>true</td>\n</tr>\n<tr>\n<td>ucmdbserver.deployment.solrUrl</td>\n<td>No</td>\n<td>\n<p>The SOLR URL used by UCMDB Server.</p>\n</td>\n<td></td>\n<td></td>\n</tr>\n</thead>\n</table>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}