{
  "title": "Generate vault secrets (GCP)",
  "content": "<div class=\"mw-parser-output\"><br/><br/><h2>Generate vault secrets for the UD/UCMDB charts</h2>\n<p>Perform the following tasks to generate vault secrets for the UD/UCMDB charts:</p>\n<ol>\n<li>\n<p>On the bastion node, navigate to the OMT installation directory:</p>\n<pre>cd OMT_External_K8s_2x.x-xxx/scripts/</pre>\n</li>\n<li>\n<p>Run the following command to generate vault secrets:</p>\n<pre>./gen_secrets.sh -n &lt;<em>UD/UCMDB NAMESPACE</em>&gt; -c &lt;<em>UD/UCMDB CHART FILE</em>&gt; -o &lt;<em>SECRETS YAML FILE</em>&gt;</pre>\n<p>Where:</p>\n<ul>\n<li>\n<p><code>&lt;<i>UD/UCMDB NAMESPACE</i>&gt;</code> is the unique namespace of the UD/UCMDB deployment. Use the namespace that you specified in the \"Create a new deployment for UD/UCMDB\" topic.</p>\n</li>\n<li>\n<p><code>&lt;<em>UD/UCMDB CHART FILE</em>&gt; </code>is the tar file containing the UD/UCMDB installation charts.</p>\n</li>\n<li>\n<p><code>&lt;<em>SECRETS YAML FILE</em>&gt;</code> is the YAML file that stores the UD/UCMDB secrets. Specify the file name (for example, <strong>uducmdb-secrets.yaml</strong>), and then the script will generate this YAML file after you run the script. You will need to use this file when you run the command to install UD/UCMDB later.</p>\n</li>\n</ul>\n<p>For example:</p>\n<pre>./gen_secrets.sh -n ucmdb-prod -c UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/charts/ucmdb-1.xx.x-xxx+2x.x.x.tgz -o uducmdb-secrets.yaml</pre>\n</li>\n<li>\n<p>The Vault secret utility will prompt you for the following passwords.</p>\n<table class=\"Table\" style=\"border-collapse:collapse\">\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Key</p>\n</th>\n<th scope=\"col\">\n<p>Required?</p>\n</th>\n<th scope=\"col\">\n<p>Description</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>ITOM_DB_PASSWD_KEY</p>\n</td>\n<td>\n<p>No</p>\n</td>\n<td>\n<p>Enter an arbitrary value conforming to the password policy to pass the check by the script.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>idm_db_password</p>\n</td>\n<td>\n<p>Yes</p>\n</td>\n<td>\n<p>IdM database password.</p>\n<p>Enter the password that you used when you created the database. See <a href=\"/doc/ucmdb_containerized/main/cmslaunchrds#Set_up_a_PostgreSQL_database_for_CMS_on_the_RDS_instance\" title=\"Create UD/UCMDB database users and databases\">Create UD/UCMDB database users and databases</a>.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>idm_admin_admin_password</p>\n</td>\n<td>Yes</td>\n<td>\n<p>UD/UCMDB admin user password.</p>\n<p>Specify the password of the UD/UCMDB OOTB user <strong>admin </strong>to access UD/UCMDB after installation.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>idm_sysadmin_admin_password</p>\n</td>\n<td>\n<p>Yes</p>\n</td>\n<td>\n<p>UD/UCMDB sysadmin user password.</p>\n<p>Specify the password of the UD/UCMDB OOTB user <strong>sysadmin </strong>to access UD/UCMDB after installation.</p>\n</td>\n</tr>\n<tr>\n<td>idm_audit_integration_password</td>\n<td>No</td>\n<td>\n<p>IdM audit integration password.</p>\n<p>Press <strong>Enter </strong>to get a random value and continue.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>autopass_db_password</p>\n</td>\n<td>\n<p>Yes</p>\n</td>\n<td>\n<p>Autopass database password.</p>\n<p>Enter the password that you used when you created the database. See <a href=\"/doc/ucmdb_containerized/main/cmslaunchrds#Set_up_a_PostgreSQL_database_for_CMS_on_the_RDS_instance\" title=\"Create UD/UCMDB database users and databases\">Create UD/UCMDB database users and databases</a>.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>ucmdb_server_db_password</p>\n</td>\n<td>\n<p>Yes</p>\n</td>\n<td>\n<p>UCMDB Server database password.</p>\n<p>Enter the password that you used when you created the database. See <a href=\"/doc/ucmdb_containerized/main/cmslaunchrds#Set_up_a_PostgreSQL_database_for_CMS_on_the_RDS_instance\" title=\"Create UD/UCMDB database users and databases\">Create UD/UCMDB database users and databases</a>.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>ucmdb_master_key</p>\n</td>\n<td>\n<p>No</p>\n</td>\n<td>\n<p>UCMDB master key.</p>\n<p>Press <strong>Enter</strong> to get a random value and continue.</p>\n<p>This key is required only if you're reinstalling UD/UCMDB with an existing UD/UCMDB database that is used by the previous UD/UCMDB installation.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>ucmdb_probe_pg_probe_password</p>\n</td>\n<td>\n<p>Yes if you deploy a probe</p>\n</td>\n<td>\n<p>Data flow probe database password.</p>\n<p>Enter the password that you used when you created the database. See <a href=\"/doc/ucmdb_containerized/main/cmslaunchrds#Set_up_a_PostgreSQL_database_for_CMS_on_the_RDS_instance\" title=\"Create UD/UCMDB database users and databases\">Create UD/UCMDB database users and databases</a>.</p>\n</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}