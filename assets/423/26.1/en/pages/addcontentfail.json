{
  "title": "Fail to add a content group",
  "content": "<div class=\"mw-parser-output\">\n<p>The following error message is displayed after you click <b>Add New Content Group</b>:</p>\n<p><code>\"Failed to add a content group, you can try again later.\"</code></p>\n<p class=\"mw-headline\">The possible causes for the error and their solutions are described in the following sections.</p>\n<h2 class=\"mw-headline\" id=\"Possible_causes\">Possible causes</h2>\n<h3>Cause 1: PV and PVC resources for content groups are exhausted</h3>\n<p>Follow these steps to determine the cause:</p>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and run the following command to get the pod name of smarta-installer:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; | grep installer</code></pre>\n</li>\n<li>Run the following command to access the installer's log:\n\t<pre><code>kubectl logs &lt;installer pod name&gt; -n &lt;namespace&gt; -c suite-config </code></pre>\n</li>\n<li>You can find <code>\"Failed to scale out content, roll back successfully.\"</code> in the log.</li>\n</ol>\n<h3>Cause 2: DIH server error</h3>\n<p>Follow these steps to determine the cause:</p>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and run the following command to get the pod name of smarta-installer:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; | grep installer</code></pre>\n</li>\n<li>Run the following command to access the installer's log:\n\t<pre><code>kubectl logs &lt;installer pod name&gt; -n &lt;namespace&gt; -c suite-config </code></pre>\n</li>\n<li>You can find \"Scale content group failed, Please check dih server status and configurations.\" in the log.</li>\n</ol>\n<h3>Cause 3: contents aren't redistributed properly</h3>\n<p>Follow these steps to determine the cause:</p>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and run the following command to get the pod name of smarta-installer:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; | grep installer</code></pre>\n</li>\n<li>Run the following command to access the installer's log:\n\t<pre><code>kubectl logs &lt;installer pod name&gt; -n &lt;namespace&gt; -c suite-config </code></pre>\n</li>\n<li>You can find <code>\"Error occurred during sending REDISTRIBUTE to DIH. Please check DIH status.\"</code> in the log.</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Solution\">Solution</h2>\n<h3 class=\"mw-headline\" id=\"Solution_for_cause_1\">Solution for cause 1</h3>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, run the following command to delete the PVCs in <b>Pending</b> status with the following command:\n\n\t<pre>kubectl delete pvc itsma-smarta-saw-con-x -n &lt;namespace&gt;\nkubectl delete pvc itsma-smarta-saw-con-a-x -n &lt;namespace&gt;</pre>\n<p>For example,</p>\n<pre>kubectl delete pvc itsma-smarta-saw-con-6 -n itsma1\nkubectl delete pvc itsma-smarta-saw-con-a-6 -n itsma1</pre>\n</li>\n<li>Manually create the PV and PVC. For details, see <a href=\"/doc/423/26.1/pvcontent\" title=\"SMAX:25.1/PVContent\">create PV and PVC for content groups</a>.</li>\n</ol>\n<h3 class=\"mw-headline\" id=\"Solution_for_cause_2\">Solution for cause 2</h3>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and run the following command to check the StatefulSet and make a note the StatefulSet number in the command output:\n\t<pre><code>kubectl get sts -n &lt;namespace&gt; | grep smarta-saw-con</code></pre>\n</li>\n<li>Log in to the NFS server, run the following command to access the Smart Analytics config folder:\n\t<pre><code>cd &lt;config volume NFS folder&gt;/idol</code></pre>\n<p>For example,</p>\n<pre><code>cd /var/vols/itom/itsma/config-volume/idol</code></pre>\n</li>\n<li>Run the <code>vim count</code> command to open the count file.</li>\n<li>Make sure the number of sawContent in group is the same as the number in the StatefulSet.</li>\n<li>Log in to the control plane node and run the following command to get the pod name of smarta-saw-con-dih:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; | grep saw-dih</code></pre>\n</li>\n<li>Run the following command to restart DIH:\n\t<pre><code>kubectl delete pod &lt;dih pod name&gt; -n &lt;namespace&gt;\n</code></pre>\n</li>\n<li>Run the following command to get the pod name of smarta-saw-con-dah:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; | grep saw-dah</code></pre>\n</li>\n<li>Run the following command to restart DAH:\n\t<pre><code>kubectl delete pod &lt;dah pod name&gt; -n &lt;namespace&gt;</code></pre>\n</li>\n<li>Try to add a content group again.</li>\n<li>If the displayed capacity is incorrect after adding a content group, you need to redistribute the content.</li>\n<li>Log in to a control plane node as root or a sudo user, and check if smarta-saw-dih is running and ready.</li>\n<li>Run the following command to view the dih pod status, and make a note the pod's IP in the command output:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; -o wide | grep saw-dih </code></pre>\n</li>\n<li>Run the following command to redistribute, and make a note of the Index ID in the command output:\n\t<pre><code>curl \"https://&lt;pod IP&gt;:1444/DREREDISTRIBUTE?NoArchive=True&amp;BatchSize=500&amp;Compress=false&amp;Delete=true&amp;KillDuplicates=true\"</code></pre>\n</li>\n<li>Log in to Suite Administration, click <b>Configurations</b>, in <b>Smart Analytics</b> tab, click <b>Go to Smart Analytics</b>. In Smart Analytics Assistant, double-click XService DIH, enter the following action and click <b>RUN</b> to check the job status.\n\t<pre><code>https://smarta-saw-dih-svc:1443/action=indexergetstatus&amp;index=&lt;IndexID&gt;</code></pre>\n</li>\n</ol>\n<h3 class=\"mw-headline\" id=\"Solution_for_cause_3\">Solution for cause 3</h3>\n<div class=\"transcontent stn-begin--REDISTRIBUTE\"> </div>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and check if smarta-saw-dih is running and ready.</li>\n<li>Run the following command to view the dih pod status, make sure the dih pod is running and make a note of the IP of the pod in the command output:\n\t<pre><code>kubectl get pods -n &lt;namespace&gt; -o wide | grep saw-dih </code></pre>\n</li>\n<li>Run the following command to redistribute, and make a note the Index ID in the command output:\n\t<pre><code>curl \"https://&lt;pod IP&gt;:1444/DREREDISTRIBUTE?NoArchive=True&amp;BatchSize=500&amp;Compress=false&amp;Delete=true&amp;KillDuplicates=true\"</code></pre>\n</li>\n<li>Log in to Suite Administration, click <b>Configurations</b>, in <b>Smart Analytics</b> tab, click <b>Go to Smart Analytics</b>.</li>\n<li>In Smart Analytics Assistant, double-click <strong>XService DIH</strong>, enter the action <code>https://smarta-saw-dih-svc:1443/action=indexergetstatus&amp;index=&lt;IndexID&gt;</code>, and click <b>RUN</b> to check the job status.</li>\n</ol>\n<div class=\"transcontent stn-end--REDISTRIBUTE\"> </div>\n<p><span id=\"cke_bm_9540C\" style=\"display: none;\"> </span></p>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}