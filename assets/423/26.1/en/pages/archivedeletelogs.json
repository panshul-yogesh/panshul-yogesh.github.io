{
  "title": "Clean up log files",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>You may find that the size of logs on your file storage, especially the &lt;logging-volume&gt; folder, keeps growing. For example, the size of the &lt;logging-volume&gt; folder may reach 120 GB after the suite has been running for a few days. To reduce the log size, you can safely remove or archive old log files in the log folders while the suite is running.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-caution-icon\"></div>\n<div class=\"admonition-content admonition-caution-content\">Don't remove the newest logs. For example, don't remove the newest logs by running a cron job every day. If you do so, after the system opens a log file and attempts to write information to the log file but the file is deleted,  a potential memory leak will take place. As a result, the system can't work normally several days later. </div>\n</div>\n<h2>How to delete log files from a log folder</h2>\n<p>You can delete log files that are older than certain days (for example, 60 days) from your file storage. To do this, run the following command on the file storage server:</p>\n<pre>nohup find {log folder} -type f -atime +{day} -mtime +{day}  -ctime +{day}  -exec stat '{}' \\+ , -type f -atime +{day} -mtime +{day}  -ctime +{day}  -exec rm -f '{}' \\+ &gt; {output.log} &amp;</pre>\n<p>Where:</p>\n<ul>\n<li>{log folder}: is the folder from which you want to delete the log files that meet the specified condition</li>\n<li>{day}: specify the same value (in days) for the atime, mtime, and ctime parameters:\n\t<ul>\n<li><code>mtime</code>: modification time, the time when the file was last modified. When the content of a file changes, its mtime changes.</li>\n<li><code>ctime</code>: change time, the time when the file's property changes. It always changes when the mtime changes, and also changes when the file's permissions, name or location changes.</li>\n<li><code>atime</code>: access time, which is updated when the file is read by an application or a command such as <code>grep</code> or <code>cat</code></li>\n</ul>\n</li>\n<li>{output.log} is the log file to which you want to write the output log message</li>\n</ul>\n<h2>Log folders to clean up</h2>\n<p>Normally, you only need to clean up the following log folders on the NFS server, where &lt;logging-volume&gt; is the NFS volume for suite logs. See the following examples:</p>\n<ul>\n<li><code>/var/vols/itom/itsma/&lt;logging-volume&gt;</code></li>\n<li><code>/mnt/efs/var/vols/itom/itsma/&lt;logging-volume&gt;</code></li>\n</ul>\n<p>The following example commands will delete all the files in the specified folders when all of their <code>atime</code>, <code>mtime</code>, and <code>ctime</code> values are older than 60 days.</p>\n<pre>nohup find /mnt/efs/var/vols/itom/itsma-itsma-global/logs -type f -atime +60 -mtime +60 -ctime +60 -exec stat '{}' \\+ , -type f -atime +60 -mtime +60 -ctime +60 -exec rm -f '{}' \\+ &gt; cleanupGlobal.log &amp;\nnohup find /mnt/efs/var/vols/itom/itsma-itsma-smartanalytics/logs/ -type f -atime +60 -mtime +60 -ctime +60 -exec stat '{}' \\+ , -type f -atime +60 -mtime +60 -ctime +60 -exec rm -f '{}' \\+ &gt; cleanupSmartA.log &amp;\nnohup find /mnt/efs/var/vols/itom/itom-logging-vol -type f -atime +60 -mtime +60 -ctime +60 -exec stat '{}' \\+ , -type f -atime +60 -mtime +60 -ctime +60 -exec rm -f '{}' \\+ &gt; cleanupCDF.log &amp;</pre>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}