{
  "title": "Associate Service Management tenants with UCMDB customers for Single Sign-On",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>By applying the configurations described in this topic, the following benefits are available:</p>\n<ul>\n<li>You only need to do User/Group/Role configurations, like LDAP and SAML configurations, once for Service Management and UD/UCMDB. You don't need to apply the configurations on both sides.</li>\n<li>Single Sign-On between Service Management and UCMDB enables a seamless user experience when navigating through the UI elements.</li>\n</ul>\n<p>UCMDB and Service Managementboth have the concept of \"tenant,\" but it's important not to mix up the ideas of UCMDB tenants and Service Management tenants. For more information, see:</p>\n<ul>\n<li>Service Management tenant<a href=\"/doc/423/26.1/tenantmgmt\" title=\"Tenants\">s</a></li>\n<li>Service Management <a href=\"/doc/423/26.1/sacmds\" title=\"Data domain segmentation for SACM\">Data domain segmentation for SACM</a></li>\n<li>UCMDB <em><a href=\"/doc/401/2023.05/mtmcarchitect\" title=\"Multi-tenancy architecture vs. multi-customer architecture\">Multi-Tenancy Architecture vs. Multi-Customer Architecture</a></em> (Classic UD/UCMDB) or <em><a href=\"/doc/403/25.4/mtmcarchitect\" title=\"Multi-tenancy architecture vs. multi-customer architecture\">Multi-Tenancy Architecture vs. Multi-Customer Architecture</a></em> (Containerized UD/UCMDB)</li>\n</ul>\n<p>In short, Service Management tenants correspond with UCMDB customers, while Service Management data domains correspond with UCMDB tenants. </p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service Management concepts</th>\n<th scope=\"col\">Correlated UCMDB concepts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Service Management tenant</td>\n<td>UCMDB customer</td>\n</tr>\n<tr>\n<td>Service Management data domain</td>\n<td>UCMDB tenants</td>\n</tr>\n</tbody>\n</table>\n<p>When you have multiple tenants in Service Management, you need to associate each of them with a UCMDB customer. </p>\n<h2>Prerequisite  </h2>\n<p>To associate Service Management tenants with UCMDB customers, make sure each Service Management tenant matches with a corresponding Account and IdM Org. This means your Service Management environment must be using the 1 tier tenancy model introduced since version 2020.05. </p>\n<h3>Service Management users onboarding</h3>\n<p>Make sure LDAP and SAML users synchronize with Service Management. </p>\n<h4>LDAP users</h4>\n<p>LDAP users, groups, and their associations can be automatically synchronized to corresponding IdM organizations, while IdM roles need to be manually assigned to IdM groups in each organization.</p>\n<p>For more information about preparing LDAP users, see <a href=\"/doc/423/26.1/editaccount#Authentications_tab\" title=\"How to edit an account\">How to edit an account</a>.</p>\n<h4>SAML users</h4>\n<p>SAML users can be automatically synchronized with corresponding IdM organizations. Then, you need to either manually create IdM groups and associate related users to groups, or synchronize SAML groups and user&amp;group association (see <a href=\"/doc/423/26.1/configureauthenticationinidm#Add_SAML_authentication\" title=\"Set up SAML authentication\">Set up SAML authentication</a>). </p>\n<h3>Create and deploy Service Management tenants</h3>\n<p>Make sure that Service Management accounts are ready and you have created and deployed Service Management tenants in Suite Administration. The system will automatically create the corresponding IdM organizations when you create accounts in Suite Administration, you don't need to manually create them in IdM.</p>\n<p>For more information about how to set up Service Management accounts and tenants, see <a href=\"/doc/423/26.1/deploytenantwflw\" title=\"Set up a tenant\">Set up a tenant</a>. </p>\n<h2>If you are using Containerized UD/UCMDB</h2>\n<p>If you are using Containerized UD/UCMDB, see <a href=\"/doc/423/26.1/createcmsconsumercustomersharedidm\" title=\"Create UCMDB Consumer customer for Native SACM\">Create UCMDB Consumer customer for Native SACM under shared IdM</a> to associate Service Management tenants with UCMDB customers. </p>\n<h2>If you are using Classic UD/UCMDB</h2>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">If you are using Classic UD/UCMDB, the steps mentioned in this section are only required to implement Single Sign-On between Service Management and UCMDB in the Native SACM context. If you don't need Single Sign-On between Service Management and UD/UCMDB, you can skip these steps.</div>\n</div>\n<h3>Step 1. Create a new customer in UCMDB as the Provider customer</h3>\n<p>In classic UCMDB, by default, you only have one customer with id 1 (Default Client) and this is the default Provider customer. To integrate with the suite IdM, you need to create a new customer and set it as the Provider customer for integration with Service Management.</p>\n<ol>\n<li>Make sure that IdM is disabled.\n\t<ol start=\"1\">\n<li>Make sure that the environment variable <strong>IDM_LOCAL_CLIENT_ENABLED</strong> is set to <b>false </b>on the UCMDB server. </li>\n<li>If you change the <strong>IDM_LOCAL_CLIENT_ENABLED</strong> variable from <strong>true </strong>to <strong>false</strong>, restart the UCMDB server.</li>\n</ol>\n</li>\n<li>Create a new customer.\n\t<ol start=\"1\">\n<li>Access the JMX Console of your current customer (customer <strong>1</strong>).</li>\n<li>Locate the <b>addCustomer</b> JMX method in the <b>UCMDB:service=Customer and States Services</b> category.</li>\n<li>Provide values for the following parameters:\n\t\t<ul>\n<li><b>customerId</b>: Enter a unique customer ID of 9-digit number (between 100000000 and 999999999). For example, <strong>100000002</strong>.</li>\n<li><b>customerName</b>: Enter a unique customer name (the name can't be changed after creation).</li>\n<li><b>configId</b>: Leave the field empty.</li>\n</ul>\n</li>\n<li>Click <b>Invoke</b>.</li>\n</ol>\n</li>\n<li>Set the new customer as the Provider customer.\n\t<ol start=\"1\">\n<li>Access the JMX Console of your current customer (customer <strong>1</strong>).</li>\n<li>Locate the <b>changeProviderCustomer</b> JMX method in the <b>UCMDB:service=Customer and States Services</b> category.</li>\n<li>In the <b>Value</b> field for <strong>customerId</strong>, enter the customer ID of the newly created customer. For example, <strong>100000002</strong>.</li>\n<li>Click <b>Invoke</b>.</li>\n</ol>\n</li>\n<li>Restart UCMDB.</li>\n</ol>\n<p>Now, you have two customers in the classic UCMDB:</p>\n<ul>\n<li>Provider customer (customer <b>100000002</b>), which will be bound to the SYSBO organization for integration and management.</li>\n<li>Consumer customer (customer <strong>1</strong>), which will be bound to the Service Management tenant organization on which you want to enable Native SACM with UD/UCMDB.</li>\n</ul>\n<h3>Step 2. Create UD/UCMDB integration admin user</h3>\n<p>You need to create a UD/UCMDB integration admin user (<strong>ucmdb-integration-admin</strong>) in suite IdM and the classic UD/UCMDB for role and group synchronization.</p>\n<ol>\n<li>\n<p>Create a UD/UCMDB integration admin user in the suite IdM:</p>\n<ol start=\"1\">\n<li>Log in to the suite IdM (<strong>https://<i>&lt;External_Access_Host&gt;</i>/idm-admin</strong>) as <strong>suite-admin</strong>, navigate to the <strong>SYSBO </strong>organization, and then click it.</li>\n<li>Go to <strong>Users</strong> in the navigation pane, click <a class=\"image\" href=\"/file/images/a/a0/cms-sl-idm-new.png\" title=\"/file/images/a/a0/cms-sl-idm-new.png\"> <img alt=\"new icon\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/a/a0/cms-sl-idm-new.png\" height=\"15\" hspace=\"0\" src=\"../../../images/cms-sl-idm-new_b6e6c9ab.png\" style=\"width:16px;height:15px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"16\"/> </a> in the toolbar. The <strong>ADD USER</strong> page opens.</li>\n<li>\n<p>Provide values as described below and click <b>SAVE</b>.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Field (*required)</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name *</td>\n<td>Name of the new user. To avoid confusion later, enter the user name as <strong>ucmdb-integration-admin</strong>. </td>\n</tr>\n<tr>\n<td>Display Name *</td>\n<td>Display name of the new user. Use <strong>ucmdb-integration-admin</strong> in this case.</td>\n</tr>\n<tr>\n<td>Password *</td>\n<td>Specifies a password for the UD/UCMDB integration admin user.</td>\n</tr>\n<tr>\n<td>Type *</td>\n<td>Select <strong>SYSTEM</strong>.</td>\n</tr>\n<tr>\n<td>Password Policy</td>\n<td>Leave the field empty.</td>\n</tr>\n<tr>\n<td>User Attributes</td>\n<td>Leave empty.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <strong>SAVE. </strong></li>\n<li>Go to <strong>Groups</strong> in the navigation pane, click the <strong>administrators</strong> group, and then click  <a class=\"image\" href=\"/file/images/7/78/cms-sl-idm-edit.png\" title=\"/file/images/7/78/cms-sl-idm-edit.png\"> <img alt=\"edit icon\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/7/78/cms-sl-idm-edit.png\" height=\"16\" hspace=\"0\" src=\"../../../images/cms-sl-idm-edit_504e64a3.png\" style=\"width:16px;height:16px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"16\"/> </a>  in the toolbar. The <strong>Group Settings</strong> page opens.</li>\n<li>Scroll down to the <strong>Users </strong>section, for the <strong>Associated Users</strong> field, search for and click the <strong>ucmdb-integration-admin</strong> user to associate it to the group. </li>\n<li data-aria-level=\"2\" data-aria-posinset=\"1\" role=\"listitem\">Click <strong>SAVE</strong>.</li>\n</ol>\n</li>\n<li>Bind UD/UCMDB integration admin user in UCMDB:\n\t<ol start=\"1\">\n<li>On the UCMDB server, use \"sysadmin\" to access the JMX Console of the Provider customer (<strong>customerID=100000002 </strong>in this example): https://localhost:8443/jmx-console/login_form.html?customerID=100000002.</li>\n<li>Locate the <strong>setGlobalSettingValue</strong> JMX method. </li>\n<li>Populate the following values and click <strong>Invoke</strong>.\n\t\t<ul>\n<li><strong>name</strong>: <strong>mam.server.idm.sync.username</strong></li>\n<li><strong>value</strong>: The UCMDB integration admin user (<strong>ucmdb-integration-admin</strong>) created in IdM in the previous step</li>\n</ul>\n</li>\n<li>Return to the <strong>setGlobalSettingValue</strong> JMX method, populate the following values, and then click <strong>Invoke</strong>.\n\t\t<ul>\n<li><strong>name</strong>: <strong>mam.server.idm.sync.password</strong></li>\n<li><strong>value</strong>: The password of the UD/UCMDB integration admin user</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n<p>With this integration user created in suite IdM and in the UCMDB, the system can perform role and group synchronization between the Service Management <strong>sysbo </strong> tenant and UCMDB Provider customer <strong>100000002 </strong>after enabling IdM in classic UD/UCMDB in the next step.</p>\n<h3>Step 3. Enable IdM in classic UD/UCMDB</h3>\n<p>This step is to set up integration between UCMDB and suite IdM.</p>\n<ol>\n<li>Export the root certificate of Service Management from the browser and import it to UCMDB.\n\t<ol start=\"1\">\n<li>Get the Service ManagementCA certificate. For details on this, see <a href=\"/doc/423/26.1/getsuitecacertificate\" title=\"Get the suite CA certificate\">Get the suite CA certificate</a>.</li>\n<li>Import the Service Management CA certificate to the UCMDB truststore (<strong>&lt;UCMDB home&gt;/conf/security/server.truststore</strong>) by running the following command:\n\t\t<pre>&lt;JAVA_HOME&gt;/keytool -import  -alias &lt;Key_alias&gt; -keystore &lt;UCMDB_truststore&gt; -file &lt;ServiceManagement_CA_certificate&gt; -storepass &lt;UCMDB_truststore_pass&gt;</pre>\n</li>\n</ol>\n</li>\n<li>Create the IdM configuration file (<b>IdmConfig.xml)</b> by using the following sample content and replacing the placeholder values with the actual values.\n\t<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;idmConfig&gt;\n    &lt;token&gt;\n        &lt;defaultTokenType&gt;PLAINTEXT&lt;/defaultTokenType&gt;\n        &lt;lifetimeMinutes&gt;30&lt;/lifetimeMinutes&gt;\n        &lt;signingKey&gt;ENC(&lt;encrypted IDM signing key&gt;)&lt;/signingKey&gt;\n    &lt;/token&gt;\n    &lt;server&gt;\n        &lt;apiVersion&gt;v3&lt;/apiVersion&gt;\n        &lt;serviceUri&gt;https://&lt;ServiceManagement_FQDN&gt;:443/idm-service&lt;/serviceUri&gt;\n        &lt;integrationAcctUserName&gt;ENC(&lt;encrypted transport_admin&gt;)&lt;/integrationAcctUserName&gt;\n        &lt;integrationAcctPassword&gt;ENC(&lt;encrypted idmTransportUser password&gt;)&lt;/integrationAcctPassword&gt;\n        &lt;tenant&gt;sysbo&lt;/tenant&gt;\n    &lt;/server&gt;\n    &lt;client trustAll=\"true\" ssoEnabled=\"true\" checkStatusOnLogout=\"false\"&gt;\n        &lt;keyFile&gt;C:\\Ucmdb\\IdmConfig.key&lt;/keyFile&gt;\n        &lt;encAlgorithm&gt;AES&lt;/encAlgorithm&gt;\n    &lt;/client&gt;\n&lt;/idmConfig&gt;</code></pre>\n\tIn this file, replace the following placeholder text with the actual values:\n\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Encryption required?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&lt;signingKey&gt;ENC(&lt;encrypted IDM signing key&gt;)&lt;/signingKey&gt;</td>\n<td>Make sure that it's consistent with the value in Suite Administration (<strong>Configurations </strong>&gt; <strong>Security </strong>&gt;<strong> IDM configuration</strong> &gt; <strong>Signing key</strong>). </td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>&lt;serviceUri&gt;https://&lt;ServiceManagement_FQDN&gt;:443/idm-service&lt;/serviceUri&gt;</td>\n<td>The public IdM URL of the suite. </td>\n<td>No</td>\n</tr>\n<tr>\n<td>&lt;integrationAcctUserName&gt;ENC(&lt;encrypted transport_admin&gt;)&lt;/integrationAcctUserName&gt;</td>\n<td>The IdM integration user name (<strong>transport_admin</strong>).</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>&lt;integrationAcctPassword&gt;ENC(&lt;encrypted idmTransportUser password&gt;)&lt;/integrationAcctPassword&gt;</td>\n<td>The password of the <strong>transport_admin</strong> user. The following example shows how to get the password by running a Kubernetes command on the control plane node.<br/>\n<code>kubectl exec idm-xxxxx-xxxxx -it -n itsma-xxxxx -c idm get_secret idm_transport_admin_password_secret_key</code></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td> &lt;keyFile&gt;C:\\Ucmdb\\IdmConfig.key&lt;/keyFile&gt;</td>\n<td>The location of the key file.</td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n<p>In the table above, the values for <strong>signingKey</strong>, <strong>integrationAcctUserName</strong>, and <strong>integrationAcctPassword </strong>should be encrypted. To do this, follow these steps:</p>\n<ol start=\"1\">\n<li>Download<strong> slf4j-api-1.7.36.jar</strong> at <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar\" title=\"download encryption tool\">https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar</a>.</li>\n<li>Copy <strong>slf4j-api-1.7.36.jar</strong> and &lt;<b><em>UCMDBServer</em></b>&gt;<em><strong>/lib/idm-client-core-&lt;version&gt;.jar </strong></em>to a new folder.</li>\n<li>\n<p>Open a command window and run the following command to generate the key file.</p>\n<pre><code>java -jar idm-client-core-&lt;version&gt;.jar crypto -g -f IdmConfig.key -ep &lt;8-16 characters encryption passphrase&gt; -a AES          </code></pre>\n<p>The output is as follows:</p>\n<pre><code>Key file has been generated successfully:\n    IdmConfig.key\nThe IdmConfig.key will be generated in the same directory with idm-client-core-&lt;version&gt;.jar.</code></pre>\n<p>Put<strong> IdmConfig.key</strong> to a folder. For example, <strong>C:\\Ucmdb\\IdmConfig.key</strong>. You need to specify the full path of this file in the IdM configuration file (<b>IdmConfig.xml</b>)</p>\n</li>\n<li>Run the following command to encrypt data.\n\t\t<pre><code>java -jar idm-client-core-&lt;version&gt;.jar crypto -e -m &lt; plain text &gt; -f IdmConfig.key -a AES</code></pre>\n<p>The output is as follows:</p>\n<pre><code>Encrypted Text: dMtX+X7X5VxO1NsbHpDjrb0GbbEnQsdK</code></pre>\n</li>\n<li>Use the encrypted data as the value for the corresponding parameter. The format is: <code>ENC(&lt;encrypted data&gt;</code><encrypted data=\"\"><code>)</code></encrypted></li>\n</ol>\n</li>\n<li>\n<p>Save the <b>IdmConfig.xml</b> file and copy it to the following locations:</p>\n<p><b>UCMDB server:</b> <b>&lt;<em>UCMDBServer</em>&gt;/conf/IdmConfig.xml</b></p>\n<p><b>UCMDB Browser:</b><em> </em><b>&lt;<em>UCMDB_Browser_Install_Dir</em>&gt;/conf/IdmConfig.xml</b></p>\n</li>\n<li>Set the environment variable <strong>IDM_LOCAL_CLIENT_ENABLED</strong> to <strong>true</strong> on the UCMDB server. </li>\n<li>Restart the UCMDB server and UCMDB browser. </li>\n<li>Associate the UCMDB <strong>SuperAdmin </strong>role for the Provider customer (<strong>100000002</strong>),  :\n\t<ol start=\"1\">\n<li>Log in to the suite IdM (<strong>https://<i>&lt;External_Access_Host&gt;</i>/idm-admin</strong>) as <strong>suite-admin</strong>, and then access the <strong>SYSBO </strong>organization.</li>\n<li>Go to <strong>Groups</strong> in the navigation pane, click the <strong>administrators</strong> group, and then click  <a class=\"image\" href=\"/file/images/7/78/cms-sl-idm-edit.png\" title=\"/file/images/7/78/cms-sl-idm-edit.png\"> <img alt=\"edit icon\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/7/78/cms-sl-idm-edit.png\" height=\"16\" hspace=\"0\" src=\"../../../images/cms-sl-idm-edit_504e64a3.png\" style=\"width:16px;height:16px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"16\"/> </a>  in the toolbar. The <strong>Group Settings</strong> page opens.</li>\n<li>In the <strong>Group Settings</strong> section, go to the <strong>Associated Roles</strong> field, search for and click the OOTB role <strong>SuperAdmin </strong>with the \"CMDB\" application field, and then associate it with the group.</li>\n<li data-aria-level=\"2\" data-aria-posinset=\"1\" role=\"listitem\">Click <strong>SAVE</strong>.</li>\n</ol>\n</li>\n</ol>\n<p>Now you can access the UCMDB Provider customer with the <strong>suite-admin</strong> account.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">After you associate the OOTB role <strong>SuperAdmin </strong>with the \"CMDB\" application field to the <strong>administrators </strong>group, the users under this group are pre-authorized with UD/UCMDB super admin permissions. To perform administrative tasks in UD/UCMDB, you can use <strong>suite-admin</strong> as the UCMDB Provider customer super admin (with the <strong>Server Administrator Privileges</strong> flag set and granted <b>SuperAdmin</b> role). The <strong>suite-admin </strong>can also log in to the JMX console with full access and perform global JMX operations, such as creating customers and deleting customers. </div>\n</div>\n<p><strong>IdM token expiration time settings</strong></p>\n<p>If you want to set token expiration time, open the <b>webapps/idm-service/WEB-INF/spring/applicationContext.properties</b> file on the IdM server and add the following line. You may use a different value to suit your needs.</p>\n<p><code>idm.token.lifetime.minutes=30</code></p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">\n<ul>\n<li>By default, the token expiration time is 30 minutes even when it isn't configured.</li>\n<li>IdM loads the value to database only when it starts for the first time. To change the value after IdM starts, contact your IdM expert to change it by using the system_config API.</li>\n</ul>\n</div>\n</div>\n<h3>Step 4. Create and deploy the Service Management tenant</h3>\n<p>If you don't have an existing Service Management tenant, you need to create and deploy a Service Management tenant that manages business data. For information about how to set up Service Management accounts and tenants, see <a href=\"/doc/423/26.1/deploytenantwflw\" title=\"Set up a tenant\">Set up a tenant</a>. </p>\n<p>For example, your Service Management tenant ID is <strong>477827234 </strong>and the tenant admin user is<strong> tenant-admin</strong>.</p>\n<h3 id=\"ClassicUCMDBintegratewithSMAXIdM-E.BindCMSconsumercustomertothecreatedSMAXtenant.\">Step 5. Bind the UCMDB Consumer customer to the Service Management tenant</h3>\n<p>This step binds your UCMDB consumer customer (customer 1) to your Service Management tenant. For example, the Service Management tenant is <strong>477827234</strong>.</p>\n<ol>\n<li>Use the <strong>suite-admin</strong> account to access the JMX Console of the UCMDB Provider customer (<strong>customerID=100000002 </strong>in this example): <b>https://localhost:8443/jmx-console/login_form.html?customerID=100000002</b>.</li>\n<li>Locate the <strong>assignIDMInfo </strong>JMX method in the <b>UCMDB:service=Customer and States Services</b> category.</li>\n<li>In the <strong>customerid </strong>field, enter the customer ID of the Consumer customer. For example, <b>1.</b></li>\n<li>In the <strong>tenantName </strong>field, enter the ID of the IdM organization associated with the Service Management tenant. For example, <strong>477827234.</strong></li>\n<li>Click <b>Invoke</b>.<br/>\n<a class=\"image\" href=\"/file/images/1/14/Apply_shared_IDM_to_classic_CMS_Picture12.png\" title=\"/file/images/1/14/Apply_shared_IDM_to_classic_CMS_Picture12.png\"> <img alt=\"assignIdM\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/1/14/Apply_shared_IDM_to_classic_CMS_Picture12.png\" height=\"211\" hspace=\"0\" src=\"../../../images/Apply_shared_IDM_to_classic_CMS_Picture12_1d73f123.png\" style=\"width:750px;height:211px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"750\"/> </a></li>\n</ol>\n<h3>Step 6. Seed UD/UCMDB OOTB roles to the IdM organization</h3>\n<p>After you invoke the <strong>assignIDMInfo </strong>operation in JMX, the system automatically triggers a process to seed the UD/UCMDB OOTB roles to the mapped IdM organization.</p>\n<p>To check the seeding status, follow these steps as<strong> suite-admin</strong>:</p>\n<ol>\n<li>Log in to the JMX Console of the UCMDB Provider customer (<strong>customerID=100000002 </strong>in this example): <b>https://localhost:8443/jmx-console/login_form.html?</b><strong>customerID=100000002</strong>. </li>\n<li>Search for the <strong>showAllCustomers </strong>JMX method in the <b>UCMDB:service=Customer and States Services</b> category.</li>\n<li>Click <strong>Invoke</strong>.</li>\n<li>Make sure that the value of column <strong>Seeding role status</strong> is <strong>SUCCESS</strong>. </li>\n</ol>\n<h3>Step 7: Create a tenant admin group in the IdM organization</h3>\n<p>To create a tenant admin group and associate the seeded UCMDB admin role, follow these steps as <strong>suite-admin</strong>:</p>\n<ol>\n<li>Log in to the shared IdM (<strong>https://&lt;External_Access_Host&gt;/idm-admin</strong>), and then access the IdM organization correlated to the Service Management tenant and the UCMDB Consumer customer.  In this example, access the organization named <strong>477827234</strong>.</li>\n<li>Go to <strong>Groups </strong>in the navigation pane,  and then click the Add icon in the toolbar. The <strong>ADD GROUP</strong> page appears.</li>\n<li>Provide values for the following parameters:\n\t<table align=\"center\">\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Field (*required)</p>\n</th>\n<th scope=\"col\">\n<p>Description</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name *</td>\n<td>Name of the tenant admin group.</td>\n</tr>\n<tr>\n<td>Display Name *</td>\n<td>Display name of the tenant admin group.</td>\n</tr>\n<tr>\n<td>Description</td>\n<td>Description of the tenant admin group.</td>\n</tr>\n<tr>\n<td>Associated Roles*</td>\n<td>Search for and add the OOTB role <strong>SuperAdmin </strong>with the \"CMDB\" application field. <strong>Note</strong>: Only UD/UCMDB roles can be added here; the Service Management roles aren't represented in IdM. </td>\n</tr>\n<tr>\n<td>Associated Users*</td>\n<td>Search for and add the tenant admin user (<strong>tenant-admin</strong>).</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <strong>Save</strong>.</li>\n</ol>\n<p>Now you can access the UCMDB Consumer customer (customer <strong>1</strong>) with the tenant admin account (<strong>tenant-admin</strong>). The tenant admin is the administrative user of the UCMDB Consumer customer. This specific tenant admin can only manage its own customer data and has limited JMX console permissions.</p>\n<h3>(Optional) Step 8. Create UCMDB non-admin roles, users, and groups</h3>\n<p>If the seeded UCMDB OOTB roles can’t match your requirements, you can <a href=\"/doc/423/26.1/createcmsnonadiminroleuserssharedidm\" title=\"Create UD/UCMDB custom roles, users, and groups\">create UCMDB non-admin roles, users, and groups</a>.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">When you try to log in to UCMDB with the UCMDB local client in the SAML context, you need to configure the UCMDB local client to enable the <strong>Configuration Group</strong> dropdown list in the UCMDB login console, where you can select <strong>SAML </strong>for a proper UCMDB login. For details, see <a href=\"/doc/ucmdb_containerized/25.4/logucmdbdesktop#(Optional)_Enable_login_for_non-default_user_type\" title=\"(Optional)_Enable_login_for_non-default_user_type\">(Optional) Enable login for non-default user type</a>.</div>\n</div>\n<h3>Step 9. Probe configuration in UCMDB</h3>\n<p>Follow the instructions in <a href=\"/doc/401/24.2/mcprobemanage\" title=\"Probe management under multi-customer mode\">Probe management under <em>multi-customer</em> mode</a> to configure the probe in UCMDB.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}