{
  "title": "Audit APIs",
  "content": "<div class=\"mw-parser-output\">\n<div>Audit Service provides an Audit API that allows you to retrieve audit records.</div>\n<h2>Get Auth Token for Audit APIs</h2>\n<p>To generate the X-Auth-Token for the Audit API calls, make the following POST call: </p>\n<table resolved=\"\">\n<tbody>\n<tr>\n<td>\n<p><strong>URI</strong></p>\n</td>\n<td><code>https://{{IdmHost}}:{{IdmPort}}/idm-service/v3.0/tokens</code></td>\n</tr>\n<tr>\n<td>\n<p><strong>HTTP Method</strong></p>\n</td>\n<td>\n<p>POST</p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>Request Body</strong></p>\n</td>\n<td>\n<pre>{\n\n\"tenantName\" : \"&lt;tenant&gt;\", \n\n\"passwordCredentials\" : {\"username\" : \"user1\", \"password\" : \"password\"}\n\n}\n</pre>\n</td>\n</tr>\n<tr>\n<td><strong>Response</strong></td>\n<td>\n<pre>  {\n\n    \"passwordExpiredDate\": 1667918387772,\n\n    \"passwordComplianceCheckCode\": \"PASSWORD_COMPLIANT\",\n\n    \"token\": {\n\n        \"id\": \"eyJ0eXAiOiJKV1MiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyYzkwODE5NjgyODgzMjNiMDE4Mjg4MzI4MjY1MDFmZiIsInBhdCI6bnVsbCwiaXNzIjoiSWRNIDEuMzYuMC1idWlsZC4xODYiLCJjb20uaHBlLmlkbTp0cnVzdG9yIjpudWxsLCJleHAiOjE2NjE4NDU4NDQsImNvbS5ocC5jbG91ZDp0ZW5hbnQiOnsiaWQiOiIyYzkwODE5NjgyODgzMjNiMDE4Mjg4MzI3NWYyMDEzZSIsIm5hbWUiOiJzeXNibyIsImVuYWJsZWQiOnRydWV9LCJwcm4iOiJzdWl0ZS1hZG1pbiIsImlhdCI6MTY2MTg0MjI0NCwianRpIjoiMmQ2Y2NiZDgtNzQyZC00ZGRiLWJhYjctMWVlNzM2YjZmOTc2In0.vRNeyuSjH49-AcB24o2QE1CshYFn5Tto6jTps7vtg-c\",\n\n        \"issued_at\": \"2022-08-30T06:50:44.214Z\",\n\n        \"expires\": \"2022-08-30T07:50:44.000Z\",\n\n        \"tenant\": {\n\n            \"id\": \"2c9081968288323b0182883275f2013e\",\n\n            \"name\": \"sysbo\",\n\n            \"enabled\": true\n\n        }\n\n    }...\n    </pre>\n</td>\n</tr>\n</tbody>\n</table>\n<h2>Get Audits</h2>\n<div>The following API helps you to get Audits:</div>\n<table resolved=\"\">\n<tbody>\n<tr>\n<td>\n<p><strong>API Name</strong></p>\n</td>\n<td>Get Audits</td>\n</tr>\n<tr>\n<td>\n<p><strong>Description</strong></p>\n</td>\n<td>The user with the Tenant/System audits view makes the Audit API call to retrieve audits.</td>\n</tr>\n<tr>\n<td>\n<p><strong>URI</strong></p>\n</td>\n<td><code>https://&lt;audit service host&gt;:&lt;audit service port&gt;/audit-service-engine/v1/audit/&lt;TENANT_ID&gt;?system=false </code></td>\n</tr>\n<tr>\n<td>\n<p><strong>URI Parameters</strong></p>\n</td>\n<td>\n<div>You can also use the filter in this API as shown</div>\n<div><br/>\n<code>https://&lt;audit service host&gt;:&lt;audit service port&gt;/audit-service-engine/v1/audit/?filter=(auditTime btw <br/>\n\t\t\t(1750617000000,1751308199999) and result = 'FAIL')&amp;size=250&amp;system=false</code></div>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>HTTP Method</strong></p>\n</td>\n<td>\n<p>GET</p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>Request Headers</strong></p>\n</td>\n<td><code>X-Auth-Token: &lt;X-Auth-Token&gt; Generate the X-Auth-Token for a user who has Audit view permissions. <br/>\n\t\t\tContent-Type: application/json</code></td>\n</tr>\n<tr>\n<td>\n<p><strong>Request Body format</strong></p>\n</td>\n<td><code>Accept: application/json</code></td>\n</tr>\n<tr>\n<td>\n<p><strong>Request body data</strong></p>\n</td>\n<td>\n<pre>{ \n  \"items\": [ \n    { \n      \"uuid\": \"c34645eb-3151-422c-be6a-3aa8bd684688\", \n      \"action\": \"UPDATE\", \n      \"actor\": \"userEmail2\", \n      \"auditTime\": \"2025-06-26T10:46:04.605Z\", \n      \"correlationId\": \"RID-27621a84-a97e-4c83-ba69-ab7e01ab86ab\", \n      \"userPrivileges\": null, \n      \"createdTime\": \"2025-06-26T10:46:05.089Z\", \n      \"description\": \"Succeeded to update license for 3 user(s).\", \n      \"destination\": \"172.16.1.24\", \n      \"eventCategory\": \"CONFIGURATION\", \n      \"eventId\": \"ff7a0bc7-91ad-4d7a-bb19-34f11cc3ac4f\", \n      \"eventName\": \"License.User.Change\", \n      \"module\": \"\", \n      \"details\": null, \n      \"result\": \"SUCCESS\", \n      \"service\": \"SMAX\", \n      \"severity\": \"MEDIUM\", \n      \"source\": \"\", \n      \"status\": \"WARNING - {source=empty}\", \n      \"target\": \"License [20004]\", \n      \"tenantId\": \"328512343\", \n      \"version\": \"25.3\", \n      \"system\": false \n    } \n  ] \n} \n</pre>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>HTTP return codes</strong></p>\n</td>\n<td>200 - OK <br/>\n\t\t\t401 - Unauthorized (Authorization failed) <br/>\n\t\t\t500 - Internal server error</td>\n</tr>\n</tbody>\n</table>\n<h2>Related topic</h2>\n<p>For Audit tenant lifecycle API failure scenarios, see <a href=\"/doc/423/26.1/audittenantcreationfail\" title=\"Create Tenant in Audit API fails\">Troubleshoot</a>.</p>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}