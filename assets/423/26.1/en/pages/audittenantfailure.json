{
  "title": "Failed to trigger deployment of audit tenant error in Operation history",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>After deploying a tenant, you see the following message in the Operation history:</p>\n<p><em>Failed to trigger deployment of audit tenant</em></p>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note</span> If you see this message after deleting a tenant and then re-deploying it again, you can ignore the error. You don't need to perform these steps in this scenario.</div>\n<h2>Cause</h2>\n<p>The required secret either does not exist or contains invalid value.</p>\n<h2>Solution</h2>\n<p>Perform the following to determine the cause of the problem:</p>\n<ol>\n<li>\n<p>Log in to a control plane node of the suite.</p>\n</li>\n<li>\n<p>Enter <kbd><samp>kubectl get pods -n</samp> itsma,</kbd><code> </code>and then press the <strong>Tab</strong> key. The terminal automatically completes the last parameter (namespace).</p>\n<p>Take note of the namespace (starts with <code>itsma</code>). You will use the namespace in the following commands.</p>\n</li>\n<li>\n<p>Run the following command:</p>\n<pre>kubectl get secrets -n &lt;namespace&gt;</pre>\n<p>Check whether <code>audit-client-secret</code> is in the returned list of secrets.</p>\n<p><a class=\"image\" href=\"/file/images/6/6d/TrblShooting_AuditTenantErrors.png\" title=\"/file/images/6/6d/TrblShooting_AuditTenantErrors.png\"> <img alt=\"\" border=\"0\" file=\"/mediawiki/images/6/6d/TrblShooting_AuditTenantErrors.png\" height=\"33\" hspace=\"0\" src=\"../../../images/TrblShooting_AuditTenantErrors_4ff81513.png\" style=\"width:601px;height:33px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"601\"/> </a></p>\n<ul>\n<li>\n<p>If the secret is present, continue with the next step.</p>\n</li>\n<li>\n<p>Otherwise, regenerate vault secrets, and then reinstall the Audit service. See <a href=\"/doc/423/26.1/installauditonpremises\">Install the Audit service</a>. After that, re-deploy the tenant.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Run the following command to get the name of the bo-ats pod:</p>\n<pre>kubectl get pods -n &lt;namespace&gt; | grep ats</pre>\n<p>Take note of the returned value. You will use the value in the next command.</p>\n</li>\n<li>\n<p>Run the following command to display the log of the bo-ats pod:</p>\n<pre>kl &lt;return value for step 4&gt;</pre>\n</li>\n<li>\n<p>In the log, locate this text \"<code>rest call with :{Url:</code>\". Check whether the URL that follows this text is a valid URL.</p>\n<p>If the URL is not valid, fix the URL in the secrets YAML file, regenerate vault secrets, and then reinstall the Audit service. See <a href=\"/doc/423/26.1/installauditonpremises\">Install the Audit service</a>. After that, re-deploy the tenant.</p>\n</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}