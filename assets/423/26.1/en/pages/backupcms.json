{
  "title": "Back up containerized UD/UCMDB deployment",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To back up the containerized UD/UCMDB deployment, do the following:</p>\n<ol>\n<li>\n<p>Back up cms-secret and cms-probe-secret (if available)</p>\n<p>Run the following command:</p>\n<pre>kubectl get secret cms-secret -o yaml -n &lt;<em>namespace-of-cms</em>&gt; &gt; cms-secret_backup_yyyy-mm-dd.yaml\nkubectl get secret cms-probe-secret -o yaml -n &lt;<em>namespace-of-cms</em>&gt; &gt; cms-probe-secret_backup_yyyy-mm-dd.yaml\n</pre>\n<p>For example,</p>\n<pre>kubectl get secret cms-secret -o yaml -n ucmdb-prod &gt; secret_backup.yaml \nkubectl get secret cms-probe1-secret -o yaml -n ucmdb-prod  &gt; probe1-secret_backup.yaml </pre>\n</li>\n<li>\n<p>Back up external databases </p>\n<p>For specific database backup instructions, refer to the documentation of the specific database. </p>\n<p>For instructions about backing up PostgreSQL database, see the following: <br/>\n<a href=\"https://www.postgresql.org/docs/11/backup.html\" rel=\"noreferrer noopener\" target=\"_blank\">https://www.postgresql.org/docs/11/backup.html</a> (PostgreSQL version 11)<br/>\n<a href=\"https://www.postgresql.org/docs/12/backup.html\">https://www.postgresql.org/docs/12/backup.html</a> (PostgreSQL version 12)</p>\n</li>\n<li>\n<p>Back up all the configuration files that you are using. For example, <b>my-values.yaml</b> file. </p>\n\tIf you don't remember the path of your custom <strong>my-values.yaml</strong> file, run the following command to create a copy of that file in the current directory:\n\n\t<pre><code>helm get values &lt;UD/UCMDB RELEASE NAME&gt; - n &lt;UD/UCMDB NAMESPACE&gt; &gt; my-values.yaml</code></pre>\n</li>\n<li>\n<p>Back up the <b>ucmdb-pv.yaml</b> file.</p>\n</li>\n<li>\n<p>Back up the following data on the NFS volumes for the UD/UCMDB deployment:</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Component</p>\n</th>\n<th scope=\"col\">\n<p>NFS volume name</p>\n</th>\n<th scope=\"col\">\n<p>Directory</p>\n</th>\n<th scope=\"col\">\n<p>Description</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>UCMDB Gateway</p>\n</td>\n<td>\n<p>ucmdb-data-volume</p>\n</td>\n<td>\n<p>&lt;ucmdb-data-volume&gt;/cms-gateway</p>\n</td>\n<td>\n<p>Data generated by the UCMDB Gateway</p>\n</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}