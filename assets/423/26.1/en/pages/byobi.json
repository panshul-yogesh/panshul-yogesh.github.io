{
  "title": "Integrate with Power BI to create Cloud Cost Reporting reports",
  "content": "<div class=\"mw-parser-output\">\n<p>This topic describes how to integrate with Microsoft Power BI and then use it to create Cloud Cost Reporting reports based on the views provided out of the box.</p>\n<ul style=\"padding-left: 0px;\"></ul>\n<p>Before you begin designing reports:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Ensure you have a fair idea of how the report will look like to address the use case you have from the end user(s). If possible, design the report on a whiteboard or paper beforehand.</li><li style=\"margin-left: 28px; position: relative;\">If you are new to Power BI, learn the basics of the tool. Some common constructs that would be useful while designing are input filters, parameters, date/time filters, drilling options, online data aggregation, date and time transformation functions, and some common visualizations like line charts, and bar charts.</li><li style=\"margin-left: 28px; position: relative;\">It's best to design your reports in a test environment. If you do this on your production setup, make a copy of the tables you are working with, and limit the amount of data in them during the design phase. This way your report loading after every edit is fast enough to not slow you down.</li></ul>\n<h2><a id=\"Architecture_overview\" name=\"Architecture_overview\" title=\"Architecture overview\"></a>Architecture overview</h2>\n<p>This diagram shows how the Bring Your Own BI solution works.</p>\n<div><a class=\"image\" href=\"\"> <img alt=\"BYOB BI solution architecture\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/6e/SMAX_BYOBI_OnPrem.png\" hspace=\"0\" src=\"../../../images/SMAX_BYOBI_OnPrem_c07724b2.png\" style=\"width:800px;height:383px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></div>\n<p>To create reports using Power BI, you'll need the following services:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><b>Power BI Gateway</b>: A software that you can install and use in conjunction with Power BI Service. Power BI Gateway enables Power BI Service to connect to the underlying data that it can't access directly. Power BI Service, connected to Vertica through Power BI Gateway, gives access to data in Vertica and publishes them to Power BI Service.</li><li style=\"margin-left: 28px; position: relative;\"><strong>Power BI Service</strong>: A software as a service product for viewing and sharing data reports that you build using Power BI Desktop.</li><li style=\"margin-left: 28px; position: relative;\"><strong>Power BI Desktop</strong>: A Windows desktop application for exploring your data and building reports. You can publish Power BI Desktop reports to the web and share them with others via Power BI Service.</li></ul>\n<h2><a id=\"Set_up_and_configure_Power_BI_Gateway\" name=\"Set_up_and_configure_Power_BI_Gateway\" title=\"Set up and configure Power BI Gateway\"></a>Set up and configure Power BI Gateway</h2>\n<p>This section describes the steps to install and configure the Power BI gateway. </p>\n<h3><a id=\"Create_a_VM_and_install_Power_BI_Gateway\" name=\"Create_a_VM_and_install_Power_BI_Gateway\" title=\"Create a VM and install Power BI Gateway\"></a>Create a VM and install Power BI Gateway</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Create a Windows virtual machine in the AWS environment by following the instructions in <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html\" title=\"Launch an instance\">Launch an instance</a>. Note that:\n\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">The machine must be in the same VPC as the Vertica server, but in a private subnet that's different from the Vertica server. Don't expose this machine to a public network.</li><li style=\"margin-left: 40px; position: relative;\">The image must be 64-bit version of <em>Windows Server 2022 Base</em> or later.</li><li style=\"margin-left: 40px; position: relative;\">Recommended instance type: <em>t2.xlarge</em></li><li style=\"margin-left: 40px; position: relative;\">When configuring Security Group, make sure you use these outbound ports: TCP 443, 5671, 5672, and from 9350 through 9354. For the source IP addresses for Power BI Service in your firewall, go to <a data-linktype=\"external\" href=\"https://www.microsoft.com/download/details.aspx?id=56519\" title=\"Public Cloud\">Public Cloud</a>, download the JSON file, and then search for <strong>PowerBI</strong>.</li></ul>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Download the standard mode of the on-premises data gateway from the <a href=\"https://powerbi.microsoft.com/en-us/downloads/\" rel=\"nofollow\" title=\"Power BI downloads website\">Power BI downloads website</a>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the downloaded file as admin and follow the prompts for installation.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Once installation is complete, start a sharing session with the customer and ask the customer to enter the<strong> email address/account</strong> details to register the gateway. This account will be used as the Power BI Gateway administrator.<br/>\n\tMicrosoft Login will prompt for additional authentication. Federation to customer corporate portal is also expected. The browser might ask you to add a website to the trusted sites zone. To reduce such prompts, you can choose to do so by clicking <strong>Add</strong>.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"Microsoft login prompt\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/9/9d/PBIGateway_EnterEmail.png\" hspace=\"0\" src=\"../../../images/PBIGateway_EnterEmail_941c1fb0.png\" style=\"width:500px;height:461px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Register a new gateway on the computer.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Specify the gateway name and recovery key, and then click <strong>Configure</strong>. Also, note that you can change the region that connects the gateway to cloud services. </li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Once registered, you will get a message indicating that the installation is successful.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"a successful installation\" border=\"0\" hspace=\"0\" src=\"../../../images/pn_image_65dea743c9d078.69995670_94a1b969.png\" style=\"width:500px;height:506px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></li></ol>\n<h3 id=\"Harden_the_communication_between_Vertica_and_Power_BI_Gateway\"><a id=\"Harden_the_communication_between_Vertica_and_Power_BI_Gateway\" name=\"Harden_the_communication_between_Vertica_and_Power_BI_Gateway\" title=\"Harden the communication between Vertica and Power BI Gateway\"></a>Harden the communication between Vertica and Power BI Gateway</h3>\n<ol start=\"1\" style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the bastion node.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to retrieve the certificate:\n\t<pre>helm get values opsb -n opsb | sed -n '/vertica-ca.crt:/,/-----END CERTIFICATE-----/p' |grep -v vertica-ca.crt: | sed 's/^ //g' &gt; /tmp/vertica_ca.crt</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Move the certificate from the <strong>tmp</strong> directory in the bastion node to the Power BI Gateway server.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the Power BI Gateway server.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to Windows Start and search for <strong>mmc</strong> to execute it.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to <strong>File</strong> &gt; <strong>Add/Remove Snap-in</strong>.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <strong>Certificates</strong> and click <strong>Add</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <strong>Computer account</strong> and click <strong>Next</strong>.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Finish</strong>.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Use <strong>Find certificate</strong> to make sure the <strong>saas.ca@xxx.com</strong> certificate is displayed.</li></ol>\n<h3><a id=\"Create_a_read_only_user_in_Vertica\" name=\"Create_a_read_only_user_in_Vertica\" title=\"Create a read-only user in Vertica\"></a>Create a read-only user in Vertica</h3>\n<p>Tenant-specific DB users should have access to only tenant-specific schemas. Permissions given to tenant-specific DB users should follow the principle of least privilege. To see the views and create the dataflows in Power BI Service, you'll need to create a read-only user in Vertica. To do this, run the following script in the Vertica database as the Vertica admin:</p>\n<pre><code># first revoke and restrict public access\nSELECT RESTRICT_SYSTEM_TABLES_ACCESS();\n# Filter all system tables so that non DB admin users can only view details about themselves.\nALTER DATABASE DEFAULT SET DoUserSpecificFilteringInSysTables = 1;\n# grant select on all_tables as it is required to get list of tables using metadata API in driver. This allows user to see all the table names even if the user has no  access to it.\nGRANT SELECT ON v_catalog.all_tables TO PUBLIC;\n# then for each tenant need to create read-only user\nCREATE USER QUERY_DB_USER_&lt;tenant&gt; IDENTIFIED BY &lt;password&gt;;\nGRANT USAGE ON SCHEMA awsc&lt;tenant&gt; TO QUERY_DB_USER_&lt;tenant&gt;;\nGRANT USAGE ON SCHEMA azurec&lt;tenant&gt; TO QUERY_DB_USER_&lt;tenant&gt;;\n# set search path and provide grant permissions for schema/tables\nALTER USER QUERY_DB_USER_&lt;tenant&gt; SEARCH_PATH awsc&lt;tenant&gt;, azurec&lt;tenant&gt;;\nGRANT SELECT ON awsc&lt;tenant&gt;.&lt;views to expose&gt; TO QUERY_DB_USER_&lt;tenant&gt;;\nGRANT SELECT ON azurec&lt;tenant&gt;.&lt;views to expose&gt; TO QUERY_DB_USER_&lt;tenant&gt;;</code></pre>\n<ul style=\"padding-left: 0px;\"><li data-bidi-marker=\"true\" style=\"margin-left: 28px; position: relative;\">tenant: The tenant ID.</li><li data-bidi-marker=\"true\" style=\"margin-left: 28px; position: relative;\">password: The password of the read-only user.</li><li data-bidi-marker=\"true\" style=\"margin-left: 28px; position: relative;\">views to expose: The <a href=\"/doc/423/26.1/byobi#OOTB_views\" title=\"OOTB views\">OOTB views</a> that the read-only user can have access to.</li></ul>\n<h3><a id=\"Configure_the_resource_pool\" name=\"Configure_the_resource_pool\" title=\"Configure the resource pool\"></a>Configure the resource pool</h3>\n<p>Tenant-specific applications should run queries within tenant-specific resource pools. For each tenant, you'll need to configure one resource pool. To do this, run the following script in the Vertica database as the Vertica admin:</p>\n<div title=\"Hint: double-click to select code\">\n<pre><code># Not reserving memory but capping the memory use. maxsize= 20% in BYOBI use case\nCREATE RESOURCE POOL QUERY_SERVICE_RESOURCE_POOL_&lt;tenant&gt; MAXMEMORYSIZE '&lt;maxsize&gt;';   \nGRANT USAGE ON RESOURCE POOL QUERY_SERVICE_RESOURCE_POOL_&lt;tenant&gt; TO QUERY_DB_USER_&lt;tenant&gt;;\nALTER USER QUERY_DB_USER_&lt;tenant&gt; RESOURCE POOL QUERY_SERVICE_RESOURCE_POOL_&lt;tenant&gt;;\nALTER USER QUERY_DB_USER_&lt;tenant&gt; MAXCONNECTIONS 20;</code></pre>\n</div>\n<h2><a id=\"Use_Power_BI_Service_to_create_dataflows\" name=\"Use_Power_BI_Service_to_create_dataflows\" title=\"Use Power BI Service to create dataflows\"></a>Use Power BI Service to create dataflows</h2>\n<p>To connect to Vertica, get data, and create the dataflows, follow these steps:</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-tip-icon\"></div><div class=\"admonition-content admonition-tip-content\"><div> If there's a large amount of data, you may get a refresh timeout error when importing data into your dataflow. To better manage substantial data influx into the dataflow, you can use the incremental refresh feature available with a Premium license. Incremental refresh loads the latest or modified data instead of performing a full reload, enhancing refresh efficiency and minimizing resource consumption. If a Premium license isn't in place, you can still optimize by adjusting the refresh schedule to longer intervals, such as weekly or monthly, to align with your business needs.</div></div></div>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to <a href=\"http://app.powerbi.com/\" rel=\"nofollow\" title=\"app.powerbi.com\">app.powerbi.com</a>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Authenticate using your account credentials.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Check for the created gateway under <strong>Settings</strong> &gt; <strong>Manage connections and gateways </strong>&gt;<strong> On-premises data gateways</strong>. The gateway that you have installed and configured should appear here.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to <strong>Workspaces</strong> and click <strong>New workspace</strong> to create a workspace.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the created workspace, click <b>New</b>, select <strong>Dataflow</strong>, and then select <strong>Add new tables</strong>. </li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Search for Vertica and select it.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Specify the connection settings and credentials.\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Server</td>\n<td>The Vertica host name.</td>\n</tr>\n<tr>\n<td>Database</td>\n<td>The Vertica database.</td>\n</tr>\n<tr>\n<td>Connection</td>\n<td>Select <strong>Create new connection </strong>to create and establish a new connection to the data source or select an existing connection if you've connected before.</td>\n</tr>\n<tr>\n<td>Connection name</td>\n<td>Enter a descriptive name for the new connection.</td>\n</tr>\n<tr>\n<td>Data gateway</td>\n<td>Select the Power BI gateway installed for creating Cloud Cost Reporting reports.</td>\n</tr>\n<tr>\n<td>Authentication kind</td>\n<td>Basic</td>\n</tr>\n<tr>\n<td>Username</td>\n<td>The name of the read-only user.</td>\n</tr>\n<tr>\n<td>Password</td>\n<td>The password of the read-only user</td>\n</tr>\n</tbody>\n</table>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the views you want to use for creating reports and click <strong>Transform data</strong>. Name your dataflow and save it.</li></ol>\n<h2><a id=\"Create_reports_using_Power_BI_Desktop\" name=\"Create_reports_using_Power_BI_Desktop\" title=\"Create reports using Power BI Desktop\"></a>Create reports using Power BI Desktop</h2>\n<p>You can use the Cloud Cost Reporting-related views provided out of the box to create cost and usage reports using BI tools based on your business requirements. For more information, see the <em>OOTB views</em> section.</p>\n<p>This section describes how to design a report that shows the unblended cost of each usage account by using the <strong>cloud_aws_cur_billing_bd_1q</strong> view.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">From <a href=\"https://powerbi.microsoft.com/en-us/downloads/\" title=\"Download Power BI tools and apps\">Download Power BI tools and apps</a>, download and install Power BI Desktop.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Choose <strong>Get data</strong> &gt; <strong>Dataflows</strong>. When prompted, sign in to your account.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the dataflow you created and the tables you want to use to design the report, and then click <strong>Load </strong>or <strong>Transform Data</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Matrix </strong>from the Visualizations pane to add a report in the design area.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Expand the <strong>cloud_aws_cur_billing_bd_1q</strong> view and drag <strong>line_item_usage_account_id</strong> and <strong>line_item_resource_id</strong> to the <strong>Rows </strong>field, <strong>bill_billing_period_start_date</strong> to the <strong>Columns </strong>field, and the sum of<strong> line_item_unblended_cost</strong> to the <strong>Values </strong>field. <br/>\n\tYou'll get a matrix report that looks like this:<br/>\n<a class=\"image\" href=\"\"> <img alt=\"matrix report\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/3a/SMAX_Matrix.png\" hspace=\"0\" src=\"../../../images/SMAX_Matrix_550cbeb8.png\" style=\"width:624px;height:289px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a><br/>\n\tUse the icons at the lower right corner to drill up and down data.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Publish </strong>and save your designed report for later use.</li></ol>\n<h3><a id=\"Cloud_Cost_Reporting_sample_reports\" name=\"Cloud_Cost_Reporting_sample_reports\" title=\"Cloud Cost Reporting sample reports\"></a>Cloud Cost Reporting sample reports</h3>\n<p>You can also use the following Cloud Cost Reporting sample reports to quickly build your reports:</p>\n<p><strong>Cloud Spend Summary</strong><br/>\n<a class=\"image\" href=\"\"> <img alt=\"cloud spend summary\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/6a/CloudSpendSum.PNG\" hspace=\"0\" src=\"../../../images/CloudSpendSum_dd52ba49.PNG\" style=\"width:800px;height:649px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></p>\n<p><strong>AWS Cloud Cost</strong><br/>\n<a class=\"image\" href=\"\"> <img alt=\"AWS cloud cost\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/3f/AWSCloudCost.PNG\" hspace=\"0\" src=\"../../../images/AWSCloudCost_4fcedb63.PNG\" style=\"width:800px;height:651px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></p>\n<p><strong>Azure Cloud Cost</strong><br/>\n<a class=\"image\" href=\"\"> <img alt=\"Azure cloud cost\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/b/bb/AzureCloudCost.PNG\" hspace=\"0\" src=\"../../../images/AzureCloudCost_ff0eb157.PNG\" style=\"width:800px;height:526px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a></p>\n<p>To use these sample reports:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Download the <strong>BYOBI FinOps Reports</strong> file from <a href=\"https://marketplace.opentext.com/itom/content/byobi-finops-reports\" title=\"ITOM marketplace\">ITOM marketplace</a>. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Get the workspace ID and dataflow ID in your Power BI Service:\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">To get the workspace ID: Log in to <a href=\"http://app.powerbi.com/\" title=\"app.powerbi.com\">app.powerbi.com</a>, open your chosen workspace, and find the workspace ID from the URL in your browser. It is in this format: <i>app.powerbi.com/groups/<strong>&lt;workspaceID&gt;</strong>/</i></li><li style=\"margin-left: 40px; position: relative;\">To get the dataflow ID: Open your chosen dataflow in that workspace and find the dataflow ID from the URL in your browser. It is in this format: <em>app.powerbi.com/groups/&lt;workspaceID&gt;/dataflows/<strong>&lt;dataflowID&gt;</strong>?experience=power-bi</em></li></ul>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Double-click to open the .pbix file.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Transform data</strong>. In the <strong>Queries</strong> section on the left, enter the workspace ID and dataflow ID to view the reports.</li></ol>\n<h2><a id=\"OOTB_views\" name=\"OOTB_views\" title=\"OOTB views\"></a>OOTB views</h2>\n<h3><a id=\"AWS_views\" name=\"AWS_views\" title=\"AWS views\"></a>AWS views</h3>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>cloud_aws_cm_billing_bd_xx  </p>\n</td>\n<td>\n<p>Data is gathered according to billing dates and then aggregated over various time periods. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>cloud_aws_cm_billing_currency_codes</td>\n<td>View with currency code information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_aws_cm_billing_payer_accounts</td>\n<td>View with billing payer accounts information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_aws_cm_billing_raw</td>\n<td>\n<p>The data comes from raw data and has complete column information. The query speed of this view is slower compared to the preceding views.</p>\n<p>The <a href=\"https://docs.aws.amazon.com/cur/latest/userguide/data-dictionary.html\" title=\"Cost and Usage Reports\">Cost and Usage Reports</a> topic describes a subset of columns. You can search for <code>[dataDictionary]_[columnName]</code> to find the corresponding columns in the <strong>RAW </strong>view. For example, if you want to search for <em>bill/PayerAccountId</em>, you can use <em>bill_payerAccountId</em> in the <strong>RAW </strong>view.</p>\n<p>To meet business requirements, you can join the preceding views with the <strong>RAW </strong>view based on the date field with the same name.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>cloud_aws_cm_billing_ud_xx </p>\n</td>\n<td>\n<p>Data is gathered according to usage dates and then aggregated over various time periods. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>cloud_aws_cm_billing_usage_accounts</p>\n</td>\n<td>View with billing usage accounts information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_aws_cm_usage_metrics_1m</td>\n<td>View with usage information.</td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Key_columns_in_AWS_views\" name=\"Key_columns_in_AWS_views\" title=\"Key columns in AWS views\"></a>Key columns in AWS views</h3>\n<table itemprop=\"copy-paste-table\">\n<thead>\n<tr>\n<th scope=\"col\">Name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bill_billing_period_start_date_xx</td>\n<td>\n<p>The start time of the billing cycle for aggregating cost data of the management accounts. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>line_item_usage_start_date_xx</td>\n<td>\n<p>The start time of the billing cycle for aggregating cost data of the usage accounts. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>product_instance_type</td>\n<td>Describes the instance type, size, and family, which indicates the CPU, networking, and storage capacity of your instance.</td>\n</tr>\n<tr>\n<td>pricing_term</td>\n<td>Indicates whether your AWS usage is <strong>Reserved </strong>or <strong>On-Demand</strong>.</td>\n</tr>\n<tr>\n<td>pricing_purchase_option</td>\n<td>Indicates how you have chosen to pay for this spend. Valid values are <strong>All Upfront</strong>, <strong>Partial Upfront</strong>, and <strong>No Upfront</strong>.</td>\n</tr>\n<tr>\n<td>product_region</td>\n<td>The geographical area that hosts your AWS services. Use this field to analyze the spend across a particular region.</td>\n</tr>\n<tr>\n<td>product_product_name</td>\n<td>The full name of the AWS service. Use this column to filter AWS usage by AWS service.</td>\n</tr>\n<tr>\n<td>product_product_family</td>\n<td>The category for the type of product.</td>\n</tr>\n<tr>\n<td>line_item_resource_id</td>\n<td>If you chose to include individual resource IDs in your report, this column contains the ID of the resource that you provisioned. For example, an Amazon S3 storage bucket, an Amazon EC2 compute instance, or an Amazon RDS database can each have a resource ID.</td>\n</tr>\n<tr>\n<td>line_item_product_code</td>\n<td>The code of the product billed for. For example, <em>Amazon EC2</em> is the product code for <em>Amazon Elastic Compute Cloud</em>.</td>\n</tr>\n<tr>\n<td>bill_payer_account_id</td>\n<td>The ID of the paying account. For an organization in AWS Organizations, this is the ID of the management account.</td>\n</tr>\n<tr>\n<td>line_item_usage_account_id</td>\n<td>The ID of the account that uses this line item. For organizations, this can be either the management account or a member account. You can use this field to track costs or usage by account.</td>\n</tr>\n<tr>\n<td>line_item_usage_type</td>\n<td>The usage details of the line item. For example, <em>USW2-BoxUsage:m2.2xlarge</em> describes an <em>M2 High Memory Double Extra Large</em> instance in the US West (Oregon) Region.</td>\n</tr>\n<tr>\n<td>line_item_currency_code</td>\n<td>The currency in which this line item is displayed. All AWS customers are billed in US dollars by default.</td>\n</tr>\n<tr>\n<td>line_item_line_item_type</td>\n<td>The type of charge covered by this line item.</td>\n</tr>\n<tr>\n<td>line_item_unblended_cost</td>\n<td>This cost metric reflects the cost of the usage. When grouped by charge type, unblended costs separate discounts into their own line items. This enables you to view the amount of each discount received. </td>\n</tr>\n<tr>\n<td>line_item_blended_cost </td>\n<td>This cost metric reflects the average cost of usage across the consolidated billing family. If you use the consolidated billing feature in AWS Organizations, you can view costs using blended rates. For more information, see <a aria-label=\"Link For\n more information, see Blended Rates and Costs.\" href=\"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/con-bill-blended-rates.html#Blended_CB\" rel=\"noreferrer noopener\" target=\"_blank\" title=\"Blended Rates and Costs\">Blended Rates and Costs</a>.</td>\n</tr>\n<tr>\n<td>line_item_net_unblended_cost</td>\n<td>This cost metric reflects the cost after discounts.</td>\n</tr>\n<tr>\n<td>line_item_amortized_cost         </td>\n<td>This cost metric reflects the effective cost of the upfront and monthly reservation fees spread across the billing period.</td>\n</tr>\n<tr>\n<td>line_item_net_amortized_cost</td>\n<td>This cost metric amortizes the upfront and monthly reservation fees while including discounts such as RI volume discounts.</td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Azure_views\" name=\"Azure_views\" title=\"Azure views\"></a>Azure views</h3>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cloud_azure_cm_billing_actual_xx</td>\n<td>\n<p>The start time of the billing cycle for aggregating cost data. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_billing_actual_billing_accounts</td>\n<td>View with billing account information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_billing_actual_billing_profiles</td>\n<td>View with billing profiles information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_billing_actual_currency_codes</td>\n<td>View with currency code information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_billing_actual_raw</td>\n<td>\n<p>The data comes from raw data and has complete column information. The query speed of this view is slower compared to the preceding views.</p>\n<p>To meet business requirements, you can join the preceding views with the <strong>RAW </strong>view based on the date field with the same name.</p>\n</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_billing_actual_subscriptions</td>\n<td>View with subscription information from bill data.</td>\n</tr>\n<tr>\n<td>cloud_azure_cm_usage_metrics_actual_1m</td>\n<td>View with usage information.</td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Key_columns_in_Azure_views\" name=\"Key_columns_in_Azure_views\" title=\"Key columns in Azure views\"></a>Key columns in Azure views</h3>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>date_xx</td>\n<td>\n<p>The start date of the billing period. <strong>xx </strong>can be one of the following values:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>1d</strong>: indicates daily aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1m</strong>: indicates monthly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1q</strong>: indicates quarterly aggregation.</li><li style=\"margin-left: 28px; position: relative;\"><strong>1y</strong>: indicates yearly aggregation.</li></ul>\n</td>\n</tr>\n<tr>\n<td>account_name</td>\n<td>Display name of the EA enrollment account or pay-as-you-go billing account.</td>\n</tr>\n<tr>\n<td>billing_currency</td>\n<td>Currency associated with the billing account.</td>\n</tr>\n<tr>\n<td>cost_in_billing_currency</td>\n<td>Cost of the charge in the billing currency before credits or taxes.</td>\n</tr>\n<tr>\n<td>invoice_section_name</td>\n<td>Name of the EA department or MCA invoice section.</td>\n</tr>\n<tr>\n<td>meter_category</td>\n<td>Name of the classification category for the meter. For example, Cloud services and Networking.</td>\n</tr>\n<tr>\n<td>meter_name</td>\n<td>The name of the meter. Purchases and Marketplace usage may be shown as blank or unassigned.</td>\n</tr>\n<tr>\n<td>meter_sub_category</td>\n<td>Name of the meter subclassification category. Purchases and Marketplace usage may be shown as blank or unassigned.</td>\n</tr>\n<tr>\n<td>quantity</td>\n<td>The number of units purchased or consumed.</td>\n</tr>\n<tr>\n<td>resource_group_name</td>\n<td>Name of the resource group the resource is in. Not all charges come from resources deployed to resource groups. Charges that don't have a resource group will be shown as null or empty, Others, or Not applicable.</td>\n</tr>\n<tr>\n<td>resource_id</td>\n<td>Unique identifier of the <a href=\"https://learn.microsoft.com/en-us/rest/api/resources/resources\" title=\"Azure Resource Manager\">Azure Resource Manager</a> resource.</td>\n</tr>\n<tr>\n<td>resource_location</td>\n<td>Datacenter location where the resource is running.<br/>\n\t\t\tNormalized location of the resource, if different resource locations are configured for the same regions. Purchases and Marketplace usage may be shown as blank or unassigned.</td>\n</tr>\n<tr>\n<td>subscription_name</td>\n<td>Name of the Azure subscription.</td>\n</tr>\n<tr>\n<td>unit_of_measure</td>\n<td>The unit of measure for billing for the service. For example, compute services are billed per hour.</td>\n</tr>\n</tbody>\n</table>\n<h2><a id=\"Related_topics\" name=\"Related_topics\" title=\"Related topics\"></a>Related topics</h2>\n<p><a href=\"https://learn.microsoft.com/en-us/power-bi/\" title=\"Power BI documentation\">Power BI documentation</a></p>\n</div>",
  "modifiedon": "2026-01-28 17:33:08"
}