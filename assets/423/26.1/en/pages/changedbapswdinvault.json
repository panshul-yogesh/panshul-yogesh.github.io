{
  "title": "Change the password of DB owner or DBA in Vault",
  "content": "<div class=\"mw-parser-output\"><br/><p>This topic explains how to update the DB or DBA passwords stored in the suite when you change them in the database.</p>\n<p>The installer creates databases and database users for the suite components. The database user passwords are stored in Vault. So, if you change the password in the database, you must update the stored password in Vault too. Additionally, If you use helm to deploy the suite, you must update the password in the helm deployment YAML file  (YAML file) too.</p>\n<p>Refer to the following table for the list databases and database users created for the suite components:</p>\n<table>\n<tbody>\n<tr>\n<th>Component</th>\n<th>User name</th>\n<th>Databases</th>\n<th>Note</th>\n</tr>\n<tr>\n<td>Service Management</td>\n<td>maas_admin</td>\n<td>maas_admin, maas_template, xservices_ems, xservices_mng, xservices_rms, xie, scheduler, and carbon</td>\n<td>Mandatory</td>\n</tr>\n<tr>\n<td>Suite Administration</td>\n<td>bo_db_user</td>\n<td>bo_ats, bo_user, bo_config, and bo_license</td>\n<td>Mandatory</td>\n</tr>\n<tr>\n<td>Smart Analytics</td>\n<td>smarta</td>\n<td>smartadb</td>\n<td>Mandatory</td>\n</tr>\n<tr>\n<td>IdM</td>\n<td>idm</td>\n<td>idm</td>\n<td>Mandatory</td>\n</tr>\n<tr>\n<td>Autopass</td>\n<td>autopass</td>\n<td>autopassdb</td>\n<td>Mandatory</td>\n</tr>\n<tr>\n<td>DND</td>\n<td>hcm_admin</td>\n<td>dnd, oo, and oodesigner</td>\n<td>Optional</td>\n</tr>\n<tr>\n<td>CGRO</td>\n<td>cgro</td>\n<td>cgro</td>\n<td>Optional</td>\n</tr>\n</tbody>\n</table>\n<p>The following sections describe the steps to update the DB and DBA password in Vault and in the YAML file.</p>\n<h2 id=\"Prerequisites\">Prerequisites</h2>\n<ul>\n<li>Make sure you know the <b>suite-admin</b> user password. You will need it when changing the DB or DBA password.</li>\n<li>Download the Operation Toolkit package from <a href=\"https://marketplace.opentext.com/itom/content/service-management-automation-operation-toolkit\" rel=\"nofollow\" target=\"1\" title=\"ITOM Marketplace\">ITOM Marketplace</a>. This package contains the <b>passwordManagement.sh </b>script required to change the passwords stored in Vault. You can find the script under the <strong>password_management</strong> folder in the package.</li>\n<li>To change the password, you must run the script on the runtime platform provided by the <a href=\"https://marketplace.opentext.com/itom/content/service-management-automation-support-assistant\" title=\"SMA Support Assistant\">Support Assistant</a>. To set up the platform, see <a href=\"/doc/423/26.1/tookitcontainer#Install_the_runtime_platform\" title=\"Install the runtime platform\">Install the runtime platform</a>.</li>\n</ul>\n<h2>Update password in Vault</h2>\n<p>Complete the following steps to change the DB or DBA password in Vault. To get help on the script usage, run the command <code>./passwordManagement.sh -h</code>.</p>\n<ol>\n<li>Prepare the <strong>passwordManagement.sh</strong> script. For details, see <a href=\"/doc/423/26.1/tookitcontainer#Prepare_the_scripts%C2%A0on_the_runtime_platform\" title=\"Prepare the scripts on the runtime platform\">Prepare the scripts on the runtime platform</a>.</li>\n<li>Run the <strong>passwordManagement.sh </strong>script to update the new passwords in Vault. For details, see <a href=\"/doc/423/26.1/tookitcontainer#Run_the_scripts_on_the_runtime_platform\" title=\"Run the scripts on the runtime platform\">Run the scripts on the runtime platform</a>.</li>\n</ol>\n<h2>Update password in YAML file</h2>\n<div>If your suite uses helm deployment, you must update the <strong>secrets</strong> parameter in the YAML file to use the new passwords. This will ensure that the passwords in helm and Vault are in sync.</div>\n<div>Complete the following steps to apply the new DB or DBA passwords to your YAML file.</div>\n<ol>\n<li>[Optional] If you don't remember the path of your custom <strong>my-values.yaml</strong> file, run the following command to extract it.\n\n\t<div class=\"pre-wrapper\">\n<pre>helm get values &lt;release name&gt; -n &lt;suite namespace&gt; &gt; my-values.yaml</pre>\n</div>\n\tWhere<em> &lt;release name&gt;</em> is the release name. Run the following command to get the release name:\n\n\t<div class=\"pre-wrapper\">\n<pre><span id=\"cke_bm_32456C\" style=\"display: none;\"> </span>helm list -n &lt;suite namespace&gt; | awk '{print $1}'</pre>\n</div>\n<em>Where &lt;suite namespace&gt;</em> is the unique namespace of the ESM Helm chart deployment.</li>\n<li>Update the <strong>secrets</strong> parameters in YAML file to use the new DB or DBA passwords. See the following sample entries:\n\t<pre>secrets:\n  dbPassword: &lt;new db passwoord in Base64 encoded format&gt;\n  dbaPassword: &lt;new dba passwoord in Base64 encoded format&gt;</pre>\n</li>\n<li>Run the following command to clean up unused jobs before applying the changes.\n\t<div class=\"pre-wrapper\">\n<pre>kubectl get job -n &lt;suite namespace&gt;|grep -v NAME | awk '{print $1}'|xargs kubectl delete job -n &lt;suite namespace&gt;</pre>\n</div>\n</li>\n<li>Run the following command to apply the update:\n\t<div class=\"pre-wrapper\">\n<pre>helm upgrade &lt;release name&gt; -n &lt;suite namespace&gt; &lt;ESM helm chart&gt; -f my-values.yaml</pre>\n</div>\n\tWhere <i>&lt;ESM helm chart&gt;</i>  is the absolute path to the helm package. For example:\n\n\t<pre>helm upgrade sma -n itsma ESM_Helm_Chart-2x.x.x/charts/esm-1.0.0+2x.x-xxx.tgz -f my-values.yaml</pre>\n</li>\n</ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}