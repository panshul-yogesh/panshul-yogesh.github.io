{
  "title": "Cloud cost data collection fails with a permission error on projection_columns",
  "content": "<div class=\"mw-parser-output\">\n<p data-end=\"929\" data-start=\"868\">The cloud cost data collection fails. On the <strong data-end=\"311\" data-start=\"287\">Cloud Cost Data Providers</strong> page, the <strong data-end=\"337\" data-start=\"322\">Last Status</strong> field for each provider shows <strong data-end=\"378\" data-start=\"368\">Failed</strong>. </p>\n<p>To confirm whether this failure is due to a permission error on the <strong>projection_columns</strong> table, check the <strong>showback </strong>logs.</p>\n<h2 id=\"Locate_and_review_the_most_recent_logs_to_confirm_the_communication_failure_between_Showback_and_RabbitMQ_services\"><a id=\"Check_the_showback_logs\" name=\"Check_the_showback_logs\" title=\"Check the showback logs\"></a>Check the showback logs</h2>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Log in to the NFS server.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to the following location:\n\t<pre><code>&lt;logging-volume&gt;/cgro/showback/&lt;namespace&gt;/&lt;namespace&gt;__&lt;showback-pod&gt;__&lt;showback-container&gt;__&lt;hostname&gt;</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Open the <strong>hcm-showback.log</strong> file and look for entries similar to the following:</p>\n<pre><code>ERROR: Permission denied for relation projection_columns\n        at com.vertica.util.ServerErrorData.buildException(Unknown Source)\n        at com.vertica.dataengine.VResultSet.fetchChunk(Unknown Source)\n        at com.vertica.dataengine.VResultSet.initialize(Unknown Source)</code></pre>\n<p>If these entries appear, the failure is caused by a permission issue on the <strong>projection_columns</strong> table.</p>\n</li></ol>\n<h2 id=\"Cause\"><a id=\"Cause\" name=\"Cause\" title=\"Cause\"></a>Cause</h2>\n<p>This happens when the <strong>Vertica RW user</strong> for Cloud Cost Reporting does not have permission to read the <strong data-end=\"1115\" data-start=\"1083\">v_catalog.projection_columns</strong> table.</p>\n<h2 id=\"Solution\"><a id=\"Solution\" name=\"Solution\" title=\"Solution\"></a>Solution</h2>\n<div>\n<p> Run the following command in Vertica as an administrator or superuser to grant read access:</p>\n<div>\n<pre><code>GRANT SELECT ON v_catalog.projection_columns TO PUBLIC;</code></pre>\n</div>\n</div>\n</div>",
  "modifiedon": "2026-01-28 19:47:35"
}