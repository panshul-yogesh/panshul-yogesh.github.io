{
  "title": "Upgrade the UD/UCMDB deployment (containerized UD/UCMDB)",
  "content": "<div class=\"mw-parser-output\"><p>Perform the following tasks to upgrade Containerized UD/UCMDB deployment.</p><div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div><p>When you upgrade the containerized UD/UCMDB, the system will have downtime for over 10 minutes based on the number of customers and the CI volume of these customers.</p></div></div></div><h2 id=\"Download_new_CMS_charts\"><a id=\"Download-the-new-UD-UCMDB-chart-package\" name=\"Download-the-new-UD-UCMDB-chart-package\" title=\"Download the new UD/UCMDB chart package\"></a>Download the new UD/UCMDB chart package</h2><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-CmsPrepareDownloadPackages||N\"></span>\n<p>You need to download the chart package from the Software website to a control plane node (embedded Kubernetes) or the bastion node (managed Kubernetes).</p>\n<p>To do this, follow these steps:</p>\n<ol>\n<li>Download the <b>UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>.zip</b> file from the <a href=\"https://sld.microfocus.com/mysoftware/index\" title=\"Software Licenses and Downloads\">Software Licenses and Downloads</a> website.</li>\n<li>Copy the file to a temporary directory. </li>\n<li>\n<p>Unzip the UD/UCMDB installation package:</p>\n<pre>unzip UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>.zip</pre>\n<p>The unzipped files are as follows:</p>\n<ul>\n<li><code>ucmdb-helm-charts-<span class=\"_MF_Product_Version\">25.4</span>.tgz</code></li>\n<li><code>ucmdb-helm-charts-<span class=\"_MF_Product_Version\">25.4</span>.tgz.sig</code></li>\n<li><code>Read_Me.pdf</code></li>\n</ul>\n</li>\n<li>(Optional) Verify the UD/UCMDB installation package. Skip this step if you don't want to verify the package. For detailed instructions, see <i>(Optional) Verify the UD/UCMDB installation package</i>.</li>\n<li>Untar the chart package:\n\t<pre>cd UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>/\ntar -xvzf ucmdb-helm-charts-<span class=\"_MF_Product_Version\">25.4</span>.tgz</pre>\n<p>The following table describes the essential files inside the chart package:</p>\n<table>\n<caption>chart package</caption>\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Name</p>\n</th>\n<th scope=\"col\">\n<p>File</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>Helm chart file</p>\n</td>\n<td>\n<p>UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>/ucmdb-helm-charts/charts/ucmdb-1.xx.x-xxx+2x.x.x.tgz</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Example PV yaml file</p>\n</td>\n<td>\n<p>UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>/ucmdb-helm-charts/samples/ucmdb-pv.yaml</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Example values.yaml file</p>\n</td>\n<td>\n<p>For standalone containerized UD/UCMDB environment:</p>\n<p>UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>/ucmdb-helm-charts/samples/values.yaml</p>\n<p>For shared IdM (Suite IdM) environment:</p>\n<p>UCMDB_Helm_Chart-<span class=\"_MF_Product_Version\">25.4</span>/ucmdb-helm-charts/samples/values-with-smax.yaml</p>\n</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n<h2>(Optional) Verify the UD/UCMDB installation package</h2>\n<p>Skip this step if you don't want to verify the package.</p>\n<p start=\"1\">To verify the UD/UCMDB installation package, visit <a href=\"https://portal.microfocus.com/s/article/KM000003948?language=en_US\" title=\"KM000003948\">KM000003948</a> to download the attached compressed tar file and get detailed steps on how to verify signatures. Unzip the downloaded file, locate the <code>ot-package-sign.pub</code> key and use it to verify the package.</p>\n<span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-CmsPrepareDownloadPackages||N\"></span><h2 id=\"Download_upload_image\"><a id=\"Download-and-upload-new-UD-UCMDB-images\" name=\"Download-and-upload-new-UD-UCMDB-images\" title=\"Download and upload new UD/UCMDB images\"></a>Download and upload new UD/UCMDB images</h2><p>For details, see <a href=\"/doc/423/26.1/cmswithsmaxdownloadcontainerimages\" title=\"Download container images for UD/UCMDB\">Download container images</a> and <a href=\"/doc/423/26.1/cmswithsmaxuploadinstallationimages\" title=\"Upload container images for UD/UCMDB to a registry\">Upload container images</a>.</p><h2><a id=\"Perform-UD-UCMDB-version-update\" name=\"Perform-UD-UCMDB-version-update\" title=\"Perform UD/UCMDB version update\"></a>Perform UD/UCMDB version update</h2><p>To upgrade UD/UCMDB to the current release, follow these steps:</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><p>Run the following command to upgrade UD/UCMDB: </p><pre>helm upgrade &lt;UD/UCMDB RELEASE NAME&gt; &lt;UD/UCMDB CHART FILE&gt; -n &lt;UD/UCMDB NAMESPACE&gt; -f &lt;VALUES YAML FILE&gt;</pre><p>Where,</p><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><code>&lt;<em>UD/UCMDB RELEASE NAME</em>&gt;</code> is the release name of the UD/UCMDB deployment that you specified when installing UD/UCMDB.</li><li style=\"margin-left: 40px; position: relative;\"><code>&lt;<em>UD/UCMDB CHART FILE</em>&gt;</code> is the new tar file containing the UD/UCMDB installation charts.</li><li style=\"margin-left: 40px; position: relative;\"><code>&lt;<em>UD/UCMDB NAMESPACE</em>&gt;</code> is the unique namespace of the UD/UCMDB deployment.</li><li style=\"margin-left: 40px; position: relative;\"><code>&lt;<em>VALUES YAML FILE</em>&gt;</code> is your custom <strong>my-v</strong><b>alues.yaml </b>file with properties configured for the UD/UCMDB deployment. Use the file that you backed up before the upgrade, see <a href=\"/doc/423/26.1/cmsbackup\" title=\"Back up the UD/UCMDB deployment before upgrade (containerized UD/UCMDB)\">Back up UD/UCMDB deployment</a>.</li></ul><p>For example:</p><pre>helm upgrade ucmdb-prod UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/charts/ucmdb-1.xx.x-xxx+2x.x.x.tgz -n ucmdb-prod -f my-values.yaml</pre><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>You can run the above command with the <code>--dry-run</code> argument to simulate an upgrade.</div></div></div></li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><p>Verify the UD/UCMDB deployment. For details, see <a href=\"/doc/423/26.1/installcmswithsmaxverify\" title=\"Verify the UD/UCMDB installation\">Verify the installation</a>.</p></li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><p>Access the <strong>UCMDB Server Status</strong> page (<strong>https://&lt;EXTERNAL_ACCESS_HOST&gt;:&lt;EXTERNAL_ACCESS_PORT&gt;/status</strong>) to make sure that the status is <strong>Fully Up</strong> for all customers. </p></li></ol></div>",
  "modifiedon": "2025-10-24 08:51:12"
}