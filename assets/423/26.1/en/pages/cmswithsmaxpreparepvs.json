{
  "title": "Prepare persistent volumes for UD/UCMDB",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-CmsPrepareCreatePV||N\"></span><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>UD/UCMDB installation in Helm mode requires the following Persistent Volumes (PVs). PVs are relevant to NFS volumes.</p>\n<div>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Component</th>\n<th scope=\"col\">Persistent volume name</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>UD/UCMDB</td>\n<td>ucmdb-config-volume</td>\n<td>PV for configuration</td>\n</tr>\n<tr>\n<td>UD/UCMDB</td>\n<td>ucmdb-data-volume</td>\n<td>PV for data</td>\n</tr>\n<tr>\n<td>UD/UCMDB</td>\n<td>ucmdb-log-volume</td>\n<td>PV for logs</td>\n</tr>\n</tbody></table>\n</div>\n<p>If you already have the PVs available for use, you need to ensure that the storageClassName attribute of the PVs is the same as the storage class name in the <strong>values.yaml</strong> file. In the later step, you will need to specify the name of PV to be bound with one of the persistent volume claims (PVCs).</p>\n<p>If you want to create the required PVs from scratch, perform the following tasks:</p>\n<ol>\n<li>\n<p>Navigate to the chart package directory. For example:</p>\n<p><b><code>cd UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/samples/</code></b></p>\n</li>\n<li>\n<p>Open the <b>ucmdb-pv.yaml </b>file with a text editor, provide the FQDN of the NFS server and the NFS directory path that you provided during the creation of the NFS volumes, and then save the file.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">By default, the storageClassName attribute of the PVs is empty. If you change the value, make sure that the storageClassName attribute of the PVs is the same as the storage class name in the <strong>values.yaml</strong> file so that the PVs and PVCs can be bound together.</div>\n</div>\n</li>\n<li>\n<p>Run the following command to create persistent volumes:</p>\n<p><b><code>kubectl create -f UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/samples/ucmdb-pv.yaml</code></b></p>\n</li>\n<li>\n<p>Run the following command to verify the volume creation:</p>\n<p><b><code>kubectl get pv |grep ucmdb</code></b></p>\n</li>\n</ol>\n<p><br/>\n</p><p><br/>\n</p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-CmsPrepareCreatePV||N\"></span></div><p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}