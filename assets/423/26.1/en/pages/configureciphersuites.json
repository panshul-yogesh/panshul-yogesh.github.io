{
  "title": "Configure Cipher suites used in SSL connection",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>Service Management server uses cipher suites to securely connect to the other servers and client. Some cipher suites are available by default out of box. You can add or remove cipher suites to customize it for your deployment.</p>\n<h2>Configure cipher suites in Service Management</h2>\n<p>To configure cipher suites for SMAX, complete the following steps.</p>\n<ol>\n<li>Run the following command to get the release name:\n\t<pre><code class=\"language-bash\">helm list -n &lt;ESM_NAMESPACE&gt; | awk '{print $1}'</code></pre>\n</li>\n<li>Run the following command to extract the deployment YAML values into <strong>cu_values.yaml</strong> file. Replace<code>&lt;ESM_RELEASE_NAME&gt;</code> with the release name from Step 1 and <code>&lt;ESM_NAMESPACE&gt;</code> with the namespace of the SMAX deployment:\n\t<pre><code class=\"language-bash\">helm get values &lt;ESM_RELEASE_NAME&gt; -n  &lt;ESM_NAMESPACE&gt; &gt;&gt; cu_values.yaml</code></pre>\n<p>For example:</p>\n<pre><code class=\"language-bash\">helm get values sma -n esm-xxx &gt; cu_values.yaml</code></pre>\n</li>\n<li>\n<p>Run the following commands to get the available ciphers from <code>itsma-common-configmap</code>:</p>\n<pre><code class=\"language-bash\">kubectl describe cm itsma-common-configmap -n &lt;ESM_NAMESPACE&gt; | grep java_ssl_ciphers -A 2\nkubectl describe cm itsma-common-configmap -n &lt;ESM_NAMESPACE&gt; | grep openssl_ssl_ciphers -A 2</code></pre>\n</li>\n<li>\n<p>Append any required additional ciphers to the ciphers extracted in Step 3. Add the cipher list to <b>cu_values.yaml</b> file under the global section. For example:</p>\n<pre><code class=\"language-yaml\">global:\n  java_ssl_ciphers: \"TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_256_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\"\n  openssl_ssl_ciphers: \"TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_CCM_SHA256:TLS_AES_128_CCM_8_SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-CBC-SHA256:DHE-RSA-AES128-CBC-SHA256:ECDHE-RSA-AES256-CBC-SHA384:ECDHE-RSA-AES128-CBC-SHA256:AES256-GCM-SHA384\"\n</code></pre>\n</li>\n<li> Run the following command to check if any job exists. The command will not return anything if there are no jobs. If a job exists, make sure it is in <strong>Completed </strong>status and delete it.\n\t<pre><code class=\"language-bash\">kubectl get pod -n &lt;ESM_NAMESPACE&gt;|grep job</code></pre>\n</li>\n<li>Run the following command to apply the change. Replace <code>&lt;ESM_HELM_CHART_PATH&gt;</code> with the absolute path of the helm package:\n\t<pre><code class=\"language-bash\">helm upgrade &lt;ESM_RELEASE_NAME&gt; -n &lt;ESM_NAMESPACE&gt; &lt;ESM_HELM_CHART_PATH&gt; -f cu_values.yaml </code></pre>\n\tFor example:\n\n\t<pre><code class=\"language-bash\">helm upgrade sma -n esm-xxx esm-1.0.0+2x.x-xxx\\charts\\esm-1.0.0+2x.x-xxx.tgz -f cu_values.yaml </code></pre>\n</li>\n<li>Restart the suite after updating the ciphers. For details, see <a href=\"/doc/423/26.1/restartsmasuite\" title=\"Restart SMA suite\">Restart SMA suite</a>.</li>\n<li>Additionally, you must update the cipher values in DND database with the values from <code>java_ssl_ciphers</code> parameter obtained in Step 4. To update the ciphers in the database, invoke the <strong>Update a single application property by id</strong> API, with property id set to f049a7877cd04ccea26a663553d311fd. For the API usage, see <a href=\"http://doc/SMAX/Main/DNDApplicationPropertiesAPI#Update_a_single_application_property_by_id\" title=\"Update a single application property by id\">Update a single application property by id</a>.</li>\n</ol>\n<h2>Customize DND ciphers</h2>\n<p>You can customize the ciphers for DND by updating the <code>DND_PROP_APPLICATION_SECURITY_JAVA_DISABLEDCIPHERS</code> property. This parameter lists cipher suites that are disabled in DND and can't be used for the server-side or client-side connections. This parameter overides any ciphers enabled at the global level. To disable the ciphers in DND, complete the following steps:</p>\n<ol>\n<li><span id=\"cke_bm_13477S\" style=\"display: none;\"> </span>Run the following command to get the release name:\n\n\t<pre><code class=\"language-bash\">helm list -n &lt;ESM_NAMESPACE&gt; | awk '{print $1}'</code></pre>\n</li>\n<li>Run the following command to extract the deployment YAML values into <strong>cu_values.yaml</strong> file. Replace<code>&lt;ESM_RELEASE_NAME&gt;</code> with the release name from Step 1 and <code>&lt;ESM_NAMESPACE&gt;</code> with the unique namespace of the SMAX deployment:\n\t<pre><code class=\"language-bash\">helm get values &lt;ESM_RELEASE_NAME&gt; -n  &lt;ESM_NAMESPACE&gt; &gt;&gt; cu_values.yaml</code></pre>\n\tFor example:\n\n\t<pre><code class=\"language-bash\">helm get values sma -n esm-xxx &gt; cu_values.yaml</code></pre>\n</li>\n<li>To disable any ciphers, add them to <code>dndPropApplicationSecurityJavaDisabledCiphers</code> in the <b>cu_values.yaml</b> file. For example:\n\t<pre><code class=\"language-yaml\"># Add the following parameters in values.yaml\ndnd:\n  itom-dnd-controller:\n    dndPropApplicationSecurityJavaDisabledCiphers: TLS_RSA_WITH_AES_128_CBC_SHA</code></pre>\n</li>\n<li>Run the following command to check if any job exists. The command will not return anything if there are no jobs. If a job exists, make sure it is in <strong>Completed </strong>status and delete it.\n\t<pre><code class=\"language-bash\">kubectl get pod -n &lt;ESM_NAMESPACE&gt;|grep job</code></pre>\n</li>\n<li>Run the following command to apply the changes. Replace <code>&lt;ESM_HELM_CHART_PATH&gt;</code> with the absolute path of the helm package:\n\t<pre><code class=\"language-bash\">helm upgrade &lt;ESM_RELEASE_NAME&gt; -n &lt;ESM_NAMESPACE&gt; &lt;ESM_HELM_CHART_PATH&gt; -f cu_values.yaml </code></pre>\n\tFor example:\n\n\t<pre><code class=\"language-bash\">helm upgrade sma -n esm-xxx esm-1.0.0+2x.x-xxx\\charts\\esm-1.0.0+2x.x-xxx.tgz -f cu_values.yaml </code></pre>\n</li>\n<li>Restart the suite after updating the ciphers. For details, see <a href=\"/doc/423/26.1/restartsmasuite\" title=\"Restart SMA suite\">Restart SMA suite</a>.</li>\n</ol>\n<ul>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}