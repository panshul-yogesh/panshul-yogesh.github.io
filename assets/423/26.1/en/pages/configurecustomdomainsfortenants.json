{
  "title": "Configure custom domains for tenants",
  "content": "<div class=\"mw-parser-output\">\n<p>Normally, users access a tenant through a URL such as <i>https://myhost.mydomain.com/saw/ess?TENANTID=XXXXXXXX</i>. This means all tenants must use the same external access host name (in this example, myhost.mydomain.com) and users need to type a tenant ID. However, there are scenarios where you need to use multiple domains. For example, managed services providers (MSPs) need to use multiple domains for different customers to access their tenants, or large organizations need to use multiple domains for different business units to access the suite system.</p>\n<p>To meet this business need, for each tenant, you can configure a unique URL in https://&lt;custom domain&gt; format, where &lt;custom domain&gt; is a custom fully qualified domain name such as <strong>mytenant.example.com</strong>. You configure the custom domain name in the tenant record, and the system uses it to identify the tenant. This way, users no longer need to type their tenant ID.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>\n<ul style=\"padding-left: 0px;\"><li class=\"Admonition_Important\" style=\"margin-left: 28px; position: relative;\">Each custom domain is used to identify the corresponding tenant, and must be therefore unique and different from the external access host name of the suite (&lt;EXTERNAL_ACCESS_HOST&gt;).</li><li class=\"Admonition_Important\" style=\"margin-left: 28px; position: relative;\">The following user interfaces are tenant neutral and their login URLs can only use the external access host name of the suite: \n\t<ul style=\"padding-left: 0px;\"><li class=\"Admonition_Important\" style=\"margin-left: 40px; position: relative;\">Suite Administration: https://&lt;EXTERNAL_ACCESS_HOST&gt;/bo</li><li class=\"Admonition_Important\" style=\"margin-left: 40px; position: relative;\">IdM Admin portal: https://&lt;EXTERNAL_ACCESS_HOST&gt;/idm-admin</li><li class=\"Admonition_Important\" style=\"margin-left: 40px; position: relative;\">OMT management portal: https://&lt;EXTERNAL_ACCESS_HOST&gt;:5443</li></ul>\n</li></ul>\n</div></div></div>\n<h2><a id=\"Limitations\" name=\"Limitations\" title=\"Limitations\"></a>Limitations</h2>\n<p>The following describes the limitations of the custom domain feature and how this feature would impact your existing system configurations. </p>\n<h3><a id=\"End_user_portal_login_URLs\" name=\"End_user_portal_login_URLs\" title=\"End user portal login URLs\"></a>End user portal login URLs</h3>\n<p>Agent interface and Service Portal:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Users with the OAuth authentication type can only use the custom domain as the login URL. The original URL no longer works.</li><li style=\"margin-left: 28px; position: relative;\">Users with other authentication types can use both the custom domain and the original URL.</li></ul>\n<p>Mobile app: <br/>\nThe latest mobile app also supports custom domains. But when the tenant is using a custom domain, the initial mobile QR code URL is generated from the original URL by default, and you need to enter the custom domain URL in <b>Administration &gt; Configuration &gt; Application Settings</b><strong> &gt; Mobile App Settings &gt; </strong><b>Mobile QR code URL</b>. See <a href=\"/doc/423/26.1/mobileappsettings#Mobile_QR_code_URL\" title=\"Mobile app settings\">Mobile app settings</a>.</p>\n<h3><a id=\"Integrations\" name=\"Integrations\" title=\"Integrations\"></a>Integrations</h3>\n<p>The following integration configurations don't support custom domains (you must use the original external access host name):</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Integration URLs for external systems and configuration for the On-Premises Bridge (OPB) Agent\n\n\t<p>The OPB Agent configuration file (server-connection.conf) that you download from the product UI always uses the external access host name of the suite. Don't change the host name to the custom domain. Your existing external system integrations and the OPB Agent will continue to work after you configure a custom domain. </p>\n</li><li style=\"margin-left: 28px; position: relative;\">Webhook URLs (for the <a href=\"/doc/423/26.1/xielistener\" title=\"Listener\">listener</a> functionality) always use the external access host name of the suite even if you have configured a custom domain.</li><li style=\"margin-left: 28px; position: relative;\">URLs in REST APIs, such as the URLs in the ManagePerson API.</li></ul>\n<h3><a id=\"Custom_domain_naming\" name=\"Custom_domain_naming\" title=\"Custom domain naming\"></a>Custom domain naming</h3>\n<p>Accessing multiple tenants in one browser won't work if their custom domains share the same domain with the IdM service.</p>\n<p>For example, Tenant A has a custom domain of <em>dev.itsm.mycompany.net,</em> and Tenant B has a custom domain of <em>prd.itsm.mycompany.net</em>. In IdM Admin Portal, the <strong>IdM Service URI</strong> field configured in <strong>Global settings</strong> &gt; <strong>Others</strong> &gt; <strong>Common</strong> is <em>mycompany.net</em>. Then, users won't be able to access Tenant A and Tenant B in one browser.</p>\n<ul style=\"padding-left: 0px;\"></ul>\n<h3><a id=\"Existing_notification_templates_and_knowledge_articles\" name=\"Existing_notification_templates_and_knowledge_articles\" title=\"Existing notification templates and knowledge articles\"></a>Existing notification templates and knowledge articles</h3>\n<p>For existing notification templates or knowledge articles that reference the original external access host name, after you configure a custom domain for the tenant, the system doesn't automatically change the original host name to the custom domain. You need to manually check these templates and articles for the external access host name and change it to the custom domain as needed. </p>\n<h3><a id=\"Unsupported_capabilities_CMS_OO_and_Audit_\" name=\"Unsupported_capabilities_CMS_OO_and_Audit_\" title=\"Unsupported capabilities (CMS, OO, and Audit)\"></a>Unsupported capabilities (CMS, OO, and Audit)</h3>\n<p>Custom domains are not supported for the following capabilities:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Containerized UD/UCMDB</li><li style=\"margin-left: 28px; position: relative;\">Operations Orchestration (OO) Containerized</li><li style=\"margin-left: 28px; position: relative;\">Audit </li></ul>\n<p>Users must access these capabilities with their original URL. </p>\n<h3><a id=\"Miscellaneous\" name=\"Miscellaneous\" title=\"Miscellaneous\"></a>Miscellaneous</h3>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">If you have enabled the \"Manage users in tenant\" feature, when the tenant admin resets the password for a user, the URL in the password reset email is the original URL instead of the custom domain.</li><li style=\"margin-left: 28px; position: relative;\">If a user has access to multiple tenants, at least one of which has a custom domain configured, the user needs to log in again when switching from one tenant to another that uses a different domain name.</li></ul>\n<h2><a id=\"How_to_prepare_certificates_for_custom_domains\" name=\"How_to_prepare_certificates_for_custom_domains\" title=\"How to prepare certificates for custom domains\"></a>How to prepare certificates for custom domains</h2>\n<p>Normally you use a custom certificate for the suite in a production environment. To enable end users to access the system by using the custom domains without receiving a security warning from their browser, you need to prepare one or more certificates for your custom domains. </p>\n<p>Consider the following scenarios:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Scenario 1: Your tenants use the same primary domain (only their subdomains are different). For example: <strong>customer1.example.com</strong>, and <strong>customer2.example.com</strong>. This scenario requires a simpler certificate configuration.</li><li style=\"margin-left: 28px; position: relative;\">Scenario 2: Your tenants use different primary domains. For example: <strong>customer1.example.com</strong>, and <strong>customer2.sample.net</strong>.</li></ul>\n<p>The following table lists different certificate configuration solutions for the two scenarios, taking into account whether there is an external load balancer deployed in front of SMA. Note that number 1 means the first choice, and number 3 means the last.</p>\n<table>\n<tbody>\n<tr>\n<th></th>\n<th>With an external load balancer</th>\n<th>Without an external load balancer</th>\n</tr>\n<tr>\n<td>Scenario 1: same primary domain</td>\n<td>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One wildcard TLS certificate</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One SAN certificate</li></ol>\n</td>\n<td>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One wildcard TLS certificate</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One SAN certificate</li></ol>\n</td>\n</tr>\n<tr>\n<td>Scenario 2: different primary domains</td>\n<td>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Multiple TLS certificates</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One wildcard SAN certificate</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One SAN certificate</li></ol>\n<p>The first solution enables you to add more TLS certificates for new primary domains without impacting existing tenants.</p>\n</td>\n<td>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One wildcard SAN certificate</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">One SAN certificate</li></ol>\n</td>\n</tr>\n<tr>\n<td></td>\n<td><strong>Note</strong>: the certificates must be configured on the external load balancer.</td>\n<td><strong>Note</strong>: The certificate must be configured on the SMA suite.</td>\n</tr>\n</tbody>\n</table>\n<p>A wildcard TLS certificate can protect multiple subdomains: when generating a CSR (Certificate Signing Request), include an asterisk before the primary domain name (for example, <strong>*.example.com</strong>).</p>\n<p>A SAN certificate has a <strong>Subject Alternative Name</strong> field, which allows you to specify multiple host names that you want to protect.</p>\n<p>A wildcard SAN certificate combines both: it enables you to protect multiple domains and their subdomains.  </p>\n<h3><a id=\"Example_Generate_a_self_signed_wildcard_SAN_certificate_for_two_custom_domains\" name=\"Example_Generate_a_self_signed_wildcard_SAN_certificate_for_two_custom_domains\" title=\"Example: Generate a self-signed wildcard SAN certificate for two custom domains\"></a>Example: Generate a self-signed wildcard SAN certificate for two custom domains</h3>\n<p>Suppose you need two different domains and have no external load balancer. You can use the following steps to generate a self-signed wildcard SAN certificate for the two custom domains.</p>\n<p>First, generate a self-signed root CA certificate as follows:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a CA private key:\n\t<pre>openssl genrsa -out ca.key 4096</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a CSR and a self-signed root CA certificate:\n\t<pre>openssl req -x509 -new -key ca.key -out ca.crt -subj \"/C=CN/ST=Shanghai/L=Shanghai/O=Example Company/CN=&lt;mydomain&gt;/emailAddress=myname@microfocus.com\" -days 3660</pre>\n<p>Where: &lt;mydomain&gt; is the domain of the test environment.</p>\n</li></ol>\n<p>Now, generate a server certificate as follows:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a private key:\n\t<pre>openssl genrsa -out server.key 4096</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a CSR:<br/>\n\tFirst, create a req.cnf file with the following content:\n\t<pre> \n[req]\ndefault_bits = 4096\nprompt = no\ndefault_md = sha256\nx509_extensions = v3_req\ndistinguished_name = dn\n[dn]\nC = CN\nST = Shanghai\nL = Shanghai\nO = Example Company \nemailAddress = myname@microfocus.com\nCN = &lt;External Access Host&gt;\n[v3_req]\nsubjectAltName = @alt_names\n[alt_names]\nDNS.1 = &lt;External Access Host&gt;\nDNS.2 = &lt;Custom Domain 1&gt;\nDNS.3 = &lt;Custom Domain 2&gt;\n</pre>\n<p>Where: &lt;External Access Host&gt;, &lt;Custom Domain 1&gt;, and &lt;Custom Domain 2&gt; must be replaced with your external access host name and custom domains.</p>\n<p>Now, run the following command:</p>\n<pre>openssl req -new -key server.key -out server.csr -config req.cnf</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a server certificate:\n\t<pre>openssl x509 -req -days 365 -in server.csr -out server.crt -CA ca.crt -CAkey ca.key -CAcreateserial -extfile req.cnf -extensions v3_req</pre>\n</li></ol>\n<p>Now, you have the following files available for later use:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">the CA certificate file: ca.crt</li><li style=\"margin-left: 28px; position: relative;\">the server certificate file: server.crt</li><li style=\"margin-left: 28px; position: relative;\">the server private key file: server.key</li></ul>\n<h2><a id=\"How_to_configure_custom_domains\" name=\"How_to_configure_custom_domains\" title=\"How to configure custom domains\"></a>How to configure custom domains</h2>\n<p>For detailed steps to configure custom domains, follow the link appropriate for your deployment platform:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><a _ngcontent-c23=\"\" href=\"/doc/423/26.1/configurecustomdomainsonpremises\" title=\"Configure custom domains (on-premises, AWS, GCP, or OpenShift)\">Configure custom domains (on-premises, AWS, GCP, or OpenShift)</a></li><li style=\"margin-left: 28px; position: relative;\"><a _ngcontent-c23=\"\" href=\"/doc/423/26.1/configurecustomdomainsonaks\" title=\"Configure custom domains (AKS)\">Configure custom domains (AKS)</a></li></ul>\n</div>",
  "modifiedon": "2026-01-28 13:01:20"
}