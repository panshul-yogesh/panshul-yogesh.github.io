{
  "title": "Configure NFS volumes for OO on OpenShift",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To save information such as configuration files, you must save the information in a persistent volume provided by a Network File System (NFS). To install OO, you need to export NFS volumes to store the application data.</p>\n<p>OO Containerized supports <strong>NFSv3</strong> and <strong>NFSv4</strong>.</p>\n<p>The storage technology that provides NFS implementation must support the Kubernetes persistent mount option of <code>ReadWriteMany</code>. That means you can mount storage volume to multiple nodes in read/write mode in parallel.</p>\n<p>Each NFS exported volume must have the following settings:</p>\n<ul>\n<li><strong>rw</strong></li>\n<li><strong>sync</strong></li>\n<li>Following text in the <strong>/etc/exports</strong> file of each NFS volume:\n\t<pre><code>/&lt;path to the shared folder on the NFS server&gt; (rw,sync,anonuid=&lt;user&gt;,anongid=&lt;fsGroup&gt;,root_squash)</code></pre>\n<p>Where the <code>&lt;user&gt;</code> and <code>&lt;fsGroup&gt;</code> need to be of the same values as those of the <strong>global.securityContext.user</strong> and <strong>global.securityContext.fsGroup</strong> parameters specified in the custom <strong>values.yaml</strong> file. For details, see <a href=\"https://itom/SMAX:25.1/OOCCreateYMLOCP\" rel=\"nofollow\" title=\"Create a custom values.yaml file (OpenShift)\">Create a custom values.yaml file (OpenShift)</a>.</p>\n</li>\n<li>Configured with the following permissions:\n\t<pre>chmod -R 755 &lt;path to the exported volume&gt;\nchown &lt;user&gt;:&lt;fsGroup&gt; &lt;path to the exported volume&gt;</pre>\n<p>The <code>&lt;user&gt;</code> and <code>&lt;fsGroup&gt;</code> are configured in the custom <strong>values.yaml</strong> file. These parameters are UID and GID and must be the same as the ones in the OO OpenShift project.</p>\n</li>\n</ul>\n<h2>Set up self hosted NFS shared volumes</h2>\n<p>You can set up an NFS server and NFS shared volumes on any NFS server. It's recommended that you use a dedicated NFS server for the OO NFS volumes. As an example, the following steps assume that you use a dedicated NFS server and will use the external databases for OO.</p>\n<ol>\n<li>\n<p>Log on to the NFS server as a root or sudo user.</p>\n</li>\n<li>\n<p>Copy the OMT installation package to a temporary directory on the NFS server.</p>\n</li>\n<li>\n<p>Run the following command to unzip the OMT installation package:</p>\n<pre>unzip OMT_External_K8s_2x.x-xxx.zip</pre>\n</li>\n<li>\n<p>Navigate to the OMT_External_K8s_2x.x-xxx/scripts directory, and then run the following command:</p>\n<pre>./setupNFS.sh &lt;shared volume&gt; true &lt;user&gt; &lt;fsGroup&gt;</pre>\n<p>For example:</p>\n<pre>sh ./setupNFS.sh /var/vols/itom/oo/oo_config_vol true \"1000000\" \"2000000\"\nsh ./setupNFS.sh /var/vols/itom/oo/oo_data_vol true \"1000000\" \"2000000\"\nsh ./setupNFS.sh /var/vols/itom/oo/oo_logs_vol true \"1000000\" \"2000000\"\nsh ./setupNFS.sh /var/vols/itom/oo/oo_ras_logs_vol true \"1000000\" \"2000000\" \nsh ./setupNFS.sh /var/vols/itom/oo/oo_data_export_vol true \"1000000\" \"2000000\"\n</pre>\n</li>\n</ol>\n<p>Set the permission of each folder to 755. If not, run the following command to change the permissions:</p>\n<pre>chmod -R 755 &lt;path to shared folder&gt;</pre>\n<p>For example, run the following commands:</p>\n<pre>chmod -R 755 /var/vols/itom/oo/oo_config_vol\nchmod -R 755 /var/vols/itom/oo/oo_data_vol\nchmod -R 755 /var/vols/itom/oo/oo_logs_vol\nchmod -R 755 /var/vols/itom/oo/oo_ras_logs_vol\nchmod -R 755 /var/vols/itom/oo/oo_data_export_vol</pre>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}