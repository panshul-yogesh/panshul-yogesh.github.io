{
  "title": "Configure internal RAS fleet",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>By default, each OO tenant will get one internal Remote Action Server (RAS) within a RAS fleet. However, it's possible through API calls to decrease or increase this number per the requirements.</p>\n<p>For example, if you want to rely only on the usage of external RASes, set the internal RAS to 0. On the other hand, if you want to scale up the internal RASes, set the internal RAS within the RAS fleet to more than 1 replica.</p>\n<p>You can configure multiple internal RASes per tenant (internal RAS per fleet). You can't however have multiple internal RAS fleets per tenant.</p>\n<h2>Configure internal RAS fleet</h2>\n<p>You can configure the number of internal RASes within one RAS fleet through API calls.</p>\n<p>A system administrator can:</p>\n<ul>\n<li>authenticate using IDM API <code>https://&lt;host&gt;:&lt;port&gt;/idm-service/v3.0/tokens POST</code> call.<br/>\n\tFor details on the IDM API, check the API Central <a href=\"/api/ITOM_Platform/2022.05/IDM%20AUTH/v3.0\" title=\"IDM AUTH v3.0\">IDM AUTH v3.0</a> page.</li>\n<li>trigger a system change to update the <code>numberOfRases</code> using the OO Controller's <code>https://&lt;host&gt;:&lt;port&gt;/oocontroller/rest/v1/tenants/&lt;tenantId&gt; PATCH</code> call.</li>\n<li>check that the requested change is applied to the tenant using the OO Controller's <code>https://&lt;host&gt;:&lt;port&gt;/oocontroller/rest/v1/tenants/&lt;tenantId&gt;?extraDetails=true GET</code> call.</li>\n<li>check that the requested change is applied at the Kubernetes level and that additional RASes are running for a tenant using the <code>kubectl get pods -n &lt;oonamespace&gt;</code> command.\n\t<p>The example below depicts an OO deployment with a tenant with two internal RASes.</p>\n<pre><code>NAME                                                         READY   STATUS    \nitom-autopass-lms-569b84d466-vlp9w                           2/2     Running\nitom-oocentral-8454d5fc6b-jv85v                              2/2     Running\nitom-oocontroller-5ff44965c6-rmdvd                           2/2     Running\nitom-oodownloader-6f85b9984f-zjrzb                           2/2     Running\nitom-ooras-239644808-0                                       2/2     Running\nitom-ooras-239644808-1                                       2/2     Running\nitom-ooscheduler-66db97b98d-jwkpb                            2/2     Running\nitom-oosession-manager-6f55c854d9-6rksk                                   2/2     Running\nitom-vault-7785449759-zqnl2                                  1/1     Running\noo-helm-rel-xtij0-itom-ingress-controller-766b77b899-5pfpx   3/3     Running\noo-helm-rel-xtij0-itom-ingress-controller-766b77b899-fz5vl   3/3     Running\n</code></pre>\n</li>\n<li>check that the requested change is applied and visible on the <strong>Topology</strong> &gt; <strong>Workers</strong> page.\n\t<p>For example, if there are two internal RASes available within the fleet you will see (2) as below. </p>\n<p>Internal RASes set to 0 aren't visible on the <strong>Topology</strong> &gt; <strong>Workers</strong> page.</p>\n<p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/3/36/24.1.1_Screenshot_8.png\" title=\"https://staging.docs.microfocus.com/file/images/3/36/24.1.1_Screenshot_8.png\"> <img alt=\"24.1.1_Screenshot_8.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/36/24.1.1_Screenshot_8.png\" height=\"155\" hspace=\"0\" src=\"../../../images/24.1.1_Screenshot_8_1fcf0845.png\" style=\"width:300px;height:155px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"300\"/> </a></p>\n</li>\n</ul>\n<p>To configure internal RAS fleet using the OO Controller's  <code>https://&lt;host&gt;:&lt;port&gt;/oocontroller/rest/v1/tenants/&lt;tenantId&gt; PATCH</code> call, specify the number of desired RASes as shown in the example below:</p>\n<pre><code>{\n        \"numberOfRases\": 2\n}\n</code></pre>\n<p>This example shows configuring two internal RASes for a tenant. </p>\n<p>If the call is accepted, a <code>202 Accepted</code> message is displayed and the response should be similar to the example below:</p>\n<pre><code>{\n    \"jobId\": \"8\",\n    \"operation\": \"CONFIGURE\"\n}</code></pre>\n<p>It will take a few seconds for the job to complete. You can monitor the status of the job using OO Controller's <code>https://&lt;host&gt;:&lt;port&gt;/oocontroller/rest/v1/tenants/&lt;tenantId&gt;/tenant-jobs/&lt;jobId&gt; GET</code> call.</p>\n<p>A response to a <code>jobId</code> call should be similar to the example below:</p>\n<pre><code>{\n    \"id\": \"8\",\n    \"operation\": \"CONFIGURE\",\n    \"status\": \"SUCCESS\",\n    \"messages\": [\n        {\n            \"order\": 1,\n            \"time\": \"2022-11-08T10:54:47.141Z\",\n            \"message\": \"Job started.\"\n        },\n        {\n            \"order\": 2,\n            \"time\": \"2022-11-08T10:54:47.393Z\",\n            \"message\": \"Configuring tenant in Central...\"\n        },\n        {\n            \"order\": 3,\n            \"time\": \"2022-11-08T10:54:47.544Z\",\n            \"message\": \"Tenant update was started in Central.\"\n        },\n        {\n            \"order\": 4,\n            \"time\": \"2022-11-08T10:54:57.579Z\",\n            \"message\": \"Tenant was successfully configured in Central.\"\n        },\n        {\n            \"order\": 5,\n            \"time\": \"2022-11-08T10:54:57.591Z\",\n            \"message\": \"Job finished.\"\n        }\n    ]\n}</code></pre>\n<p>To check that the requested change is applied to the tenant, trigger OO Controller's <code>https://&lt;host&gt;:&lt;port&gt;/oocontroller/rest/v1/tenants/&lt;tenantId&gt;?extraDetails=true GET</code> call. A response to such a call should be similar to the following:</p>\n<pre><code>{\n    \"id\": \"239644808\",\n    \"name\": \"OO Tenant Name for SMAX tenant with id 239644808.\",\n    \"idmOrgName\": \"ooTenant20156_0116_n3O\",\n    \"status\": \"ACTIVATED\",\n    \"description\": \"OO Tenant Description for SMAX tenant with id 239644808.\",\n    \"minPoolSize\": 50,\n    \"maxPoolSize\": 50,\n    \"centralInfo\": {\n        \"id\": \"239644808\",\n        \"name\": \"OO Tenant Name for SMAX tenant with id 239644808.\",\n        \"idmOrgName\": \"ooTenant20156_0116_n3O\",\n        \"status\": \"ACTIVATED\",\n        \"description\": \"OO Tenant Description for SMAX tenant with id 239644808.\",\n        \"minPoolSize\": 50,\n        \"maxPoolSize\": 50,\n        \"numberOfRases\": 2\n    },\n    \"schedulerInfo\": {\n        \"id\": \"239644808\",\n        \"name\": \"OO Tenant Name for SMAX tenant with id 239644808.\",\n        \"idmOrgName\": \"ooTenant20156_0116_n3O\",\n        \"status\": \"ACTIVATED\",\n        \"description\": \"OO Tenant Description for SMAX tenant with id 239644808.\",\n        \"minPoolSize\": 25,\n        \"maxPoolSize\": 25\n    }\n}</code></pre>\n<p>This example shows a tenant that has two internal RASes defined within the RAS fleet.</p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}