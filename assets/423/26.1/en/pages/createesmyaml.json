{
  "title": "Create my-values.yaml ",
  "content": "<div class=\"mw-parser-output\">\n \n\n<p>You need to create a <strong>my-values.yaml</strong> file based on the sample yaml file (<strong>values.yaml</strong>) provided in the ESM charts package. The sample file contains descriptions as well as sample values required for various services. </p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">In FIPS mode, use the <strong>fedramp-values.yaml</strong> file instead. </li><li style=\"margin-left: 28px; position: relative;\">Your <strong>my-values.yaml</strong> file contains critical configuration information. Many administrative operations are based on this file, including version upgrades, TLS connection to databases, and more. Store this file in a secure place and create a backup copy regularly. </li></ul>\n</div></div></div>\n<h2><a id=\"Create_and_configure_my_values_yaml\" name=\"Create_and_configure_my_values_yaml\" title=\"Create and configure my-values.yaml\"></a><a id=\"Create-and-configure-my-values-yaml\" name=\"Create-and-configure-my-values-yaml\" title=\"Create and configure my-values.yaml\"></a><a id=\"Create_and_configure_my-values.yaml\" name=\"Create_and_configure_my-values.yaml\" title=\"Create and configure my-values.yaml\"></a>Create and configure my-values.yaml</h2>\n<p>To create your customized <strong>my-values.yaml</strong>  file, use the following steps to modify it according to the services you need for your deployment.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Create a copy of the <strong>values.yaml</strong> sample file:\n\n\t<pre>cp ESM_Helm_Chart-2x.x.x/samples/values.yaml my-values.yaml</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Edit the <strong>my-values.yaml</strong> file using a text editor and specify the values required for your deployment. For details, see the comments and descriptions in the file. </li></ol>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>This <b>my-values.yaml</b> file contains critical configuration information. Many administrative operations are based on this file, for example, enabling TLS connection to databases and enabling custom certificates. Be sure to save this file in a secure place and create backups regularly.</div></div></div>\n<h3><a id=\"Enable-external-access-port\" name=\"Enable-external-access-port\" title=\"Enable external access port\"></a><a id=\"Enable_external_access_port\" name=\"Enable_external_access_port\" title=\"Enable external access port\"></a>Enable external access port</h3>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.externalAccessPort</code></td>\n<td>Yes</td>\n<td>This parameter defines the port number through which external systems, users, or services can access your deployment. Set it to the port you want to expose for external communication.</td>\n<td>443</td>\n<td>\n<pre><code>global:\n  externalAccessPort:&lt;port number&gt;</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n<h3><a id=\"Configure-TLS-parameters-and-certificates\" name=\"Configure-TLS-parameters-and-certificates\" title=\"Configure TLS parameters and certificates\"></a><a id=\"Configure_TLS_parameters_and_certificates\" name=\"Configure_TLS_parameters_and_certificates\" title=\"Configure TLS parameters and certificates\"></a>Configure TLS parameters and certificates</h3>\n<p>The <strong>values.yaml</strong> file has configurable parameters for different capabilities. For details on how to configure the parameters, see to the comments and descriptions in the <strong>values.yaml</strong> file.</p>\n<p>The following sections provide information on how to configure certificates for your database servers and external access host. </p>\n<h4><a id=\"Configure-TLS-parameters-for-external-PostgreSQL-database\" name=\"Configure-TLS-parameters-for-external-PostgreSQL-database\" title=\"Configure TLS parameters for external PostgreSQL database\"></a><a id=\"Configure_TLS_parameters_for_external_PostgreSQL_database\" name=\"Configure_TLS_parameters_for_external_PostgreSQL_database\" title=\"Configure TLS parameters for external PostgreSQL database\"></a>Configure TLS parameters for external PostgreSQL database</h4>\n<p>If you want to connect to an external PostgreSQL database using TLS, configure the following parameters.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.database.tlsEnabled</code></td>\n<td>No</td>\n<td>\n<p>Enable TLS connection to the database server.</p>\n<p>Set it to <strong>true </strong>if you want to enable TLS.</p>\n</td>\n<td>false</td>\n<td><b>true</b></td>\n</tr>\n<tr>\n<td><code>database.caCertificates</code></td>\n<td>No</td>\n<td>\n<div>The content of the database server CA certificate can be PEM format or encoded by base-64. </div>\n<div>\n<p>If your certificate isn't base-64 encoded, run the following command on a Linux system to encode the CA certificate:</p>\n<p><code>cat pg.pem | base64 -w 0</code></p>\n</div>\n</td>\n<td></td>\n<td>\n<pre><code>database:\n  caCertificates: \n    pg.pem: |\n    &lt;certificate pem&gt;</code></pre>\n<p>--- or ---</p>\n<pre><code>database:\n  caCertificates: \n    pg.pem: &lt;base64 encoded string&gt;</code></pre>\n<p>See the examples below for the two certificate formats.</p>\n</td>\n</tr>\n</thead>\n</table>\n<div>\n<p><strong>Example: PEM based certificate format</strong></p>\n<pre><code>database:\n  caCertificates: \n    pg.pem: |\n -----BEGIN CERTIFICATE-----\n MIIE/TCCAuWgAwIBAgIUb5p2yCI2vJuqWkMyVF6lGEv0wokwDQYJKoZIhvcNAQEL\n BQAwNDEyMDAGA1UEAxMpTUYgQ0RGIFJFIENBIG9uIHNtYXNtLW1hc3Rlci5ocGVz\n d2xhYi5uZXQwHhcNMjMwOTE5MTExMDA4WhcNMjQwOTE4MTExMDM4WjAkMSIwIAYD\n VQQDExlzbWFzbS1tYXN0ZXIuaHBlc3dsYWIubmV0MIIBIjANBgkqhkiG9w0BAQEF\n AAOCAQ8AMIIBCgKCAQEA12A/MZoNMYeGYcVcS0r1n2WMN44wzMcMNVqyDF+ZFJbN\n dP/RNGDYTiXBiq1iOAtyc0Mr/uSS2VvJ7//JqWTOqR4n6A2nSwIaTCrfgECtJ0gJ\n yaIkGpylwHZWnH+ko/QBzL3+Va6v7RaymowXkzXzWCI4zxQhuIEL9ptyVNYOrqLU\n y3RdyjqaKcP8pfxIW+Sfz35bqsIRVDj6ujuMlm3yiHgBUMqvx8HIv9fE1yeBd+YQ\n ACIwe2eaQLEGRKNj3OHlK1Qhn56psLPwY2mTMGwOys1SVoEKN6SE3zX3XQNE02ur\n fVPYW3NYg9s8VncI5AJ4IOldI9tF/IqL7ZCFGY/I3Lzqb5dRNGZKXeji/l6qZnr1\n CblrNsXo3DruqdIuLRegQ5ot977kmSr05C6rMt9o7Gqdy9+ROGoK0lB9xlV86IZx\n 5HEEWpwLlAvqmJtpSppBty9Yf1SFStgh8+Br7i5iAE8amXCSftdCk/E/xDSFIbxg\n MyDuv44bG/6i5bn+z/OKuUnVfNb2MhfqVPE6UfTsPhoxyxEYNnsK6Da1/EecWLkp\n xdgK4W58PEcsvVE7OaykyWzzxWS12FR4HNefjLXy7a67rwInmTLL8YCAVp8sUhU0\n u0QaMXJPbUaFQxLW8DpeYVmnygoYTwSseTCF55bT5g8BsoKlCUOR2ZEVLyycWsDz\n 3cIcpKAZ/PMckEv4gQ53STKB35XEqXtUM6+ZucMD1PhKAXhlYbNUuT4ezKwYVTka\n A4WnFlr7DfFIsipqQu8AHSOz8ezE87S8l8SnLXLV6Ig5NXqjRoSXOUEqqwg4T92Z\n Ve2u7qFe3AL+0TtZc+LBjPqRpzXBOIwlK5/7qO1IJBbRRCz57LpiiyucBAdLl9NM\n +xuciOHhbSrQRjuS3qnt4mKtruqtVwr6XIOWsIhocH0x\n -----END CERTIFICATE-----\n -----BEGIN CERTIFICATE-----\n MIIFWTCCA0GgAwIBAgIUZ7JkRlwYAvwLlvYLXLTEgbaWdY0wDQYJKoZIhvcNAQEL\n BQAwNDEyMDAGA1UEAxMpTUYgQ0RGIFJFIENBIG9uIHNtYXNtLW1hc3Rlci5ocGVz\n d2xhYi5uZXQwHhcNMjAwNzMwMTE1NjExWhcNMzAwNzI4MTE1NjM4WjA0MTIwMAYD\n VQQDEylNRiBDREYgUkUgQ0Egb24gc21hc20tbWFzdGVyLmhwZXN3bGFiLm5ldDCC\n 8VqpTbxcen+tYQynM4ohAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB\n Af8EBTADAQH/MB0GA1UdDgQWBBQAqL61let7M+5hJs5kQ/30+6aEqjAfBgNVHSME\n GDAWgBQAqL61let7M+5hJs5kQ/30+6aEqjANBgkqhkiG9w0BAQsFAAOCAgEATbCJ\n V6XtG47L331DEGYCBGyia9R606rVPn4ElJUS4AHel5eeGsKs4cVpC4Pr+NbSVZKd\n +3lkwuKT3RJVzlpmDaojxWlXQ2DQqITcIzb9pIo1jr9J2HFkRX3QcghNpELr0hrq\n +TJwWNTBAiHHzMsjYy3SPsIrSK7WV4qL4IzMc72LvjL9r8HZlnz47zK8oAKApyC7\n XT4DhOQ/uYCPn632XhgsHBol+Zingb7QA7LGrNZbf7VO9ayGezb2Nj3ASpoeCdmZ\n 7qHrL6zcgLrxr7Xq+wXm5s4JWoA4LedbAqAKfMrGrEqAotiN/OOd2cQyQymwkAWP\n jM3q7t+ZWnWwDxR6NjBa9sdKCp5AvhmUGcvdYu22yloUlulq3NBibjquQCw8xvee\n 8zum/MBr5BwheZQXFLJYEgMUQSRt9dB/QrGuCj9EpStLOnPo0y9MUnwN9ut740nR\n 6aWUbCEWoOPL9mh+yTqPm+VRFPS2FDZUssrEC+7arGdUq3VBUfA8safh6JZUPeeI\n Z2ifvA5DQjdcaNnpxRlto0HeilGofgLagvPYyUJwwqTejUcc9NJvAz+nhu3Y6tMV\n m+MbLYeHin3Fddy1XoCDusxpv1kkgebS3D0Ru0q/XMJQXKvVXigwROITstL8370w\n 9hjelNxulfhS+lxTkm8W6iJvn7svnpTVaHqKRmY=\n -----END CERTIFICATE----</code></pre>\n<p><strong>Example: Base64 based certificate format</strong></p>\n<pre><code>cat pg.pem | base64 -w 0</code></pre>\n<div>\n<pre><code>database:\n  caCertificates: \n    pg.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUUvVENDQXVXZ0F3SUJBZ0lVYjVwMnlDSTJ2SnVxV2tNeVZGNmxHRXYwd29rd0RRWUpLb1pJaHZjTkFRRUwKQlFBd05ERXlNREFHQTFVRUF4TXBUVVlnUTBSR0lGSkZJRU5CSUc5dUlITnRZWE\n50TFcxaGMzUmxjaTVvY0dWegpkMnhoWWk1dVpYUXdIaGNOTWpNd09URTVNVEV4TURBNFdoY05NalF3T1RFNE1URXhNRE00V2pBa01TSXdJQVlEClZRUURFeGx6YldGemJTMXRZWE4wWlhJdWFIQmxjM2RzWVdJdWJtVjBNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUExMkEvTVpvTk1ZZUdZY1ZjUzByMW4yV01ONDR3ek1jTU5WcXlERitaRkpiTgpkUC9STkdEWVRpWEJpcTFpT0F0eWMwTXIvdVNTMlZ2SjcvL0pxV1RPcVI0bjZBMm5Td0lhVENyZmdFQ3RKMGdKCnlhSWtHcHlsd0haV25IK2tvL1FCekwzK1ZhNnY3UmF5bW93WGt6WHpXQ0k0enhRaHVJRUw5cHR5Vk5ZT3JxTFUKeTNSZHlqcWFLY1A4cGZ4SVcrU2Z6MzVicXNJUlZEajZ1anVNbG0zeWlIZ0JVTXF2eDhISXY5ZkUxeWVCZCtZUQpBQ0l3ZTJlYVFMRUdSS05qM09IbEsxUWhuNTZwc0xQd1kybVRNR3dPeXMxU1ZvRUtONlNFM3pYM1hRTkUwMnVyCmZWUFlXM05ZZzlzOFZuY0k1QUo0SU9sZEk5dEYvSXFMN1pDRkdZL0kzTHpxYjVkUk5HWktYZWppL2w2cVpucjEKQ2Jsck5zWG8zRHJ1cWRJdUxSZWdRNW90OTc3a21TcjA1QzZyTXQ5bzdHcWR5OStST0dvSzBsQjl4bFY4NklaeAo1SEVFV3B3TGxBdnFtSnRwU3BwQnR5OVlmMVNGU3RnaDgrQnI3aTVpQUU4YW1YQ1NmdGRDay9FL3hEU0ZJYnhnCk15RHV2NDRiRy82aTVibit6L09LdVVuVmZOYjJNaGZxVlBFNlVmVHNQaG94eXhFWU5uc0s2RGExL0VlY1dMa3AKeGRnSzRXNThQRWNzdlZFN09heWt5V3p6eFdTMTJGUjRITmVmakxYeTdhNjdyd0lubVRMTDhZQ0FWcDhzVWhVMAp1MFFhTVhKUGJVYUZReExXOERwZVlWbW55Z29ZVHdTc2VUQ0Y1NWJUNWc4QnNvS2xDVU9SMlpFVkx5eWNXc0R6CjNjSWNwS0FaL1BNY2tFdjRnUTUzU1RLQjM1WEVxWHRVTTYrWnVjTUQxUGhLQVhobFliTlV1VDRlekt3WVZUa2EKQTRXbkZscjdEZkZJc2lwcVF1OEFIU096OGV6RTg3UzhsOFNuTFhMVjZJZzVOWHFqUm9TWE9VRXFxd2c0VDkyWgpWZTJ1N3FGZTNBTCswVHRaYytMQmpQcVJwelhCT0l3bEs1LzdxTzFJSkJiUlJDejU3THBpaXl1Y0JBZExsOU5NCit4dWNpT0hoYlNyUVJqdVMzcW50NG1LdHJ1cXRWd3I2WElPV3NJaG9jSDB4Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZXVENDQTBHZ0F3SUJBZ0lVWjdKa1Jsd1lBdndMbHZZTFhMVEVnYmFXZFkwd0RRWUpLb1pJaHZjTkFRRUwKQlFBd05ERXlNREFHQTFVRUF4TXBUVVlnUTBSR0lGSkZJRU5CSUc5dUlITnRZWE50TFcxaGMzUmxjaTVvY0dWegpkMnhoWWk1dVpYUXdIaGNOTWpBd056TXdNVEUxTmpFeFdoY05NekF3TnpJNE1URTFOak00V2pBME1USXdNQVlEClZRUURFeWxOUmlCRFJFWWdVa1VnUTBFZ2IyNGdjMjFoYzIwdGJXRnpkR1Z5TG1od1pYTjNiR0ZpTG01bGREQ0MKOFZxcFRieGNlbit0WVF5bk00b2hBZ01CQUFHall6QmhNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVBCZ05WSFJNQgpBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlFBcUw2MWxldDdNKzVoSnM1a1EvMzArNmFFcWpBZkJnTlZIU01FCkdEQVdnQlFBcUw2MWxldDdNKzVoSnM1a1EvMzArNmFFcWpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQVRiQ0oKVjZYdEc0N0wzMzFERUdZQ0JHeWlhOVI2MDZyVlBuNEVsSlVTNEFIZWw1ZWVHc0tzNGNWcEM0UHIrTmJTVlpLZAorM2xrd3VLVDNSSlZ6bHBtRGFvanhXbFhRMkRRcUlUY0l6YjlwSW8xanI5SjJIRmtSWDNRY2doTnBFTHIwaHJxCitUSndXTlRCQWlISHpNc2pZeTNTUHNJclNLN1dWNHFMNEl6TWM3Mkx2akw5cjhIWmxuejQ3eks4b0FLQXB5QzcKWFQ0RGhPUS91WUNQbjYzMlhoZ3NIQm9sK1ppbmdiN1FBN0xHck5aYmY3Vk85YXlHZXpiMk5qM0FTcG9lQ2RtWgo3cUhyTDZ6Y2dMcnhyN1hxK3dYbTVzNEpXb0E0TGVkYkFxQUtmTXJHckVxQW90aU4vT09kMmNReVF5bXdrQVdQCmpNM3E3dCtaV25Xd0R4UjZOakJhOXNkS0NwNUF2aG1VR2N2ZFl1MjJ5bG9VbHVscTNOQmlianF1UUN3OHh2ZWUKOHp1bS9NQnI1QndoZVpRWEZMSllFZ01VUVNSdDlkQi9Rckd1Q2o5RXBTdExPblBvMHk5TVVud045dXQ3NDBuUgo2YVdVYkNFV29PUEw5bWgreVRxUG0rVlJGUFMyRkRaVXNzckVDKzdhckdkVXEzVkJVZkE4c2FmaDZKWlVQZWVJCloyaWZ2QTVEUWpkY2FObnB4Umx0bzBIZWlsR29mZ0xhZ3ZQWXlVSnd3cVRlalVjYzlOSnZBeituaHUzWTZ0TVYKbStNYkxZZUhpbjNGZGR5MVhvQ0R1c3hwdjFra2dlYlMzRDBSdTBxL1hNSlFYS3ZWWGlnd1JPSVRzdEw4Mzcwdwo5aGplbE54dWxmaFMrbHhUa204VzZpSnZuN3N2bnBUVmFIcUtSbVk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLQo=</code></pre>\n</div>\n<h4><a id=\"Configure-TLS-parameters-for-external-Vertica-database\" name=\"Configure-TLS-parameters-for-external-Vertica-database\" title=\"Configure TLS parameters for external Vertica database\"></a><a id=\"Configure_TLS_parameters_for_external_Vertica_database\" name=\"Configure_TLS_parameters_for_external_Vertica_database\" title=\"Configure TLS parameters for external Vertica database\"></a>Configure TLS parameters for external Vertica database</h4>\n<p>If you want to connect to the external Vertica database using TLS, configure the following parameters.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.vertica.tlsEnabled</code></td>\n<td>No</td>\n<td>\n<p>Enable TLS connection to the Vertica database server.</p>\n<p>Set it to <strong>true </strong>if you want to enable TLS.</p>\n</td>\n<td>false</td>\n<td><b>true</b></td>\n</tr>\n<tr>\n<td><code>vertica.caCertificates</code></td>\n<td>No</td>\n<td>The content of the database server CA certificate can be PEM format or encoded by base-64. \n\t\t\t<p>If your certificate isn't base-64 encoded, run the following command on a Linux system to encode the CA certificate:</p>\n<code>cat vertica-db.pem | base64 -w 0</code></td>\n<td></td>\n<td>\n<pre><code>vertica:\n  caCertificates: \n    vertica-db.pem |\n    &lt;certificate pem&gt;</code></pre>\n<p>--- or ---</p>\n<pre><code>vertica:\n  caCertificates: \n    vertica-db.pem: &lt;base64 encoded string&gt;</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n<div>\n<h4 id=\"(Optional)_Create_custom_certificates_for_CMS_external_access\"><a id=\"Create-custom-certificates-for-the-external-access-host\" name=\"Create-custom-certificates-for-the-external-access-host\" title=\"Create custom certificates for the external access host\"></a><a id=\"Create_custom_certificates_for_the_external_access_host\" name=\"Create_custom_certificates_for_the_external_access_host\" title=\"Create custom certificates for the external access host\"></a>Create custom certificates for the external access host</h4>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.tls.cert</code></td>\n<td>No</td>\n<td>\n<p>Custom server certificate file.</p>\n<p>Set it<strong> </strong>if you want to enable a custom certificate.</p>\n<p>If empty, a selfsigned certificate with <code>cn=global.externalAccessHost</code> will be generated</p>\n</td>\n<td></td>\n<td>\n<pre><code>global:\n  tls:\n    cert: |\n      &lt;server certificate pem&gt;</code></pre>\n<p>--- or ---</p>\n<pre><code>global:\n  tls:\n    cert: &lt;base64 encoded string&gt;</code></pre>\n</td>\n</tr>\n<tr>\n<td><code>global.tls.key</code></td>\n<td>No</td>\n<td>\n<p>Custom certificate key file.</p>\n<p>Set it<strong> </strong>if you want to enable a custom certificate.</p>\n<p>If empty, a selfsigned certificate key will be generated.</p>\n</td>\n<td></td>\n<td>\n<pre><code>global:\n  tls:\n    key: |\n     &lt;server certificate key&gt;</code></pre>\n<p>--- or ---</p>\n<pre><code>global:\n  tls:\n    key: &lt;base64 encoded string&gt;</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n<div id=\"(Optional)_Create_custom_certificates_for_CMS_external_access\"><span style=\"font-size: clamp(1.3125rem, 15.4737px + 1.15132vw, 1.75rem);\">Configure load balancer</span></div>\n</div>\n<div>\n<h4><a id=\"_GCP_only_Expose_external_load_balancer\" name=\"_GCP_only_Expose_external_load_balancer\" title=\"[GCP only] Expose external load balancer\"></a><a id=\"GCP-only-Expose-external-load-balancer\" name=\"GCP-only-Expose-external-load-balancer\" title=\"[GCP only] Expose external load balancer\"></a><a id=\"[GCP_only]_Expose_external_load_balancer\" name=\"%5BGCP_only%5D_Expose_external_load_balancer\" title=\"[GCP only] Expose external load balancer\"></a>[GCP only] Expose external load balancer</h4>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.expose.externalLoadBalancer.annotations</code></td>\n<td>No</td>\n<td>\n<p>This is for GCP only to set up external application load balancer settings.</p>\n<p>Set it<strong> </strong>if you want to enable an external load balancer on GCP.</p>\n<p>The service type options for the Ingress Controller are: NodePort, ClusterIP, LoadBalancer.</p>\n</td>\n<td></td>\n<td>\n<pre><code>global:\n  expose:\n    type: NodePort\n      externalLoadBalancer:\n        annotations: {cloud.google.com/app-protocols: '{\"https-port\":\"HTTPS\"}'}\n</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n<div>\n<h4><a id=\"_Azure_only_Expose_external_load_balancer\" name=\"_Azure_only_Expose_external_load_balancer\" title=\"[Azure only] Expose external load balancer\"></a><a id=\"Azure-only-Expose-external-load-balancer\" name=\"Azure-only-Expose-external-load-balancer\" title=\"[Azure only] Expose external load balancer\"></a><a id=\"[Azure_only]_Expose_external_load_balancer\" name=\"%5BAzure_only%5D_Expose_external_load_balancer\" title=\"[Azure only] Expose external load balancer\"></a>[Azure only] Expose external load balancer</h4>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.expose.type</code></td>\n<td>Yes</td>\n<td>\n<p>This is for Azure only to set up a load balancer service.</p>\n<p>Set this parameter<strong> </strong>if you want to use a load balancer on Azure.</p>\n</td>\n<td></td>\n<td>\n<pre><code>global:\n  expose:\n    type: LoadBalancer\n</code></pre>\n</td>\n</tr>\n<tr>\n<td><code>global.expose.externalLoadBalancer.annotations.azure-load-balancer-internal</code></td>\n<td>Yes</td>\n<td>\n<p>In Azure, we use a load balancer that is public. By adding <code>azure-load-balancer-internal: \"true\"</code> annotation in nginx service you can make sure that any internal load balancer created is accessible only within the VNet.</p>\n</td>\n<td></td>\n<td>\n<pre><code>global:\n  expose:\n    externalLoadBalancer:\n      annotations: service.beta.kubernetes.io/azure-load-balancer-internal: \"true\"\n</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n<div>\n<h4><a id=\"_OpenShift_only_Expose_external_load_balancer\" name=\"_OpenShift_only_Expose_external_load_balancer\" title=\"[OpenShift only] Expose external load balancer\"></a><a id=\"OpenShift-only-Expose-external-load-balancer\" name=\"OpenShift-only-Expose-external-load-balancer\" title=\"[OpenShift only] Expose external load balancer\"></a><a id=\"[OpenShift_only]_Expose_external_load_balancer\" name=\"%5BOpenShift_only%5D_Expose_external_load_balancer\" title=\"[OpenShift only] Expose external load balancer\"></a>[OpenShift only] Expose external load balancer</h4>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.expose.type</code></td>\n<td>Yes</td>\n<td>\n<p>This is only for OpenShift to set up a load balancer service. You can set the parameter value to <b>NodePort</b> or <b>ClusterIP. </b></p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>NodePort</strong>: Use this value to map traffic to the cluster node's nodePort</li><li style=\"margin-left: 28px; position: relative;\"><b>ClusterIP</b>: Use this value to map traffic to the suite user interface.</li></ul>\n<p><br/>\n<strong>Note</strong>: The <strong>ClusterIP </strong>parameter value is supported from version 25.1.1.</p>\n</td>\n<td>NodePort</td>\n<td>\n<p><strong>NodePort</strong>:</p>\n<pre><code class=\"language-yaml\">\nglobal:\n  expose:\n    type: NodePort</code>\n </pre>\n<p><br/>\n<b>ClusterIP</b>:</p>\n<pre><code class=\"language-yaml\">\nglobal:\n  expose:\n    type: ClusterIP</code>\n</pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n<div>\n<h4><a id=\"_BYOK_only_Expose_external_load_balancer\" name=\"_BYOK_only_Expose_external_load_balancer\" title=\"[BYOK only] Expose external load balancer\"></a><a id=\"_Managed_K8s_only_Enable_automatic_port_assignment_for_NodePort_service\" name=\"_Managed_K8s_only_Enable_automatic_port_assignment_for_NodePort_service\" title=\"[Managed K8s only] Enable automatic port assignment for NodePort service\"></a><a id=\"Managed-K8s-only-Enable-automatic-port-assignment-for-NodePort-service\" name=\"Managed-K8s-only-Enable-automatic-port-assignment-for-NodePort-service\" title=\"[Managed K8s only] Enable automatic port assignment for NodePort service\"></a><a id=\"[Managed_K8s_only]_Enable_automatic_port_assignment_for_NodePort_service\" name=\"%5BManaged_K8s_only%5D_Enable_automatic_port_assignment_for_NodePort_service\" title=\"[Managed K8s only] Enable automatic port assignment for NodePort service\"></a>[BYOK only] Expose external load balancer</h4>\n<div>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td><code>global.expose.type</code></td>\n<td>Yes</td>\n<td>\n<p>This is only for BYOK to set up a load balancer service. You can set the parameter value to <b>NodePort, LoadBalancer, or ClusterIP</b><b>. </b></p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>NodePort</strong>: Use this value to map traffic to the cluster node's nodePort</li><li style=\"margin-left: 28px; position: relative;\"><b>ClusterIP</b>: Use this value to map traffic to the suite user interface.</li><li style=\"margin-left: 28px; position: relative;\"><strong>LoadBalancer</strong>: Use this when your environment supports provisioning a load balancer for access.</li></ul>\n<p><br/>\n<strong>Note</strong>: The <strong>ClusterIP </strong>parameter is supported starting with version 26.1.</p>\n</td>\n<td>NodePort</td>\n<td>\n<p><strong>NodePort</strong>:</p>\n<pre><code class=\"language-yaml\">\nglobal:\n  expose:\n    type: NodePort</code>\n </pre>\n<p><strong>LoadBalancer</strong>:</p>\n<pre><code class=\"language-yaml\">\nglobal:\n  expose:\n    type: LoadBalancer</code>\n </pre>\n<p><br/>\n<b>ClusterIP</b>:</p>\n<pre><code class=\"language-yaml\">\nglobal:\n  expose:\n    type: ClusterIP</code>\n</pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n<h4>[Managed K8s only] Enable automatic port assignment for NodePort service</h4>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<div><code>nginx.nginx.service.external.nodePortAutoAssign</code></div>\n</td>\n<td>No</td>\n<td>\n<div>Update the NodePort settings to enable automatic port assignment only if all the following conditions are met:</div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Your deployment is on a managed kubernetes platform.</li><li style=\"margin-left: 28px; position: relative;\">You have configured a NodePort type load balancer.</li><li style=\"margin-left: 28px; position: relative;\">You plan to use auto generated NodePorts.</li></ul>\n</td>\n<td>false</td>\n<td>\n<pre><code>nginx:\n nginx:\n   service:\n     external:\n       nodePortAutoAssign: true</code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"_Azure_only_Configure_nginx_annotation_prefix\" name=\"_Azure_only_Configure_nginx_annotation_prefix\" title=\"[Azure only] Configure nginx annotation prefix\"></a><a id=\"Azure-only-Configure-nginx-annotation-prefix\" name=\"Azure-only-Configure-nginx-annotation-prefix\" title=\"[Azure only] Configure nginx annotation prefix\"></a><a id=\"[Azure_only]_Configure_nginx_annotation_prefix\" name=\"%5BAzure_only%5D_Configure_nginx_annotation_prefix\" title=\"[Azure only] Configure nginx annotation prefix\"></a>[Azure only] Configure nginx annotation prefix</h3>\n<p>Enabling HTTPS enforces authentication and protects data in transit from network layer eavesdropping attacks. If you enabled the <strong>Azure Policy</strong> on AKS to make sure that the Kubernetes clusters is accessible only over HTTPS, you must update the annotation prefix.</p>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>global.nginx.annotationPrefix</code></td>\n<td>Yes</td>\n<td>Provide the NGINX annotation prefix used in the ingress resources. Currently, AKS only recognizes the <strong data-end=\"133\" data-start=\"102\">nginx.ingress.kubernetes.io</strong> annotation prefix.</td>\n<td>ingress.kubernetes.io</td>\n<td>\n<pre><code>global:\n  nginx:\n    annotationPrefix: \"nginx.ingress.kubernetes.io\"</code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3><a id=\"Enable_prometheus_monitor\" name=\"Enable_prometheus_monitor\" title=\"Enable prometheus monitor\"></a><a id=\"Enable-prometheus-monitor\" name=\"Enable-prometheus-monitor\" title=\"Enable prometheus monitor\"></a><a id=\"Enable-service-monitor\" name=\"Enable-service-monitor\" title=\"Enable service monitor\"></a><a id=\"Enable_service_monitor\" name=\"Enable_service_monitor\" title=\"Enable service monitor\"></a>Enable prometheus monitor</h3>\n<div>\n<p>Before enabling <strong>Prometheus monitoring</strong> in your Kubernetes cluster — including <strong>AWS EKS</strong> or other cloud environments — ensure that all necessary <strong>Custom Resource Definitions (CRDs)</strong> are installed. Prometheus relies on specific CRDs such as <code>ServiceMonitor</code>, <code>PodMonitor</code>, and others to discover and scrape metrics from Kubernetes resources. These CRDs define how Prometheus should monitor services, pods, and other components within the cluster. </p>\n<p>Without these CRDs:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Prometheus cannot detect or collect metrics from your workloads.</li><li style=\"margin-left: 28px; position: relative;\">Monitoring configurations may fail or remain inactive if the required CRDs are missing.</li><li style=\"margin-left: 28px; position: relative;\">This requirement applies to <strong>all cloud deployments</strong>, not just AWS EKS.</li></ul>\n</div>\n<div>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">Parameter</th>\n<th scope=\"col\">Required</th>\n<th scope=\"col\">Description</th>\n<th scope=\"col\">Default</th>\n<th scope=\"col\">Example</th>\n</tr>\n<tr>\n<td>\n<div><code>global.prometheus.deployPrometheusConfig</code></div>\n</td>\n<td>No</td>\n<td>\n<div>Setting the parameter to true enables the service monitoring service.</div>\n<div>The monitoring capability uses the Prometheus and Grafana open source projects. Prometheus collects container based metrics associated with the OMT cluster, and streams them to applications (including Service Management) and many third-party software solutions (known as exporters). Grafana is the default visualization tool for Prometheus. </div>\n</td>\n<td>false</td>\n<td>\n<pre><code>prometheus:\n    deployPrometheusConfig: true</code></pre>\n</td>\n</tr>\n</thead>\n</table>\n</div>\n</div>",
  "modifiedon": "2025-12-29 06:08:13"
}