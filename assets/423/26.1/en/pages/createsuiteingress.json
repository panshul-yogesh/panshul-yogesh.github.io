{
  "title": "Create an Ingress for the suite",
  "content": "<div class=\"mw-parser-output\">\n<p>Perform these steps only after you have completed the ESM installation.</p>\n<ol>\n<li>Save the content below as <code>suite-ingress.yaml</code>:\n\n\t<pre>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: \"sma-ingress\"\n  namespace: &lt;ESM_NAMESPACE&gt;\n  annotations:\n    alb.ingress.kubernetes.io/scheme: internet-facing\n    alb.ingress.kubernetes.io/group.name: &lt;application_loadbalancer_name&gt;\n    alb.ingress.kubernetes.io/listen-ports: '[{\"HTTPS\": 443}]'\n    alb.ingress.kubernetes.io/backend-protocol: HTTPS\n    alb.ingress.kubernetes.io/healthcheck-protocol: HTTPS\n    alb.ingress.kubernetes.io/healthcheck-port: traffic-port\n    alb.ingress.kubernetes.io/healthcheck-path: /healthz\n    alb.ingress.kubernetes.io/success-codes: 200-399\n    alb.ingress.kubernetes.io/target-type: instance\n    alb.ingress.kubernetes.io/load-balancer-attributes: idle_timeout.timeout_seconds=180\n    alb.ingress.kubernetes.io/certificate-arn: &lt;certificate_arn&gt;\n    alb.ingress.kubernetes.io/ssl-policy: ELBSecurityPolicy-TLS13-1-2-Res-2021-06\n    kubernetes.io/ingress.class: alb\n  labels:\n    app: sma-ingress\nspec:\n  ingressClassName: alb\n  tls:\n  - hosts:\n    - &lt;external_access_host&gt;\n  rules:\n    - host: \n      http:\n        paths:\n          - backend:\n              service: \n                name: \"itom-ingress-controller-svc\"\n                port: \n                  number: 443\n            path: /*\n            pathType: ImplementationSpecific</pre>\n<p>Replace the following with the actual values:</p>\n<ul>\n<li><code>&lt;ESM_NAMESPACE&gt;</code>: the suite namespace. You can run <code>kubectl get ns</code> to find it (ESM-xxxxx). </li>\n<li><code>&lt;application_loadbalancer_name&gt;</code>: The name of the created ALB. If you have already configured ingress for OMT, enter the same name you used when <a href=\"/doc/423/26.1/eksbootstrapcdf#Step_3/_Create_an_Ingress\" title=\"creating an Ingress for port 3000\">creating an Ingress for port 5443</a>. If not, enter a new name.</li>\n<li><code>&lt;certificate_arn&gt;</code>: the<a href=\"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html\" title=\" resource name\"> resource name</a> of the prepared certificate. For example, <em>arn:aws:acm:region:123456789012:certificate/12345678-1234-1234-1234-123456789012</em>.</li>\n<li><code>&lt;external_access_host&gt;</code>: the FQDN you've allocated for the suite. For example, <em>www.example.com</em>.</li>\n<li>(FIPS mode only) <code>alb.ingress.kubernetes.io/ssl-policy</code>: replace this parameter value with <code>ELBSecurityPolicy-TLS13-1-2-FIPS-2023-04</code>.</li>\n</ul>\n</li>\n<li> Run the following command to apply the saved YAML file:\n\t<pre>kubectl create -f suite-ingress.yaml</pre>\n</li>\n<li>The Ingress for port 443 is bound to this Application Load Balancer automatically. If you haven't already done so, you will need to bind your FQDN to your Application Load Balancer. See <a href=\"/doc/423/26.1/eksbootstrapcdf#Bind_an_FQDN_with_Application_Load_Balancer\" title=\"Bind an FQDN with Application Load Balancer\">Bind an FQDN with Application Load Balancer</a> for details.</li>\n</ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}