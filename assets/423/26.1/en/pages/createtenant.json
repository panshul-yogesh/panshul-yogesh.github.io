{
  "title": "How to create and edit a tenant",
  "content": "<div class=\"mw-parser-output\">\n<div class=\"transcontent stn-begin--CreateTenant\"><meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n</style>\n<div>As a suite admin, you can use the <strong>Suite Administration Portal (BO)</strong> to create or edit a tenant.</div>\n</div>\n<h2><a id=\"Create_a_tenant\" name=\"Create_a_tenant\" title=\"Create a tenant\"></a>Create a tenant</h2>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">From the <span class=\"SAW_VariablesMain_menu\">main menu</span>, click <b>Tenants</b>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <a class=\"image\" href=\"\"> <img alt=\"NewIcon.png\" data-file-height=\"18\" data-file-width=\"17\" src=\"../../../images/NewIcon_7074e789.png\" style=\"width: 17px; height: 18px;\"/> </a> <b>New</b>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>In the <b>New tenant</b> dialog box, give all requested information. This dialog box requests values for the basic attributes.</p>\n<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td><strong>Account</strong></td>\n<td>Select the account specified for this tenant.</td>\n</tr>\n<tr>\n<td><strong>Shared service type</strong>\n<p>(Service Management tenant only)</p>\n</td>\n<td>\n<p>The system automatically sets the shared service type of the tenant according to the shared service type of the account:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><b>Provider:</b> Provider tenants can manage the business data of managed tenants.</li><li style=\"margin-left: 28px; position: relative;\"><b>Managed:</b> Managed tenants are client tenants hosted by shared service providers. The shared service agents in provider tenant manage the service cases.</li><li style=\"margin-left: 28px; position: relative;\"><b>Standard</b>: Standard tenants are ordinary tenants and are irrelevant to shared service.</li></ul>\n</td>\n</tr>\n<tr>\n<td><strong>Backend type</strong></td>\n<td>Select the <strong>Backend Type</strong> of the tenant:\n\t\t\t\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>SMAX</strong></li><li style=\"margin-left: 28px; position: relative;\"><strong>Service Manager</strong></li></ul>\n</td>\n</tr>\n<tr>\n<td><strong>Name</strong></td>\n<td>\n<p>Enter the tenant name. The maximum length of a tenant's name is 255 characters.</p>\n</td>\n</tr>\n<tr>\n<td><strong>Type</strong></td>\n<td>\n<p>Select the tenant type:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">\n<p><b>Production</b>: You can use this tenant for the official production environment. You can assign production licenses only to production tenants.</p>\n</li><li style=\"margin-left: 28px; position: relative;\">\n<p><b>DEV:</b> You can use this tenant to make all configuration changes. You can assign trial and non-production licenses only to <strong>DEV </strong>tenants.</p>\n</li><li style=\"margin-left: 28px; position: relative;\">\n<p><b>Internal:</b> You can use this tenant for internal demonstration. You can assign evaluation licenses only to internal tenants.</p>\n</li><li style=\"margin-left: 28px; position: relative;\">\n<p><b>Trial:</b> You can use this tenant for trial with limited duration and capacity. You can assign trial licenses only to Trial tenants.</p>\n</li></ul>\n<p>For more information about licenses, see related topics.</p>\n</td>\n</tr>\n</tbody>\n</table>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Click <b>Save</b>.</p>\n</li></ol>\n<h2><a id=\"Edit_a_tenant\" name=\"Edit_a_tenant\" title=\"Edit a tenant\"></a>Edit a tenant</h2>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">From the <span class=\"SAW_VariablesMain_menu\">main menu</span>, click <b>Tenants</b>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click the tenant in the ID column to display the selected tenant.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click the tab you want to view or edit. See <a href=\"/doc/423/26.1/tenantdetails\" title=\"Tenant details\">Tenant details</a>. By default, you can see the <b>General</b> tab.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Save the changes.</li></ol>\n<h2 class=\"mw-headline\" id=\"Deploy_tenant\"><a id=\"Deploy_tenant\" name=\"Deploy_tenant\" title=\"Deploy tenant\"></a>Deploy tenant</h2>\n<p>You can deploy a tenant if:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">You specify a tenant admin.</li><li style=\"margin-left: 28px; position: relative;\">You assign a license.</li></ul>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>\n<p> You don't need a license to deploy the SM tenant.</p>\n</div></div></div>\n<p>To deploy a tenant, click <a class=\"image\" href=\"\"> <img alt=\"deploy icon.png\" data-file-height=\"22\" data-file-width=\"23\" src=\"../../../images/deploy_icon_f023ad05.png\" style=\"width: 23px; height: 22px;\"/> </a> <b>Deploy</b>.</p>\n<p>The prompt message is asynchronous, go to the <b>Operation history</b> tab to view the actual status of this operation.</p>\n<h2 class=\"mw-headline\" id=\"Change_tenant_type\"><a id=\"Change_tenant_type\" name=\"Change_tenant_type\" title=\"Change tenant type\"></a>Change tenant type</h2>\n<h3><a id=\"For_a_Service_Management_tenant\" name=\"For_a_Service_Management_tenant\" title=\"For a Service Management tenant\"></a>For a Service Management tenant</h3>\n<p>The way to change the tenant type might vary slightly, depending on the tenant status.</p>\n<p>To change the tenant type before tenant deployment:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">(Optional) If license assignment is added to this tenant, go to <b>Licenses</b> tab, and then click <b>Revoke</b> to revoke the license.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">On <b>General</b> tab, select the type from the drop-down list. Click <b>Save</b>.</li></ol>\n<p>To change the tenant type after tenant deployment:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In <b>Licenses</b> tab, click <b>Revoke</b> to revoke the license.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>Change tenant type</b> on the toolbar.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the type from the drop-down list, and click <b>Change</b>.</li></ol>\n<h3><a id=\"For_a_Service_Manager_tenant\" name=\"For_a_Service_Manager_tenant\" title=\"For a Service Manager tenant\"></a>For a Service Manager tenant</h3>\n<p>To change the tenant type:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>Change tenant type</b> on the toolbar.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the type from the drop-down list, and click <b>Change</b>.</li></ol>\n<h2 class=\"mw-headline\" id=\"Tenant_status\"><a id=\"Tenant_status\" name=\"Tenant_status\" title=\"Tenant status\"></a>Tenant status</h2>\n<table>\n<tbody>\n<tr>\n<th>Status</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>New</td>\n<td>After its creation, the tenant status will be <b>New</b>.</td>\n</tr>\n<tr>\n<td>In Provision</td>\n<td>While deploying, the tenant status will be <b>In Provision</b>.</td>\n</tr>\n<tr>\n<td>Active</td>\n<td>Once deployed, the tenant status becomes <b>Active </b>for a <strong>production</strong>, <strong>DEV</strong>, <strong>internal</strong>, or <strong>trial tenant.</strong></td>\n</tr>\n<tr>\n<td>Inactive</td>\n<td>The tenant status becomes <b>Inactive</b> automatically after all licenses loaded to this tenant expire, you can also change the tenant status to <b>Inactive</b> manually.</td>\n</tr>\n<tr>\n<td>Pending for removal</td>\n<td>The tenant status becomes <b>Pending for removal</b> automatically if the tenant deployment fails.</td>\n</tr>\n</tbody>\n</table>\n<h3><a id=\"Deactivating_or_reactivating_tenants_with_Native_SACM_enabled\" name=\"Deactivating_or_reactivating_tenants_with_Native_SACM_enabled\" title=\"Deactivating or reactivating tenants with Native SACM enabled\"></a>Deactivating or reactivating tenants with Native SACM enabled</h3>\n<p>If a tenant has Native SACM enabled, after you change its state in Suite Administration from <strong>Active</strong> to <strong>Inactive </strong>or vice versa, you need to restart the platform offline pods. To restart these pods, run the commands below on a control plane node or the bastion node:</p>\n<pre>\tkubectl rollout restart deployment/itom-xruntime-platform-offline -n &lt;suite namespace&gt;\n\tkubectl rollout restart deployment/itom-xruntime-platform-offline-ng -n &lt;suite namespace&gt;\n    </pre>\n<p>The purposes of restarting the pods are:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">to shut down the WebSocket connection to UCMDB and the CI sync load from UCMDB at the backend (when deactivating the tenant)</li><li style=\"margin-left: 28px; position: relative;\">to recreate the WebSocket connection to UCMDB and rebuild the CI processing mechanism at the backend (when activating the tenant)</li></ul>\n<h2><a id=\"Export_and_import_tenant_Service_Management_tenant_only_\" name=\"Export_and_import_tenant_Service_Management_tenant_only_\" title=\"Export and import tenant (Service Management tenant only)\"></a>Export and import tenant (Service Management tenant only)</h2>\n<p>You can move a tenant to other suite instances by exporting and importing the tenant. Before exporting or importing a tenant, make sure the following prerequisites are met:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">There are no other tenant operations such as importing/exporting tenant, or <strong>Dev2Prod</strong> in the source and target suite instances.</li><li style=\"margin-left: 28px; position: relative;\">The shared service type of the source and target tenants are the same.</li><li style=\"margin-left: 28px; position: relative;\">Both the source tenant and target tenant must be in Active state.</li><li style=\"margin-left: 28px; position: relative;\">The target tenant can't be a production tenant.</li><li style=\"margin-left: 28px; position: relative;\">The target tenant must be a new tenant with no existing data.</li><li style=\"margin-left: 28px; position: relative;\">If the source system needs a crawling upgrade, be sure to complete the crawling upgrade for the tenant first and then export the tenant. To check the crawling upgrade version of a tenant, go to <strong>Configurations</strong> &gt; <strong>Crawling upgrade</strong> and check the <strong>Data upgrade version</strong> field value of the tenant. Similarly, before importing the tenant from the source system to the target system, complete the crawling upgrade in the target system first. See also <a href=\"/doc/423/26.1/failedtoimporttenant\" title=\"Failed to import tenant because of mismatching crawling upgrade versions\">Failed to import tenant because of mismatching crawling upgrade versions</a>.</li><li style=\"margin-left: 28px; position: relative;\">If the data volume is huge (such as 18 GB), you need to increase the memory of the <code>bo-ats</code> pod by 4 GB. Otherwise, the <code>bo-ats</code> pod will always restart.</li><li style=\"margin-left: 28px; position: relative;\">Both the source tenant and target tenant must have the <strong>column cdu_data_upgrade_version</strong> in the table data_update_state and data_upgrade_step_state of xservices_mng databases. If not, run the below query to add the missing column.\n\t<pre>ALTER TABLE maas_admin.data_upgrade_state ADD COLUMN IF NOT EXISTS cdu_data_upgrade_version varchar(20);\nALTER TABLE maas_admin.data_upgrade_step_state ADD COLUMN IF NOT EXISTS cdu_data_upgrade_version varchar(20);</pre>\n</li></ul>\n<p>To move a tenant:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Prepare a tenant as the target tenant.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>On the source tenant details page, click <b>Export tenant</b>.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>In the pop-up window, select either <strong>Full mode</strong> or <strong>Quick mode</strong>. The Full mode exports all tenant data including attachment files. The Quick mode allows you to export tenant data without attachments, which reduces the export time. If you choose to use the Quick mode, you need to manually move your attachment files before tenant import. </p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Click <strong>EXPORT</strong>, The tenant data will be exported to the NFS share. For helm deployment suite, the NFS share should be <code><span id=\"cke_bm_15473S\" style=\"display: none;\"> </span>/var/vols/itom/itsma/config-volume/tenant-export<span id=\"cke_bm_15473E\" style=\"display: none;\"> </span></code>. The exported package name is <b>data-&lt;tenantid&gt;-&lt;YYYYMMDDhhmmss&gt;.tar.gz.gpg.</b></p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">If you selected <strong>Quick mode</strong> to export the source tenant, follow these steps to manually move your attachment files:\n\t<ol start=\"1\" style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\">On the source tenant's NFS server, copy the <code>sourceTenant </code>folders in both <code>share1 </code>and <code>share2 </code>folders. For Helm deployments, the <code>share1 </code>and <code>share2 </code>folders are located in <code>&lt;nfs_data_volume&gt;</code>.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Paste the <code>sourceTenant </code>folders to respective <code>share1 </code>and <code>share2 </code>folders on the target tenant's NFS server.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Rename both <code>sourceTenant </code>folders to <code>import_${Source_TenantId}</code>. For example, <code>import_1000001.</code></li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Change the permissions of <code>sourceTenant </code>folders to <strong>itsma </strong>by running this command:\n\t\t<pre>chown itsma:itsma -R import_${Source_TenantId}</pre>\n<strong>Note:</strong> If you selected <strong>Quick mode</strong> and didn't perform the steps above (you don't need attachment files or for testing purposes only), the <code>targetTenant </code>folders in <code>share1 </code>and <code>share2 </code>folders will be lost and may cause the system to fail. In this scenario, you need to manually create empty <code>targetTenant </code>folders in <code>share1 </code>and <code>share2 </code>folders.</li></ol>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Copy the exported package to the NFS share of the target suite instance.<span id=\"cke_bm_24117C\" style=\"display: none;\"> </span></p>\n</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Create a new user belonging to the account that's assigned to the target tenant, the <strong>Upn </strong>of this user must be identical to the tenant admin of the source tenant, and specify this user as tenant admin of the target tenant.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>On the target tenant details page, click <b>Import tenant</b> on the toolbar.</p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Select the data file, turn on the switch if you want to use the role and permission settings of the source tenant, and click <b>Import</b>. If you choose not to inherit the role and permission settings, you need to assign the roles using the Manage Persons API.</p>\n<p>The prompt message is asynchronous, go to the <b>Operation history</b> tab to view the actual status of this operation.</p>\n</li></ol>\n<p>If you want to assign a license to imported users in Service Management, complete the following tasks before assigning the license:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Get the authentication type of these users in Suite Administration on the previous suite instance.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Create the same users in Suite Administration on the current suite instance using the Manage Persons API, and make sure the JSON includes authentication type property. </li></ol>\n<h3><a id=\"Move_the_tenant_s_Integration_Studio_configuration_data\" name=\"Move_the_tenant_s_Integration_Studio_configuration_data\" title=\"Move the tenant's Integration Studio configuration data\"></a>Move the tenant's Integration Studio configuration data</h3>\n<p>To move the Integration Studio configuration data, a tenant admin needs to do the following after moving the tenant:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Log in to the <strong>source tenant</strong>'s Agent Interface.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Navigate to <strong>Administration </strong>&gt; <strong>Utilities </strong>&gt; <strong>Integration </strong>&gt; <strong>Integration Studio</strong>.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Click <a class=\"image\" href=\"\"> <img alt=\"https://staging.docs.microfocus.com/mediawiki/images/5/55/VerticalDotXie.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/5/55/VerticalDotXie.png\" hspace=\"0\" src=\"../../../images/VerticalDotXie_0a6293b6.png\" style=\"width:17px;height:37px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a> in the left pane, and then click <strong>Export</strong>.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Select all the integrations that you want to export, and then click <strong>OK</strong> to export them to a package.</p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Log in to the <strong>target tenant</strong>'s Agent Interface.</p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Navigate to <b>Administration &gt; Utilities &gt; Integration &gt; Endpoints</b>.</p>\n</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Take note of the configuration of all endpoints that are used by integrations that you will move.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Delete those endpoints and then recreate them with the same configuration.</p>\n<p>Note: If you create endpoints with the same name as those used in the integrations, the Integration Studio automatically associates the endpoints with the integrations during the integration import process. If you create endpoints with different names, you need to manually select the endpoints in the integrations after the import process.</p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Navigate to <strong>Administration </strong>&gt; <strong>Utilities </strong>&gt; <strong>Integration </strong>&gt; <strong>Integration Studio</strong>.</p>\n</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Click <a class=\"image\" href=\"\"> <img alt=\"https://staging.docs.microfocus.com/mediawiki/images/5/55/VerticalDotXie.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/5/55/VerticalDotXie.png\" hspace=\"0\" src=\"../../../images/VerticalDotXie_0a6293b6.png\" style=\"width:17px;height:37px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a> in the left pane, and then click <b>Import</b>.</p>\n</li><li style=\"--number-width: 17px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Select the integration export package file that you exported from the source tenant, and then click <b>Import</b>.</p>\n</li></ol>\n<p>This will move your endpoint and integration configuration data to the target tenant.</p>\n<p>Note that this process won't migrate the schedule records. You need to manually configure schedules in the target tenant.</p>\n<h3><a id=\"Move_a_tenant_with_SAM_enabled_to_another_suite_instance\" name=\"Move_a_tenant_with_SAM_enabled_to_another_suite_instance\" title=\"Move a tenant with SAM enabled to another suite instance\"></a>Move a tenant with SAM enabled to another suite instance</h3>\n<ol style=\"padding-left: 0px;\" type=\"1\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\" value=\"1\">Make sure your Linux environment has the PostgreSQL tools (<code>pg_dump</code>, <code>pg_restore</code>, and <code>psql</code>) installed.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to back up the source SAM tenant schema:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>pg_dump -d sam --file \"t_&lt;smax_source_tenant_ID&gt;.backup\" --host \"&lt;smax_source_PosgreSQL_server_hostname&gt;\" --port \"&lt;source_PostgreSQL_server_port&gt;\" --username \"sam\" --verbose --format=c --blobs --schema \" t_&lt;smax_source_tenant_ID&gt;\"</code></pre>\n</div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><b>smax_source_tenant_ID</b>: The ID of the source tenant with SAM enabled.</li><li style=\"margin-left: 40px; position: relative;\"><b>smax_source_PosgreSQL_server_hostname</b>: The PostgreSQL server hostname of the source tenant.</li><li style=\"margin-left: 40px; position: relative;\"><b>source_PostgreSQL_server_port</b>: The PostgreSQL server port number of the source tenant.</li><li style=\"margin-left: 40px; position: relative;\"><b>smax_source_tenant_ID</b>: The source tenant ID.</li></ul>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Restore the source tenant schema to the target tenant:\n\t<ol start=\"1\" style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\">Enable the SAM capability on the target tenant. For more information, see <a href=\"/doc/423/26.1/enablesaminsmax\" title=\"Enable the SAM capability\">Enable the SAM capability</a>.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Run the following command to delete the target tenant schema:\n\t\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>psql -d sam --host \"&lt;smax_target_PostgreSQL_server_hostname&gt;\" --port \"&lt;target_PostgreSQL_server_port&gt;\" --username \"sam\" -c \"drop schema t_&lt;smax_target_tenant_ID&gt; CASCADE;\"\n</code></pre>\n</div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 52px; position: relative;\"><b>smax_target_PostgreSQL_server_hostname</b>: The PostgreSQL server hostname of the target tenant.</li><li style=\"margin-left: 52px; position: relative;\"><b>target_PostgreSQL_server_port</b>: The PostgreSQL server port number of the target tenant.</li><li style=\"margin-left: 52px; position: relative;\"><b>smax_target_tenant_ID</b>: The target tenant ID. Note down this ID because it's needed in the next step.</li></ul>\n</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Run the following commands to restore the source tenant schema:\n\t\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>pg_restore -d sam --host \"&lt;smax_target_PostgreSQL_server_hostname&gt;\" --port \"&lt;target_PostgreSQL_server_port&gt;\" --username \"sam\" --verbose --format=c \"t_&lt;smax_source_tenant_ID&gt;.backup\"</code></pre>\n</div>\n<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>psql -d sam --host \"&lt;smax_target_PostgreSQL_server_hostname&gt;\" --port \"&lt;target_PostgreSQL_server_port&gt;\" --username \"sam\" -c \"ALTER SCHEMA t_&lt;smax_source_tenant_ID&gt; RENAME TO t_&lt;smax_target_tenant_ID&gt;;\"</code></pre>\n</div>\n</li></ol>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Use either of the following methods to update the UCMDB settings for the target tenant:\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">In Suite Administration, click <b>Tenants</b> from the main menu, and then click the source tenant ID as required. In the <b>Capability settings</b> tab page, update the <b>UCMDB username</b> and <b>UCMDB password</b> fields by changing them to the username and password of another UD/UCMDB administrator user, and then click <b>SAVE</b>.<br/>\n<b>Note:</b> The <b>SAVE</b> button takes effect only when you change the UCMDB username and password.</li><li style=\"margin-left: 40px; position: relative;\">Or, you can also run the following command:\n\t\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>psql -d sam --host \"&lt;smax_target_PostgreSQL_server_hostname&gt;\" --port \"&lt;target_PostgreSQL_server_port&gt;\" --username \"sam\" -c \"update t_&lt;smax_target_tenant_ID&gt;.sys_configuration set value='&lt;target_UCMDB_gateway_URL&gt;' where item='api_gateway.server.url'; update t_&lt;smax_target_tenant_ID&gt;.sys_configuration set value='&lt;target_UCMDB_customer_ID&gt;' where item='cms.server.customer_id';        update t_&lt;smax_target_tenant_ID&gt;.sys_configuration set value='&lt;target_UCMDB_username&gt;' where item='api_gateway.server.user'; update t_&lt;smax_target_tenant_ID&gt;.sys_configuration set value='{\\\"itom-bo\\\":\\\"tenant_int_&lt;smax_target_tenant_ID&gt;_sam_password_secret_key\\\"}' where item='api_gateway.server.password';\"</code></pre>\n</div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 52px; position: relative;\"><b>target_UCMDB_gateway_URL</b>: The UCMDB Gateway URL configured for the target tenant.</li><li style=\"margin-left: 52px; position: relative;\"><b>target_UCMDB_customer_ID</b>: The UCMDB customer ID configured for the target tenant.</li><li style=\"margin-left: 52px; position: relative;\"><b>target_UCMDB_username</b>: The UCMDB username configured for the target tenant.</li></ul>\n</li></ul>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to restart the <b>sam-backend-deployment</b> pod:\n\t<div contenteditable=\"false\" tabindex=\"-1\">\n<pre><code>kubectl delete pod &lt;sam-backend-deployment-xxx&gt; -n &lt;smax_namespace&gt;</code></pre>\n</div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><b>sam-backend-deployment-xxx</b>: The name of the <strong>SAM backend deployment</strong> pod.</li><li style=\"margin-left: 40px; position: relative;\"><b>smax_namespace</b>: The Service Management namespace.</li></ul>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">(Optional) If you are using Office 365 on the source tenant, update the settings on the target SAM UI.</li></ol>\n<h2><a id=\"Synchronize_users_from_Suite_Administration_to_the_tenant_Service_Management_tenant_only_\" name=\"Synchronize_users_from_Suite_Administration_to_the_tenant_Service_Management_tenant_only_\" title=\"Synchronize users from Suite Administration to the tenant (Service Management tenant only)\"></a>Synchronize users from Suite Administration to the tenant (Service Management tenant only)</h2>\n<p>A user added in Suite Administration is automatically added to Service Management when attempting to log in for the first time, before a manual or automatic synchronization. Or, to synchronize users manually for incremental user updates, click the <b>Sync</b> button on the <b>People</b> page in Service Management.<br/>\nHowever, if you want to run a full synchronization for the tenant, you can click the <b>Hard sync user</b> button on the toolbar from the tenant detail page in Suite Administration. A hard sync clears all previous user data and synchronizes the latest user data to the tenant. You will lose all existing user related fields.</p>\n<h2><a id=\"Delete_a_tenant\" name=\"Delete_a_tenant\" title=\"Delete a tenant\"></a>Delete a tenant</h2>\n<p>You can delete only inactive tenants. </p>\n<p>To delete a tenant:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">From the main menu, click <b>Tenants</b>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Make sure that the tenant you want to delete is inactive. If not, make it inactive.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">If the <strong>Capability settings</strong> tab of the tenant indicates the tenant has the Operations Orchestration (OO) capability enabled, wait for a while (for example, 5 to 10 minutes) to allow the system to make the OO tenant inactive.<br/>\n\tIf the OO tenant is active when you click <strong>Delete</strong> in the next step, only the Service Management tenant gets deleted and the OO tenant remains. As a result, you won't be able to redeploy the OO capability after you recreate the tenant with the same tenant ID. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click the checkbox for the tenant you want to delete, and then click  <a class=\"image\" href=\"\"> <img alt=\"delete\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/f/f3/HCMX_2021.08_DeleteTenantIcon.png\" hspace=\"0\" src=\"../../../images/HCMX_2021.08_DeleteTenantIcon_ea173531.png\" style=\"width:20px;height:23px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/> </a>   <strong>Delete. </strong></li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">On the delete confirmation screen, select <strong>Confirm</strong> for the deletion or select <strong>Cancel</strong> to avoid deletion.</li></ol>\n<div class=\"transcontent stn-end--CreateTenant\"></div>\n<h2><a id=\"Related_topics\" name=\"Related_topics\" title=\"Related topics\"></a>Related topics</h2>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/tenantmgmt\" title=\"Tenants\">Tenants</a></li><li style=\"margin-left: 28px; position: relative;\">For more information about licenses, see <a href=\"/doc/423/26.1/licensesmgmt\" title=\"Licenses\">Licenses</a>.</li><li style=\"margin-left: 28px; position: relative;\">For more information about configuring a custom domain, see <a href=\"/doc/423/26.1/configurecustomdomainsfortenants\" title=\"Configure custom domains for tenants\">Configure custom domains for tenants</a>.</li><li style=\"margin-left: 28px; position: relative;\">For more information about shared service providers, see <a href=\"/doc/423/26.1/sharedserviceprovider\" title=\"Suite Administration for shared service providers\">Suite Administration for shared service providers</a>.</li><li style=\"margin-left: 28px; position: relative;\">For more information about exporting and importing integrations, see <a href=\"/doc/423/26.1/xieimportexportintegrations\" title=\"Export and import integrations\">Export and import integrations</a>.</li><li style=\"margin-left: 28px; position: relative;\">For instructions on deploying SAM, see <a href=\"/doc/423/26.1/deploysam\" title=\"Enable SAM\">Enable SAM</a>.</li><li style=\"margin-left: 28px; position: relative;\">For more information using the manage persons API, see <a href=\"/doc/423/26.1/managepersonsapi\" title=\"Manage Persons API\">Manage Persons API</a>.</li><li style=\"margin-left: 28px; position: relative;\">For more information about the authentication type, see <a href=\"/doc/423/26.1/edituser#Authenticationtype\" title=\"SMAX:25.1/EditUser\">Authentication type</a>.</li></ul>\n</div>",
  "modifiedon": "2025-12-18 05:18:11"
}