{
  "title": "Develop plugins for Java actions",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>This section describes how to develop plug-ins containing only Java actions, marked with the<strong> @Action</strong> annotation.</p>\n<p>Using the Maven archetype <b>com.hp.oo.sdk:oo-plugin-archetype</b> you can create a skeleton for a plugin and a Designer project.</p>\n<h2 class=\"mw-headline\" id=\"Prepare_to_create_a_plugin_using_a_Maven_archetype\">Prepare to create a plugin using a Maven archetype</h2>\n<p><b>Install Maven</b></p>\n<p>Install Maven on your computer, adding the bin folder to the \"Path\" system variable. This enables you to run the <code>mvn</code> command from anywhere in the file system.</p>\n<p>For more information on the Maven Installation process, check the <a href=\"https://maven.apache.org/install.html\">Installing Apache Maven</a> on the Apache website.</p>\n<p>Operations Orchestration SDK depends on Maven 3.2.1. This version of Maven has a defect concerning the fact that it tries to resolve dependencies using external repositories even though we specify our internal Nexus artifact management system in the <b>settings.xml</b> file. The workaround is to force Maven to use a single repository – the internal repository. </p>\n<p><b>Mirror Remote Maven Repositories</b></p>\n<p>You can force Maven to use a single remote repository by mirroring all requests to remote repositories through an internal (company) repository. The internal repository must either contain all the desired artifacts, or it should be able to proxy the requests to other repositories. This setting is most useful when using an internal company repository with the Maven Repository Manager to proxy external requests.</p>\n<p>To achieve this, configure a mirror for everything (*) in your <b>settings.xml</b> file. For complete guidelines, check the <a href=\"https://maven.apache.org/guides/mini/guide-mirror-settings.html\">Using Mirrors for Repositories</a> topic on the Apache website.</p>\n<pre>&lt;settings&gt;\n... \n&lt;mirrors&gt;\n&lt;mirror&gt;\n&lt;id&gt;internal-repository&lt;/id&gt;  \n&lt;name&gt;Maven Repository Manager running on repo.mycompany.com&lt;/name&gt;\n&lt;url&gt;http://repo.mycompany.com/proxy&lt;/url&gt;\n&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n&lt;/mirror&gt;\n&lt;/mirrors&gt;\n...\n&lt;/settings&gt;</pre>\n<p><b>Create a local Maven repository</b></p>\n<ul>\n<li>\n<p>Expand <code>sdk-dotnet-&lt;version&gt;.zip and sdk-java-&lt;version&gt;</code>.zip to:</p>\n<p><b>Windows</b>: %HOMEPATH%\\.m2\\repository.</p>\n<p><b>Linux</b>: $HOME/.m2/repository.</p>\n<div class=\"Admonition_Note\">These files are located on the OO ZIP file in the SDK folder.</div>\n<p>Following is an example of a directory structure, if the files were correctly extracted:</p>\n<p><a class=\"image\" href=\"/file/images/8/88/2018.02/Resources/Images/Action_Developers/Action_Developers.png\" title=\"/file/images/8/88/2018.02/Resources/Images/Action_Developers/Action_Developers.png\"> <img alt=\"Action Developers.png\" border=\"1\" data-file-height=\"232\" data-file-width=\"187\" file=\"/mediawiki/images/8/88/2018.02/Resources/Images/Action_Developers/Action_Developers.png\" height=\"232\" hspace=\"0\" src=\"../../../images/Action_Developers_dfbe607a.png\" style=\"width:187px;height:232px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:1px solid black;\" vspace=\"0\" width=\"187\"/> </a></p>\n</li>\n</ul>\n<p><b>Register the plugin archetype</b></p>\n<ul>\n<li>\n<p>Open the command prompt and enter the following command:</p>\n<p><code>mvn archetype:crawl</code></p>\n<p>This updates the Maven archetype catalog under $HOME/.m2/repository.</p>\n</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Create_a_plugin_using_a_Maven_archetype\">Create a plugin using a Maven archetype</h2>\n<p><b>Create a sample project</b></p>\n<ol>\n<li>\n<p>Go to the path where you want to create a sample plugin project, and enter the following command in the command line:</p>\n<pre>mvn archetype:generate -DarchetypeCatalog=file://$HOME/.m2/repository</pre>\n<p><b>Note</b>: For Windows, use %HOMEPATH%.</p>\n<p>This initiates the project creation. A list of archetypes found in the catalog appears. Select the number representing the <b>archetype com.hp.oo.sdk:oo-plugin-archetype</b>.</p>\n<p>In the example below, select 1.</p>\n<p><a class=\"image\" href=\"/file/images/d/d7/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a1.png\" title=\"/file/images/d/d7/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a1.png\"> <img alt=\"Creating a Plugin Using a1.png\" border=\"1\" data-file-height=\"213\" data-file-width=\"570\" file=\"/mediawiki/images/d/d7/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a1.png\" height=\"213\" hspace=\"0\" src=\"../../../images/Creating_a_Plugin_Using_a1_a1deaa7c.png\" style=\"width:570px;height:213px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:1px solid black;\" vspace=\"0\" width=\"570\"/> </a></p>\n</li>\n<li>\n<p>During the archetype creation, enter the following details:</p>\n<ul>\n<li><code>groupId</code>: The group id for the resulting Maven project. <code>acmeGroup</code> is used in the example below.</li>\n<li><code>artifactId</code>: The artifact id for the resulting Maven project. <code>acmeArtifact</code> is used in the example below.</li>\n<li><code>package</code>: The package for the files in the project. The default for this option is the same as the <code>groupId</code>.</li>\n<li><code>uuid</code>: The UUID of the generated project. A randomly generated UUID is used in the example below.</li>\n</ul>\n<p><a class=\"image\" href=\"/file/images/c/ca/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a_3.png\" title=\"/file/images/c/ca/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a_3.png\"> <img alt=\"Creating a Plugin Using a 3.png\" border=\"1\" data-file-height=\"170\" data-file-width=\"579\" file=\"/mediawiki/images/c/ca/2018.02/Resources/Images/Action_Developers/Creating_a_Plugin_Using_a_3.png\" height=\"170\" hspace=\"0\" src=\"../../../images/Creating_a_Plugin_Using_a_3_9396eb52.png\" style=\"width:579px;height:170px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:1px solid black;\" vspace=\"0\" width=\"579\"/> </a></p>\n<p>The build finishes and a project is created.</p>\n<p><a class=\"image\" href=\"/file/images/9/91/OO_2018.02_Creating_a_Plugin_Using_a_2.png\" title=\"/file/images/9/91/OO_2018.02_Creating_a_Plugin_Using_a_2.png\"> <img alt=\"OO 2018.02 Creating a Plugin Using a 2.png\" border=\"1\" data-file-height=\"97\" data-file-width=\"538\" file=\"/mediawiki/images/9/91/OO_2018.02_Creating_a_Plugin_Using_a_2.png\" height=\"97\" hspace=\"0\" src=\"../../../images/OO_2018.02_Creating_a_Plugin_Using_a_2_f2680b56.png\" style=\"width:538px;height:97px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:1px solid black;\" vspace=\"0\" width=\"538\"/> </a></p>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Open_the_project_in_a_Java_IDE\">Open the project in a Java IDE</h2>\n<p>The previous step created a new Java project with a Maven-based model.</p>\n<p>Open this project in a Java IDE application.</p>\n<p>The project contains two modules that have the same prefix as the provided artifact ID. One of the projects is a content pack project and the other is a plugin project.</p>\n<p>For example:</p>\n<p><a class=\"image\" href=\"/file/images/5/5c/2018.02/Resources/Images/Action_Developers/Open_the_project_in_a_Java1.png\" title=\"/file/images/5/5c/2018.02/Resources/Images/Action_Developers/Open_the_project_in_a_Java1.png\"> <img alt=\"Open the project in a Java1.png\" border=\"1\" data-file-height=\"258\" data-file-width=\"695\" file=\"/mediawiki/images/5/5c/2018.02/Resources/Images/Action_Developers/Open_the_project_in_a_Java1.png\" height=\"258\" hspace=\"0\" src=\"../../../images/Open_the_project_in_a_Java1_5533bae7.png\" style=\"width:695px;height:258px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:1px solid black;\" vspace=\"0\" width=\"695\"/> </a></p>\n<p><b>Parent project</b></p>\n<p>In the illustrated example, the parent project is called <b>acmeArtifact</b>.</p>\n<p>By default, it contains two modules—one a content pack and the other a plugin. This project groups @Actions and their relevant operations and flows into a single content pack.</p>\n<div class=\"Admonition_Note\">In large projects you can group actions in plugins based on functionality, protocols or technologies such as: ssh-plugin, http-plugin etc. When you create operations from the actions of a project, place them all in a single content pack project, disregarding the plugin in which it is contained.</div>\n<p><b>Example</b>: If you were developing a Microsoft Office integration, you might create several plugin projects—one for each Office version. But there would be a single content pack project containing the operations and flows.</p>\n<p><b>Plugin project</b></p>\n<p>In the example, the plugin project is called <b>acmeArtifact-plugin</b>.</p>\n<p>This module contains the @Actions. When you are building this project (with Maven), the code inside is compiled and the resulting JAR file can be opened in Studio, and operations can be created from the @Actions inside.</p>\n<p>Inside this module, a sample @Action can be found. You can delete it and write your own.</p>\n<p><b>Content pack project</b></p>\n<p>In the example, the content pack project is called <b>acmeArtifact-cp</b>.</p>\n<p>This module represents the content pack. It includes any plugin modules upon which it is dependent, for example, <b>acmeArtifact-plugin</b> and its dependencies), as well as any flows, operations, and configuration items defined within it.</p>\n<h2 class=\"mw-headline\" id=\"Create_a_new_action\">Create a new action</h2>\n<p>A Java action is a method that conforms to the signature <code>public Map&lt;String, String&gt; doSomething(parameters)</code>, annotated with the <b>@Action</b> annotation.</p>\n<p>You can find the complete specification of the <b>@Action</b> annotation in the Developing Actions section.</p>\n<h2 class=\"mw-headline\" id=\"Build_Maven_plugin\">Build Maven plug-in</h2>\n<p>To build your Maven project, navigate to the location of the parent project, for example, <strong><code><em>c:\\temp\\acmeArtifact</em></code></strong>), open the command line and <code>run mvn clean install</code>.</p>\n<p>You can see the artifacts resulted from the build process under the <b>target</b> folder of each module.</p>\n<p>These artifacts are also installed in the local maven repository located at <code><b>%HOMEPATH%\\.m2\\repository or $HOME/.m2/repository</b></code>.</p>\n<p>For example, you can find the resulted artifact from building <b>acmeArtifact-plugin</b> loacted in: <code><b>%HOMEPATH%\\.m2\\repository\\acmeGroup\\acmeArtifact-plugin\\1.0.0\\acmeArtifact-plugin-1.0.0.jar</b></code>.</p>\n<h2>Use the plugin in Studio</h2>\n<p>To use the plugin created using Maven in OO Studio:</p>\n<ul>\n<li>Import the content pack project in OO Studio, the plugins and all its dependent modules are automatically imported.</li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}