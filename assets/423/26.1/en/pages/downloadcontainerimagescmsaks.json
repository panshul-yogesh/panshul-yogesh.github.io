{
  "title": "Download container images (AKS)",
  "content": "<div class=\"mw-parser-output\"><p>Before you deploy the suite, you need to download the suite images from Docker Hub or other registries and then upload the images to your registry.</p><div class=\"Admonition_Note\"><b>Note</b> As the containerized UD/UCMDB will be installed together with Service Management,we recommend that you upload UD/UCMDB images together with that of Service Management. If you have already uploaded images to your registry, skip this step.</div><h2 id=\"Generate_the_Image_Set\">Generate the image set</h2><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-DownloadContainerImagesCms|forcmsupgrade1|N\"></span><div class=\"transcontent lst-ITOM_Container_Deployment_Foundation:24.2/TextSnippets--generate_download\"><div class=\"Admonition_Note\"><strong>Note:</strong> To follow the steps in this section, you must have installed the <code>zip</code> Linux command on the node where you run the <code>generate_download_bundle.sh</code> script.</div><p><br/></p></div><p>Before downloading and uploading the images, you need to generate the image set with the following steps on the bastion node:</p><ol><li><p>On the bastion node, navigate to the OMT installation directory:</p><pre>cd OMT_External_K8s_2x.x-xxx/tools/generate-download</pre></li><li><p>Run the following command to display the command-line options for the <code>generate_download_bundle</code> command:<br/><code>./generate_download_bundle.sh -h</code></p></li><li>Run the command together with the options required by your deployment. For example, run the following command:\n\t<pre>./generate_download_bundle.sh --chart &lt;UCMDB helm chart file&gt; -o &lt;org name&gt; [-d &lt;destination dir&gt;]</pre><p><br/>\n\tWhere:\n</p><ul><li><code>&lt;UCMDB helm chart file&gt;</code>: The absolute path to the downloaded UD/UCMDB helm chart package.</li><li><code>&lt;org name&gt;</code>: The organization in the image registry that contains the images for installation. By default, it is \"hpeswitom\".</li><li><code>&lt;destination dir&gt;</code>: The directory where the output .zip file is created. The default location is the current directory.</li></ul><p>The generate_download_bundle.sh compares the images needed by the suite with the images that already exist in the cluster, and generates a .zip file, <code>offline-download.zip</code>, that enables you to download the required images from Docker Hub. The <code>offline-download.zip</code> is placed under the current working directory unless the \"<code>-d</code>\" option is specified.<br/>\n\tFor example:</p><pre>./generate_download_bundle.sh --chart UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/charts/ucmdb-1.xx.x-xxx+2x.x.x.tgz -o hpeswitom -d /tmp</pre><p>You receive the following messages indicating that you have successfully generated the offline-download.zip file:</p><pre>[INFO] 2020-07-31 17:58:46 : ** Generating the offline image download bundle ...\n[INFO] 2020-07-31 17:58:50 : Completed generation of offline-download.zip in /tmp\n</pre><p>The offline-download.zip will be placed in the<code> /tmp</code> directory as specified. This file contains a list of the required images and you will use it when running the script to download and upload images.</p></li></ol><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-DownloadContainerImagesCms|forcmsupgrade1|N\"></span><h2 id=\"Download_and_upload_images\">Download the required installation images</h2><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-UploadImagestoExternalRegistry|DownloadImages|N\"></span><ol><li>Log on to the first control plane node or the bastion node. If that node can't access Docker Hub, transfer the  <code>offline-download.zip</code>  file to a Linux server that can access Docker Hub.</li><li>Extract the .zip package to a directory. If you can't access Docker Hub directly, set up the HTTP/HTTPS proxy. For example, run the following commands to set the HTTP/HTTPS proxy. Replace the placeholders with your actual server and port. <br/><code>export http_proxy=\"&lt;http://PROXY_SERVER:PORT&gt;\"<br/>\n\texport https_proxy=\"&lt;https://PROXY_SERVER:PORT&gt;\"</code></li><li>Go to the directory you extracted the <code>offline-download.zip</code> package into.</li><li>Run the following command:<br/>\n\t \n\t<pre><code>./downloadimages.sh -u &lt;username&gt;  -d &lt;image download directory&gt; -c on|off -o &lt;org name&gt;</code></pre><p>\tWhere:\n</p><ul><li>Replace &lt;<i>username</i>&gt; with the Docker Hub username.</li><li>If you don't specify the credentials here, you will be prompted to specify them when you run the command.</li><li>&lt;<em>image download directory</em>&gt;: The directory where the container images will be downloaded. The default value is /var/opt/cdf/offline.</li><li>The <code>-c</code> option is used to verify the digital signature of the images during the download. The default setting is off, which doesn't verify the signature.</li><li><code>&lt;org name&gt;</code>: The organization in the image registry that contains the images for installation. By default, this is <code>hpeswitom.</code> This option is mandatory if you aren't using the default organization name.</li></ul></li></ol><p>To see the full list of options for the <code>downloadimages.sh</code> command, run the following command:<br/><code>./downloadimages.sh –h</code><br/>\nThe command also has a <code>-p</code> option to provide your password. The <code>-p</code>  option doesn't support single quotes (don't include single quotes in the password).</p><div class=\"Admonition_Note\"><p><span class=\"autonumber\">Note:</span> OpenText encourages you to use some other password options, which aren't provided by OpenText. By implementing the -p option, you may expose the system to increased security risks. You understand and agree to assume all associated risks and hold OpenText harmless for the same. It remains at all times your sole responsibility to assess its own regulatory and business requirements. OpenText doesn't represent or warrant that its products comply with any specific legal or regulatory standards applicable to you in conducting your business.</p></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-UploadImagestoExternalRegistry|DownloadImages|N\"></span><h2>Upload images</h2><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-AKSDownloadImage|AKSUploadImages|N\"></span><p>defalut snipet content</p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-AKSDownloadImage|AKSUploadImages|N\"></span></div>",
  "modifiedon": "2025-10-24 08:51:12"
}