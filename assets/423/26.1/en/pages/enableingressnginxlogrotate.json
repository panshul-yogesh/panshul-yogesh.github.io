{
  "title": "Enable log rotation",
  "content": "<div class=\"mw-parser-output\">\n<p>Follow the steps below to implement log rotation so that logs won't use up all storage on the node. </p>\n<ol>\n<li>Patch <strong>itom-ingress-controller-conf</strong> to enable log rotation with desired rotation size and round number. Below is an example.\n\n\t<pre>namespace=`kubectl get namespace | grep itsma | cut -f1 -d \" \"`\nkubectl patch cm itom-ingress-controller-conf -n ${namespace} -p '{\"data\":{\"access-log-path\":\"/var/log/nginx/access.log\", \"access-logrotate-size\": \"500M\", \"access-logrotate-round\": \"20\"}}' </pre>\n<p>In this example,</p>\n<ul>\n<li><code>{\"access-logrotate-size\" :\"500M\"} </code>defines that logs will be rotated once the log size is more than 500 M.</li>\n<li><code>{\"access-logrotate-round\" :\"20\"} </code>defines that 20 log files will be kept while the older ones will be removed.</li>\n</ul>\n<p>Define your own rotation size and round number based on your actual business needs.</p>\n</li>\n<li>Restart the <strong>itom-ingress-controller-nnnnnnn</strong> pod so your configurations can take effect.\n\t<pre>kubectl delete pod -n &lt;suite namespace&gt; itom-ingress-controller-nnnnnnn\n</pre>\n</li>\n</ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}