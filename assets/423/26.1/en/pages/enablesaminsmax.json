{
  "title": "Enable the SAM capability",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>After you install the suite, you can add the SAM capability for a tenant. Note that:</p>\n<ul>\n<li>You can't disable SAM after you enable it for a tenant.</li>\n<li>If the <a href=\"/doc/423/26.1/originalsam\" title=\"Original SAM\">original Software Asset Management</a> module in Service Management is already in use before you enable the new SAM capability, that data won't be migrated to the new SAM solution after you enable it.</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Enable_SAM_in_SMAX_UI\">Prerequisites</h2>\n<p>Before deploying the new SAM capability in the suite, make sure you have installed it in the suite. To see if SAM is installed, run the <code>kubectl get pods --all-namespaces | grep sam</code> command. Make sure the <strong>sam-deploy-controller</strong> pod is in the <strong>Completed </strong>state.</p>\n<p>If SAM isn't installed, you can <a href=\"/doc/423/26.1/addcapabilitieshelm#Install_new_capabilities\" title=\"add the SAM capability\">add the SAM capability</a> to your existing installation. Or, you can install a new suite with the SAM capability enabled in the values.yaml file. Note that in an on-premises production environment like OpenShift, you must update the <code>pg_hba.conf</code> file of the external PostgreSQL database as required; for other environments (GCP, AKS, or EKS), you don't need to update the file.</p>\n<h2>Add the SAM capability</h2>\n<p>To deploy and enable the SAM capability in the suite, follow these steps:</p>\n<ol>\n<li>Prepare a tenant and make sure the following requirements are met:\n\t<ul>\n<li>The tenant's backend type is <b>SMAX</b>. </li>\n<li>The tenant's status is <b>Active</b>.</li>\n<li>The Asset Management license is assigned to the tenant. See <a href=\"/doc/423/26.1/createlicense\" title=\"SMAX licenses\">Service Management licenses</a> and <a href=\"/doc/423/26.1/assetmanagementlicense\" title=\"AMX license\">Asset Management license</a>.</li>\n</ul>\n<p>For detailed steps, see <a href=\"/doc/423/26.1/deploytenantwflw\" title=\"Set up a tenant\">Set up a tenant</a>.</p>\n</li>\n<li>Log in to Suite Administration (<code>https://&lt;EXTERNAL_ACCESS_HOST&gt;/bo</code>) as <b>suite-admin</b>.</li>\n<li>From the main menu, click <b>Tenants</b>, and then click the tenant in the ID column to display the selected tenant.</li>\n<li>Click the <b>Capability settings</b> tab.</li>\n<li>On the page that appears, click <b>Deploy new capability</b>.<br/>\n\tThis opens a dialog box with two steps: <b>Pre-check</b> and <b>Config and deploy</b>.\n\t<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">If you have already enabled the Native SACM capability, make sure the UCMDB configurations (UCMDB gateway URL, UCMDB customer, UCMDB username, and UCMDB password) that you are about to configure in the following <strong>Pre-check</strong> and <strong>Config and deploy</strong> steps are the same as those you have configured for Native SACM.</div>\n</div>\n</li>\n<li>In the <b>Pre-check</b> step, set the following fields and then click <b>NEXT</b>.\n\t<ul>\n<li><b>Capability</b>: The new capability you want to deploy. Select <b>Software Asset Management</b>.</li>\n<li><b>UCMDB gateway URL</b>: Enter the URL of UCMDB Gateway that you deployed, in the <code>http(s)://&lt;FQDN&gt;:&lt;port&gt;/cms-gateway</code> format.</li>\n<li><b>UCMDB global admin username</b>: The username of the UCMDB global admin, which is an out-of-the-box (OOTB) user defined by UCMDB.\n\t\t<ul>\n<li>For classic UD/UCMDB: sysadmin/admin</li>\n<li>For containerized UD/UCMDB: suite-admin</li>\n</ul>\n</li>\n<li><b>UCMDB global admin password</b>: The password of the UCMDB global admin.</li>\n<li><strong>UCMDB provider customer ID:</strong> The ID of the UCMDB provider customer that administers the UCMDB application and manages the lifecycle of consumer customers. The default value is <em>1</em>.</li>\n<li><b>UCMDB customer</b>: Select a UCMDB consumer customer from the drop-down list.</li>\n</ul>\n</li>\n<li>In the <b>Config and deploy</b> step, set the required fields, confirm that you want to deploy SAM, and then click <b>DEPLOY</b>.\n\t<ul>\n<li><b>Capability</b>: The capability you selected in the earlier step. This field is automatically populated.</li>\n<li><b>UCMDB customer</b>: The UCMDB customer you selected in the earlier step. It might take some time for this field to be populated automatically. Don't proceed until the value appears.</li>\n<li><b>UCMDB username</b>: The UCMDB login user who can access the UCMDB database. If you haven't enabled Native SACM, we recommend that you create a unique account with the Admin or SuperAdmin role in UCMDB for this integration such as <strong>smax_integration</strong> so that the updates made to CIs in UCMDB will be clearly indicated as being made by the suite. </li>\n<li><b>UCMDB password</b>: The password of the UCMDB user.<br/>\n\t\tIf the UCMDB username and password pass the validation, a message will appear indicating that the deployment has started. If the validation fails, you will need to check if the fields are correct.<br/>\n\t\tYou can change the <strong>UCMDB username</strong> and <strong>UCMDB password</strong> fields later as needed.</li>\n</ul>\n</li>\n<li>Click <b>Close</b>.<br/>\n\tThis updates the fields in the <b>Software Asset Management</b> section.</li>\n<li>Click <b>Refresh</b> and view the <b>Deploy status</b> field to check whether the deployment is successful.\n\t<ul>\n<li><b>In progress</b>: indicates that the deployment is in progress.</li>\n<li><b>Done</b>: indicates that the deployment is successful.</li>\n<li><b>Failed</b>: indicates that SAM failed to be deployed.<br/>\n\t\tYou can either click the <b>Operation history</b> field or click the <b>Operation history</b> tab in the left panel to check the logs for details. Resolve the issues, and then click <b>REDEPLOY </b>to try again.</li>\n</ul>\n</li>\n<li>(Optional) Click <b>TEST CONNECTION</b> to verify that your SAM settings are correct. Make changes based on the test results.</li>\n<li>Toggle on <b>Enable capability</b>.<br/>\n\tNote that you can't remove the SAM capability after you confirm to enable it.</li>\n<li>Click <b>SAVE</b>.\n\t<ol>\n</ol>\n</li>\n</ol>\n<h2>Perform post-deployment tasks</h2>\n<p>After adding the SAM capability to your tenant, the tenant admin needs to perform the following tasks.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">For demo or testing purposes, you can deploy SAM's sample data in your environment planned to run SAM. For more information about how to deploy sample data and use SAM to manage product compliance, see <a href=\"/doc/423/26.1/sambestpracticesmax\" title=\"SAM best practice\">SAM best practice</a>.</div>\n</div>\n<h3>Grant permissions to a role</h3>\n<p>After SAM is enabled, if users need to access the following menu items, assign the required privileges for the License record type:</p>\n<ul>\n<li><b>SAM Home</b> and <b>Compliance</b> require the <b>View</b> privilege.</li>\n<li>\n<div><b>Analysis</b>, <b>License Metrics</b>, <b>License Rules</b>, and <b>Products</b> require the <b>Admin</b> privilege.</div>\n</li>\n</ul>\n<p>For instructions on how to assign permissions to a role, see <a href=\"/doc/423/26.1/pplroles\" title=\"Roles\">Roles</a>.</p>\n<h3>Disable the License metric field</h3>\n<p>This task is required only if you have enabled both the original SAM application and the new SAM capability. In this case, reports generated based on the <b>License Metric</b> record type are inaccurate. We recommend that you remove the <b>License metric</b> field from all the forms that contain this field for the following record types in <b>Administration </b>&gt; <b>Configuration </b>&gt; <b>Studio</b>:</p>\n<ul>\n<li>License </li>\n<li>Asset Model</li>\n</ul>\n<p>For instructions on how to edit a form, see <a href=\"/doc/423/26.1/editform\" title=\"Edit a form\">Edit a form</a>.</p>\n<h2>Related topics</h2>\n<p><a href=\"/doc/423/26.1/reportproperties\" title=\"Report properties\">Report properties</a></p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}