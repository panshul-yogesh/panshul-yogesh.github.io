{
  "title": "The search results of double-byte character set might be incomplete",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The search accuracy of East Asian languages that belong to a double-byte character set (such as Chinese, Japanese, or Korean) requires case-by-case tuning. It may depend on various scenarios such as data distribution, search language, and so on. There is no universally applicable solution. However, for search accuracy in scenarios where East Asian languages are mixed with other languages (such as English), you can refer to the following solution for improvement. These procedures have achieved ideal results in customer environments.</p>\n<h2>Classic deployment</h2>\n<ol>\n<li>\n<p>Log in to the control plane node or bastion node as root or a sudo user.</p>\n</li>\n<li>\n<p>Run the following command to change the config map:</p>\n<pre>kubectl edit cm itom-sma-smarta-common-configuration-cm -n &lt;suite_namespace&gt;</pre>\n\tFor example,\n\n\t<pre> kubectl edit cm itom-sma-smarta-common-configuration-cm -n itsma-1dmwm</pre>\n\tChange the detect_language_type to false.</li>\n<li>Run the following command to display all content files:\n\t<pre>kubectl get po -n &lt;suite_namespace&gt; | grep con-</pre>\n<br/>\n\tFor example,\n\t<pre>kubectl get po -n itsma-1dmwm | grep con-</pre>\n</li>\n<li>\n<p>Log in to the NFS server and add the following parameters to all content files:</p>\n<pre>[LanguageTypes]\n......\nTransliteration=false\nNgram=2\nNgramorientalonly=true\nHyphenchars=none\nPropernames=0\nAugmentseparators=-'.\nStoplists=international.dat\n</pre>\n<p>See the following table for the configuration file locations. Note that if the configuration file can't be found, manually add the folder and file.</p>\n<table>\n<tbody>\n<tr>\n<th>NAME</th>\n<th>Configuration file location</th>\n</tr>\n<tr>\n<td>smarta-sawarc-con-0</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/sawarc/content/smarta-sawarc-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawarc-con-1</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/sawarc/content/smarta-sawarc-con-1/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-0</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/saw/content/smarta-saw-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-1</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/saw/content/smarta-saw-con-1/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-0</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/sawmeta/content/smarta-sawmeta-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-1</td>\n<td>&lt;smartanalytics-volume&gt;/config/idol/sawmeta/content/smarta-sawmeta-con-1/content.cfg</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Restart all the pods using the <code>kubectl delete pod &lt;podname&gt; -n &lt;suite_namespace&gt;</code> command.</li>\n</ol>\n<h2>Helm deployment</h2>\n<ol>\n<li>Log in to the control plane node or bastion node as root or a sudo user.</li>\n<li>[Optional] If you don't remember the path of your custom <em>my-values.yaml</em> file, run the following command to get your <em>my-values.yaml</em> file.\n\t<pre>ns=&lt;ESM_NAMESPACE&gt;\nhelm get values &lt;ESM_RELEASE_NAME&gt; -n $ns &gt; my-values.yaml\n</pre>\n<p>Where:</p>\n<ul>\n<li><em>&lt;ESM_NAMESPACE&gt;</em> is the unique namespace of the ESM chart deployment.</li>\n<li><em>&lt;ESM_RELEASE_NAME&gt;</em> is the release name, which you can obtain by using the following command\n\t\t<pre>helm list -n $ns | awk '{print $1}'</pre>\n</li>\n</ul>\n</li>\n<li>Open your my-values.yaml file, and paste the below content in parallel with the gobal settings(there is no indent before the smarta line):\n\t<pre>smarta:\n  performance:\n    detectLanguageType: \"false\"</pre>\n</li>\n<li>(Only for 24.3) Run the following command to make sure all job resources have the Complete status.\n\t<pre>kubectl get job -n $ns</pre>\n\tIf complete, it should return COMPLETIONS are 1/1. Run the following command to clean up unused jobs before applying changes\n\n\t<pre>kubectl get job -n $ns|grep -v NAME | awk '{print $1}'|xargs kubectl delete job -n $ns\n</pre>\n</li>\n<li>Run the follow command to make this update take effect.\n\t<pre>helm upgrade &lt;ESM_RELEASE_NAME&gt; &lt;ESM_HELM_CHART_PATH&gt; -n $ns -f  my-values.yaml\n</pre>\n<p>Where <em>&lt;ESM_HELM_CHART_PATH&gt;</em> is the absolute path of the helm package.</p>\n<p>Example:</p>\n<pre>helm upgrade sma esm-1.0.0+2x.x-xxx\\charts\\esm-1.0.0+2x.x-xxx.tgz -n itsma-xxx -f my-values.yaml </pre>\n</li>\n<li>\n<p>Log in to the NFS server and add the following parameters to all content files:</p>\n<pre>[LanguageTypes]\n......\nTransliteration=false\nNgram=2\nNgramorientalonly=true\nHyphenchars=none\nPropernames=0\nAugmentseparators=-'.\nStoplists=international.dat\n</pre>\n<p>See the following table for the configuration file locations. Note that if the configuration file can't be found, manually add the folder and file.</p>\n<table>\n<tbody>\n<tr>\n<th>NAME</th>\n<th>Configuration file location</th>\n</tr>\n<tr>\n<td>smarta-sawarc-con-0</td>\n<td>&lt;config-volume&gt;/idol/sawarc/content/smarta-sawarc-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawarc-con-1</td>\n<td>&lt;config-volume&gt;/idol/sawarc/content/smarta-sawarc-con-1/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-0</td>\n<td>&lt;config-volume&gt;/idol/saw/content/smarta-saw-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-1</td>\n<td>&lt;config-volume&gt;/idol/saw/content/smarta-saw-con-1/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-0</td>\n<td>&lt;config-volume&gt;/idol/sawmeta/content/smarta-sawmeta-con-0/content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-1</td>\n<td>&lt;config-volume&gt;/idol/sawmeta/content/smarta-sawmeta-con-1/content.cfg</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Run below command to restart releated pods:\n\t<pre>kubectl rollout restart statefulset smarta-sawarc-con -n $ns\nkubectl rollout restart statefulset smarta-saw-con -n $ns\nkubectl rollout restart statefulset smarta-sawmeta-con -n $ns\n</pre>\n</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}