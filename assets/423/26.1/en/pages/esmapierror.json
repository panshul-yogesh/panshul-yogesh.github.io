{
  "title": "ESM API: Call to SMAX failed",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>Users see the following error with <code>Status</code> as <code>500</code> in the JSON response body when running the ESM APIs:</p>\n<p><code>\"error\": \"Internal Server Error\"</code></p>\n<p>In addition to this error, the <code>itom-esm-api</code> log file contains the following error:</p>\n<p><code>ERROR [System ] [https-jsse-nio-8080-exec-3] com.microfocus.esm.client.SmaxClient : Call to SMAX failedorg.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : [no body]</code></p>\n<h2>Cause</h2>\n<p>This issue may occur because of an expired IDM authentication token. </p>\n<h2>Solution</h2>\n<p>Try the following solutions one after the other.</p>\n<h3>Solution 1</h3>\n<p>Recreate the authentication token and retry the failed ESM API. If the issue persists, try Solution 2.</p>\n<h3>Solution 2</h3>\n<p>Run the following commands on the control plane to restart the related pods:</p>\n<ul>\n<li><code>kubectl set env deployment/itom-esm-api SMAX_HOST_NAME=&lt;HOST_FQDN&gt; -n</code> <code>${ITSMA_NAMESPACE}</code></li>\n<li><code>kubectl set env deployment/itom-esm-api SMAX_HOST_PORT=443 -n</code> <code>${ITSMA_NAMESPACE}</code></li>\n<li><code>kubectl scale deployment itom-esm-api --replicas=0 -n</code> <code>${ITSMA_NAMESPACE}</code></li>\n<li><code>kubectl scale deployment itom-esm-api --replicas=1 -n</code> <code>${ITSMA_NAMESPACE}</code></li>\n</ul>\n<p>Once the pods are up and running, retry the APIs.</p>\n<div></div>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}