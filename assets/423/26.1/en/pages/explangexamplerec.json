{
  "title": "Expression Language examples with record properties",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>When using the Expression Language to build phrases, you need to refer to the current record's properties, which are the fields of the record. It's recommended to open the Fields tab in a separate window while you are building an expression elsewhere in the system.</p>\n<div class=\"Admonition_Note\">\n<p><span class=\"autonumber\">Note</span> When building an expression with record fields, make sure to use the field <b>name</b> rather than the field <b>label</b>.</p>\n</div>\n<h2 class=\"mw-headline\" id=\"Recipient_lists\">Recipient lists</h2>\n<p>One common application of the Expression Language is building a list of recipients. The following are some examples of Expression Language phrases that return a recipient or a collection of recipients:</p>\n<ul>\n<li>\n<p><b>${first_non_empty_value(entity.AssignedPerson.Id, entity.AssignedGroup.Id, entity.OwnedByPerson.Id, entity.ServiceDeskGroup.Id)}</b></p>\n<p>This expression from Incident Management uses the <b>first_non_empty_value</b> function which selects the first value from the given arguments that's not empty. In this case, the arguments are:</p>\n<ul>\n<li><b>entity.AssignedPerson.Id.</b> This expression returns the ID of the person related to the current record by the <b>AssignedPerson</b> relationship.</li>\n<li><b>entity.AssignedGroup.Id.</b> This expression returns the ID of the group related to the current record by the <b>AssignedGroup</b> relationship.</li>\n<li><b>entity.OwnedByPerson.Id.</b> This expression returns the ID of the person related to the current record by the <b>OwnedByPerson</b> relationship.</li>\n<li><b>entity.ServiceDeskGroup.Id.</b> This expression returns the ID of the person related to the current record by the <b>ServiceDeskGroup</b> relationship.</li>\n</ul>\n</li>\n<li>\n<p>${entity.IsRequestedForPerson.Id}</p>\n<p>This expression from Service Request Management returns the ID of the person related to the current record by the <b>IsRequestedForPerson</b> relationship.</p>\n</li>\n<li>\n<p>${entity.AffectsActualService.Owner, entity.IsOwnedByPerson}</p>\n<p>This expression from Change Management returns a collection of the following recipients:</p>\n<ul>\n<li><b>entity.AffectsActualService.Owner.</b> The owner of the actual service that's affected by the current change.</li>\n<li><b>entity.IsOwnedByPerson.</b> The person who is the owner of the current change.</li>\n</ul>\n</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Conditional_expressions\">Conditional expressions</h2>\n<p>Another application of the Expression Language is in building a conditional expression. The following are some examples of Expression Language phrases that return a boolean value based on the evaluation of the statements:</p>\n<ul>\n<li>\n<p><b>${(current_update.ImpactScope.NewValue != current_update.ImpactScope.OldValue || current_update.Urgency.NewValue != current_update.Urgency.OldValue) &amp;&amp; (entity.Urgency == 'TotalLossOfService' &amp;&amp; entity.ImpactScope == 'Enterprise') }</b>.</p>\n<p>This expression from Incident Management is a composite expression using the <b>and</b> and <b>or</b> functions. The individual phrases are:</p>\n<ul>\n<li><b>current_update.ImpactScope.NewValue != current_update.ImpactScope.OldValue.</b> This expression states that the new value of the ImpactScope field of the current record isn't equal to the previous value of the field before it was updated.</li>\n<li><b>current_update.Urgency.NewValue != current_update.Urgency.OldValue.</b> This expression states that the new value of the Urgency field of the current record isn't equal to the previous value of the field before it was updated.</li>\n<li><b>entity.Urgency == 'TotalLossOfService' &amp;&amp; entity.ImpactScope == 'Enterprise'.</b> This expression states that the Urgency property of the current record is equal to 'TotalLossOfService' and its ImpactScope property is equal to 'Enterprise'.</li>\n</ul>\n<p>If at least one of the first two expressions is true and the third expression is true, the entire phrase is evaluated as <b>true</b>; otherwise it returns <b>false</b>.</p>\n</li>\n<li>\n<p><b>${current_update.BasedOnChangeModel.IsChanged &amp;&amp; current_update.BasedOnChangeModel.OldValue != null}</b></p>\n<p>This expression from Change Management is a composite expression of two phrases using the <b>and</b> function:</p>\n<ul>\n<li><b>current_update.BasedOnChangeModel.IsChanged.</b> This expression evaluates whether the BasedOnChangeModel field of the current record has changed during the last data update.</li>\n<li><b>current_update.BasedOnChangeModel.OldValue != null.</b> This expression states that the previous value of the BasedOnChangeModel field of the current record before the last data update was not null.</li>\n</ul>\n<p>If both of these expressions are evaluated as true, the entire expression returns <b>true</b>; otherwise it returns <b>false</b>.</p>\n</li>\n<li>\n<p>${(entity.PhaseId != 'Escalate' &amp;&amp; entity.PhaseId != 'Close' &amp;&amp; entity.PhaseId != 'Log') &amp;&amp; (current_update.ServiceDeskGroup.NewValue != current_update.ServiceDeskGroup.OldValue) &amp;&amp; ( entity.ServiceDeskGroup != null) }</p>\n<p>This expression from Incident Management is a composite expression using the <b>and</b> function:</p>\n<ul>\n<li><b>(entity.PhaseId != 'Escalate' &amp;&amp; entity.PhaseId != 'Close' &amp;&amp; entity.PhaseId != 'Log').</b> This expression is itself a composite using the <b>and</b> function. If the PhaseId property of the current record isn't equal to Escalate, Close, or Log, then it returns <b>true</b>; otherwise it returns <b>false</b>.</li>\n<li><b>(current_update.ServiceDeskGroup.NewValue != current_update.ServiceDeskGroup.OldValue).</b> This expression states that the new value of the ServiceDeskGroup field of the current record isn't equal to the previous value of the field before it was updated.</li>\n<li><b>(entity.ServiceDeskGroup != null).</b> This expression states that the ServiceDeskGroup property of the current record doesn't contain a null value.</li>\n</ul>\n<p>If all of these sub-expressions return <b>true</b>, the composite expression also returns <b>true</b>; otherwise it returns <b>false</b>.</p>\n</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Strings_for_comments_or_field_values\">Strings for comments or field values</h2>\n<p>An additional application of Expression Language is constructing a string to be used as a comment or a value for a field. The following are some examples of Expression Language phrases that return a string:</p>\n<ul>\n<li>\n<p>${concat('Change Model replaced from \"',current_update.BasedOnChangeModel.OldValue.DisplayLabel,'\" to \"',current_update.BasedOnChangeModel.NewValue.DisplayLabel,'\"')}</p>\n<p>This expression from Change Management uses the concat function to create a comment. The string is composed of the following parts:</p>\n<p>When the comment is complete, it indicates that the Change Model was replaced from the old value to the new value.</p>\n<ul>\n<li>'<b>Change Model replaced from \"'.</b> This part of the expression creates the beginning of the comment.</li>\n<li><b>current_update.BasedOnChangeModel.OldValue.DisplayLabel.</b> This part of the expression returns the previous value of the DisplayLabel property of the BasedOnChangedModel field of the current record, before the last data update.</li>\n<li>'<b>\" to \"'.</b> This part of the expression inserts the word \"to\" in the comment.</li>\n<li><b>current_update.BasedOnChangeModel.NewValue.DisplayLabel.</b> This part of the expression returns the new value of the DisplayLabel property of the BasedOnChangedModel field of the current record, after the last data update.</li>\n</ul>\n</li>\n<li>\n<p>${substring(entity.Description, 0, min(80, length(entity.Description)))}</p>\n<p>This expression from Incident Management uses the <b>substring</b> function to form a string for a field value:</p>\n<p>The string returned by the expression runs from the beginning of the record's Description field for 80 characters, or the entire field, whichever is shorter.</p>\n<ul>\n<li><b>entity.Description.</b> This expression returns the Description field of the current record, which serves as the input string.</li>\n<li><b>0.</b> This argument indicates that the substring should begin from the beginning of the input string (position 0).</li>\n<li><b>min(80, length(entity.Description)).</b> This expression, which uses the <b>min</b> and <b>length</b> functions, indicates the number of characters to be included in the returned string. It returns the minimum of the two values: 80 or the length of the Description field of the current record.</li>\n</ul>\n</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/explang\" title=\"SMAX:25.1/ExpLang\">Expression Language</a></li>\n<li><a href=\"/doc/423/26.1/explangeditor\" title=\"SMAX:25.1/ExpLangEditor\">Expression Language editor</a></li>\n<li><a href=\"/doc/423/26.1/explangfunctions\" title=\"SMAX:25.1/ExpLangFunctions\">Expression Language functions and syntax</a></li>\n<li><a href=\"/doc/423/26.1/objectpropertyexp\" title=\"SMAX:25.1/ObjectPropertyExp\">How to form object property expressions</a></li>\n<li><a href=\"/doc/423/26.1/explangexampleoutput\" title=\"SMAX:25.1/ExpLangExampleOutput\">Expression Language examples by output type</a></li>\n<li><a href=\"/doc/423/26.1/explangquickhelp\" title=\"SMAX:25.1/ExpLangQuickHelp\">Expression Language for notifications</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}