{
  "title": "License file uploading fails with error 401",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p><br/>\nWhen you attempt to upload a license file in Suite Administration, the following error occurs:</p>\n<pre>License file uploading failed: 401</pre>\n<h2 class=\"mw-headline\" id=\"Cause\">Cause</h2>\n<p>The idm signing keys on the OMT and SMA sides are out of sync. For example, you have changed the value only on one side (OMT or SMA). As a result, you can't access the AutoPass License Manager (APLM) due to a token validation issue and the uploading of the license file then fails.</p>\n<h2 class=\"mw-headline\" id=\"Solution\">Solution</h2>\n<p>Perform the following steps on a control plane node to manually synchronize the idm signing keys:</p>\n<ol>\n<li>Run the command below to get the APLM pod name:\n\t<pre>kubectl get pods -n &lt;suite namespace&gt; | grep autopass</pre>\n<p>Where: &lt;suite namespace&gt; is your suite namespace, for example, itsma-yd5az.</p>\n</li>\n<li>Run the command below to enter the APLM pod:\n\t<pre>kubectl exec -it &lt;APLM pod name&gt; -n &lt;suite namespace&gt; -c autopass-lm bash</pre>\n</li>\n<li>Run the command below to get the secret value in OMT:\n\t<pre>get_secret VAULT_SIGNING_KEY baseinfra core</pre>\n<p>The command should return the following result. Make a note of &lt;value in core&gt;.</p>\n<pre>PASS=&lt;value in core&gt;</pre>\n</li>\n<li>Run the command below to get the secret value in the suite:\n\t<pre>get_secret core_idm_signing_key</pre>\n<p>The command should return the following result. Make a note of &lt;value in sma&gt;.</p>\n<pre>PASS=&lt;value in sma&gt;</pre>\n</li>\n<li>If &lt;value in core&gt; and &lt;value in sma &gt; are different, run the following command to update the value in the suite:\n\t<pre>update_secret core_idm_signing_key &lt;value in core&gt;</pre>\n<p>A message is displayed: <code>Secret successfully updated. </code></p>\n</li>\n</ol>\n<p>Log in to Suite Administration to upload the license file again. You should be able to upload the license file successfully.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}