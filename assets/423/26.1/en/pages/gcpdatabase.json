{
  "title": "Create external databases",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\">\n<p>The suite contains an internal (embedded) PostgreSQL database instance, which should be used for demonstration purposes only. You must use external databases in a production environment. For information about supported external databases, see the <a href=\"/doc/423/26.1/gcpsizing#Hardware_requirements_for_SMA_(SMA_only)\" title=\"Support matrix for GCP deployment\">Support matrix for GCP deployment</a>.<br/>\n<br/>\n<span style=\"color: rgb(22, 22, 22); font-size: clamp(1.59375rem, 18.7895px + 1.39803vw, 2.125rem);\">Create an external PostgreSQL instance</span></p>\n<table>\n<tbody>\n<tr>\n<th>Role</th>\n<th>Location</th>\n</tr>\n<tr>\n<td>Database administrator</td>\n<td>GCP Console</td>\n</tr>\n</tbody>\n</table>\n<p>To allow private IP connectivity from the GKE cluster to the PostgreSQL instance, you first need to enable Service Networking API by navigating to <b>APIs &amp; Services</b> &gt; <b>Library</b> &gt; <b>Service Networking API</b> and clicking <b>Enable</b>.</p>\n<p>Follow the steps below to create a PostgreSQL instance on GCP:</p>\n<ol>\n<li>Log in to the Google Cloud Platform Console at <a class=\"external free\" href=\"https://console.cloud.google.com/\" rel=\"nofollow\" target=\"1\" title=\"https://console.cloud.google.com/\">https://console.cloud.google.com/</a> .</li>\n<li>Click <b>SQL</b> &gt; <b>CREATE INSTANCE</b>.</li>\n<li>Choose <b>PostgreSQL</b> and populate the following fields:\n\t<ul>\n<li><b>Instance ID</b>: Give a name to the instance.</li>\n<li><b>Password</b>: Set a password for the default admin user <strong>postgres</strong>. You will need it during the suite installation.</li>\n<li><b>Database version</b>: select a <a href=\"/doc/423/26.1/gcpsupportmatrix#Databases\" title=\"supported database version\">supported database version</a>.</li>\n<li><b>Region</b>: Select the same region as the prepared VPC</li>\n<li><strong>Zonal availability</strong>: Select <strong>Multiple zones (Highly available)</strong>.</li>\n</ul>\n</li>\n<li>Click <b>SHOW CONFIGURATION OPTIONS</b> and configure as follows:\n\t<ul>\n<li>Under <b>Machine type</b>, select a machine type by referring to <a href=\"/doc/423/26.1/gcpsizing#Hardware_requirements_for_Suite_(Suite_only)\" title=\"Sizing guide\">Sizing guide</a>.</li>\n<li>Under <b>Storage</b>, configure storage by referring to <a href=\"/doc/423/26.1/gcpsizing#Hardware_requirements_for_Suite_(Suite_only)\" title=\"Sizing guide\">Sizing guide</a>.</li>\n<li>Under <b>Connections</b>, deselect <b>Public IP</b>, select <b>Private IP</b>, click <strong>Set Up Connection</strong>, select <strong>Use an automatically allocated IP range</strong>, click <strong>continue </strong>and then <strong>Create Connection</strong>.</li>\n<li>Under <b>Data Protection</b>, set up your preferred backup configurations.</li>\n<li>Under <b>Flags</b>, click <b>ADD FLAG</b> and add a flag <i><b>max</b></i>_<i><b>connections : 2000</b></i>.</li>\n</ul>\n</li>\n<li>Leave the remaining settings as is and click <b>Create Instance</b>. It will take several minutes for the new instance to be created. You can monitor its status on the SQL page.</li>\n<li>To enforce SSL/TLS for all connections to your Cloud SQL instance, follow the <a class=\"external text\" href=\"https://cloud.google.com/sql/docs/sqlserver/configure-ssl-instance\" rel=\"nofollow\" target=\"1\" title=\"Google Cloud\">Google Cloud</a> documentation. </li>\n<li>(Optional) To enforce TLSv1.3 on the PostgreSQL server side, set the <a href=\"https://postgresqlco.nf/doc/en/param/ssl_min_protocol_version/\" title=\"ssl_min_protocol_version\"><strong>ssl_min_protocol_version</strong></a> and <strong><a href=\"https://postgresqlco.nf/doc/en/param/ssl_max_protocol_version/\" title=\"ssl_max_protocol_version\">ssl_max_protocol_version</a> </strong>parameters to <strong>TLSv1.3</strong>.  See <a href=\"https://cloud.google.com/sql/docs/postgres/flags\" title=\"Configure database flags\">Configure database flags</a> for details.</li>\n</ol>\n<div class=\"transcontent stn-begin--SetUpPostgreSQLForCDF\"> </div>\n<p><span style=\"color: rgb(22, 22, 22); font-size: clamp(1.59375rem, 18.7895px + 1.39803vw, 2.125rem);\">External references</span></p>\n<p>For Cloud SQL for PostgreSQL information, see <a class=\"external text\" href=\"https://cloud.google.com/sql/docs/postgres/\" rel=\"nofollow\" target=\"1\" title=\"Cloud SQL\">Cloud SQL</a>.</p>\n<div class=\"transcontent stn-end--relatedTopics\"> </div>\n</div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}