{
  "title": "Development guide for HTML widgets",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>You can create a custom widget to embed your HTML content into Service Portal. This is a useful method to embed content from third-party applications. For example, you can embed Microsoft Power BI reports as a Full page widget with the HTML (iframe) encapsulation type. See <a href=\"https://docs.microsoft.com/en-us/power-bi/collaborate-share/service-embed-secure#how-to-embed-power-bi-reports-into-portals\" title=\"Embed a report in a secure portal or website\">Embed a report in a secure portal or website</a>, <a href=\"https://docs.microsoft.com/en-us/power-bi/collaborate-share/service-publish-to-web\" title=\"Publish to web from Power BI\">Publish to web from Power BI</a>, and the <b>Embed web pages — Power BI report</b> section for details.</p>\n<p>Here are some use case examples:</p>\n<h2>Use channel messaging</h2>\n<p>Channel messaging is useful when you embed HTML content into Service Portal for interactions. </p>\n<p>For example, you can create a <code>MessageChannel</code> object, which can return the <code>MessagePort</code> ports for you to receive and send messages. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MessagePort\" title=\"MessagePort\">MessagePort</a>.<br/>\nNote that these message ports are automatically started because Service Portal also uses them internally. So you don't need to start the message ports by yourself and also be sure not to close them.</p>\n<ul>\n<li>Each <code>MessagePort</code> object includes a <code>postMessage()</code> method, which you can use to post a message through the channel.</li>\n<li>The <code>MessagePort</code> objects also have an <code>onmessage</code> event attribute, which can be used to define an event handler function instead of adding an event listener. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent\" title=\"MessageEvent\">MessageEvent</a>.</li>\n</ul>\n<h3>Code Example</h3>\n<pre>window.messageChannel.postMessage({ type: 'visible', data: { visible: false } });</pre>\n<table>\n<thead>\n<tr>\n<th scope=\"col\">\n<p><code>type</code></p>\n</th>\n<th scope=\"col\">\n<p><code>data</code></p>\n</th>\n<th scope=\"col\">\n<p>Description</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p><code>visible</code></p>\n</td>\n<td>\n<p><code>{</code></p>\n<p><code>visible: boolean</code></p>\n<p><code>}</code></p>\n</td>\n<td>\n<p>Show or hide the widget component in DOM.</p>\n<p><span style=\"background-color: transparent;\"><strong>Note: </strong>The widget component still exists in the browser context and is not destroyed.</span></p>\n</td>\n</tr>\n<tr>\n<td>\n<p><code>destroy</code></p>\n</td>\n<td>\n<p><code>null</code></p>\n</td>\n<td>\n<p>Completely remove and destruct the widget component from DOM. A <code>disconnectcallback</code> will be triggered.</p>\n<p><span style=\"background-color: transparent;\"><strong>Note: </strong>This type is useful for some closable and one-time notification banner widgets.</span></p>\n</td>\n</tr>\n</tbody>\n</table>\n<h2>Use cases</h2>\n<h3>Display external links</h3>\n<p>If you want to add a custom widget that links to an external web page, you can start with a very simple HTML file.</p>\n<p>For example, you may use the following code example to create a sidebar widget that links to the <a href=\"/\" title=\"ITOM PRACTITIONER PORTAL\">ITOM PRACTITIONER PORTAL</a>. To keep a consistent appearance with the default theme of Service Portal, this example includes a long stylesheet with the font resources and adopts several CSS variables from Service Portal theme settings. You can also customize the widget style according to your own marketing and branding requirements.</p>\n<pre>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\" /&gt;\n  &lt;title&gt;Useful Links&lt;/title&gt;\n  &lt;style&gt;\n    @font-face {\n      font-family: \"Roboto\";\n      font-style: normal;\n      font-weight: 300;\n      font-display: swap;\n      src: url(\"/smax/portal/assets/fonts/latin-300.woff2\") format(\"woff2\");\n    }\n\n    @font-face {\n      font-family: \"Roboto\";\n      font-style: normal;\n      font-weight: 400;\n      font-display: swap;\n      src: url(\"/smax/portal/assets/fonts/latin-400.woff2\") format(\"woff2\");\n    }\n\n    @font-face {\n      font-family: \"Roboto\";\n      font-style: normal;\n      font-weight: 500;\n      font-display: swap;\n      src: url(\"/smax/portal/assets/fonts/latin-500.woff2\") format(\"woff2\");\n    }\n\n    body {\n      margin: 0;\n      box-sizing: border-box;\n      font-family: var(--fontFamily, Roboto, Metric, Arial, 'Helvetica Neue', Helvetica, sans-serif);\n    }\n\n    .side-container {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .side-title {\n      padding: 0 16px 16px 32px;\n      font-size: 18px;\n      color: var(--sidebarTextColor, #000000);\n      font-weight: 600;\n    }\n\n    .side-list {\n      padding: 0 16px 0 32px;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .link-item&gt;a {\n      display: block;\n      color: var(--sidebarTextColor, #000000);\n      font-size: 14px;\n      font-weight: 500;\n      line-height: 18px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      word-break: break-word;\n      text-decoration: none;\n      cursor: pointer;\n    }\n\n    .link-item&gt;a:hover {\n      color: var(--pageHoverLink, #055578);\n    }\n\n    .link-item&gt;span {\n      display: block;\n      padding: 4px 0 12px;\n      line-height: 15px;\n      color: var(--sidebarTextColor, #000000);\n      font-size: 13px;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div class=\"side-container\"&gt;\n    &lt;div class=\"side-title\"&gt;Useful Links&lt;/div&gt;\n    &lt;div class=\"side-list\"&gt;\n      &lt;div class=\"link-item\"&gt;\n        &lt;a title=\"ITOM PRACTITIONER PORTAL\" href=\"/\" href=\"_blank\"&gt;ITOM PRACTITIONER PORTAL&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;</pre>\n<h3>Embed web pages — Power BI report</h3>\n<p>The following example illustrates how to embed a Microsoft Power BI report as a Full page widget into Service Portal.</p>\n<h4>Get the HTML iframe content</h4>\n<ol>\n<li>\n<p>Open a report in the Power BI service.</p>\n</li>\n<li>\n<p>On the <strong>File</strong> menu, select <strong>Embed report</strong> &gt; <strong>Website or portal </strong>or <strong>Publish to web(public)</strong><br/>\n<a class=\"image\" href=\"/file/images/0/0e/Add_custom_widgets_BI1.png\" title=\"/file/images/0/0e/Add_custom_widgets_BI1.png\"> <img alt=\"Add_custom_widgets_BI1\" border=\"0\" file=\"/mediawiki/images/0/0e/Add_custom_widgets_BI1.png\" height=\"343\" hspace=\"0\" src=\"../../../images/Add_custom_widgets_BI1_0617175b.png\" style=\"width:731px;height:343px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"731\"/> </a><br/>\n\tHere we select the <strong>Publish to web(public)</strong> option for this example.<br/>\n<a class=\"image\" href=\"/file/images/e/e9/Add_custom_widgets_BI2.png\" title=\"/file/images/e/e9/Add_custom_widgets_BI2.png\"> <img alt=\"Add_custom_widgets_BI2\" border=\"0\" file=\"/mediawiki/images/e/e9/Add_custom_widgets_BI2.png\" height=\"402\" hspace=\"0\" src=\"../../../images/Add_custom_widgets_BI2_fe2037b8.png\" style=\"width: 800px; height: 402px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n</li>\n<li>\n<p>Copy the contents from the <strong>HTML you can paste into a website</strong> textbox for the next step.</p>\n</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">Because this widget refers to an external resource from Power BI, you need to add the resource origin domain '*.powerbi.com' as an Authorized Domain in <a href=\"/doc/423/26.1/appsettings#Authorized_domains_for_navigation\" title=\"Application Settings\">Application Settings</a>.<br/>\n<a class=\"image\" href=\"/file/images/d/dc/Add_custom_widgets_BIAuthorized_Domain.png\" title=\"/file/images/d/dc/Add_custom_widgets_BIAuthorized_Domain.png\"> <img alt=\"Add_custom_widgets_BIAuthorized_Domain\" border=\"0\" file=\"/mediawiki/images/d/dc/Add_custom_widgets_BIAuthorized_Domain.png\" height=\"86\" hspace=\"0\" src=\"../../../images/Add_custom_widgets_BIAuthorized_Domain_b7c7c37d.png\" style=\"width: 800px; height: 86px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n</div>\n<h4>Create your HTML file</h4>\n<p>Add the previously copied HTML iframe content into your HTML document file.<br/>\n<strong>Note: </strong>You can add <code>a width=\"100%\"</code> setting in the HTML file to make sure the report can be rendered properly in the Full page widget.</p>\n<p><b>Code example:</b></p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Power BI Example&lt;/title&gt;\n\n    &lt;style&gt;\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        iframe {\n            border: none;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h4&gt;Open in Power BI:\n        &lt;a id=\"bilink\"\n            href=\"https://app.powerbi.com/view?r=eyJrIjoiZWUxNT.......\"&gt;Customer Profitability Sample PBIX&lt;/a&gt;\n    &lt;/h4&gt;\n\n\n<span style=\"color:#d35400;\">    &lt;iframe title=\"Customer Profitability Sample PBIX\" width=\"100%\" height=\"636\" src=\"https://app.powerbi.com/reportEmbed?reportId=xxxxxxxx-xxxx-xxxx-xxxx&amp;autoAuth=true&amp;ctid=xxxxxxxx-xxxx-xxxx-xxxx&amp;config=eyJjb....\" allowFullScreen=\"true\"&gt;&lt;/iframe&gt;\n</span>\n\n    &lt;script&gt;\n        document.addEventListener('DOMContentLoaded', function (event) {\n            document.querySelector('#bilink').addEventListener('click', (event) =&gt; {\n                event.preventDefault();\n                ESMHoneycomb.open(event.target.href);\n            });\n        });\n  &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;</pre>\n<h4>Preview the embedded page</h4>\n<p>Once the Full page widget is configured, you can copy the URL from the configuration list (In this example, the \"Profitability Report\" link in the below image).</p>\n<div><a class=\"image\" href=\"/file/images/c/c9/Add_custom_widgets_BIPreview_2.jpeg\" title=\"/file/images/c/c9/Add_custom_widgets_BIPreview_2.jpeg\"> <img alt=\"Add_custom_widgets_BIPreview_2\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/c/c9/Add_custom_widgets_BIPreview_2.jpeg\" height=\"440\" hspace=\"0\" src=\"../../../images/Add_custom_widgets_BIPreview_2_7f60be64.jpeg\" style=\"width: 800px; height: 440px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<p>You can also extract the following information from the URL link:<br/>\n<a class=\"image\" href=\"/file/images/d/d0/Add_custom_widgets_BIlink.png\" title=\"/file/images/d/d0/Add_custom_widgets_BIlink.png\"> <img alt=\"Add_custom_widgets_BIlink\" border=\"0\" file=\"/mediawiki/images/d/d0/Add_custom_widgets_BIlink.png\" height=\"109\" hspace=\"0\" src=\"../../../images/Add_custom_widgets_BIlink_a0ddb7c4.png\" style=\"width: 800px; height: 109px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<p>Now you can share this link with anyone who is authorized to view this report in the Service Management tenant. You can also place this link in other widgets or even in a category tile.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}