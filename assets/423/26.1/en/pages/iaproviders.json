{
  "title": "Image Aggregation Providers",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To see the consolidated/aggregated images, you need to configure the image aggregation. This will generate events that will communicate with cloud providers to offer all the images. </p>\n<p>The Image Aggregation provider screen offers a “Quick Create Fulfillment Provider” capability to automatically create a Deployment Resource Provider for use in fulfilling aggregated images. (see ‘Quick Create Fulfillment Provider’ section below).</p>\n<h2>Optional tasks</h2>\n<p>The below tasks are optional if you want to provide proxy details at the time of configuring a provider. If you do not want to provide the same proxy details every time during provider configuration, you can perform the following tasks.</p>\n<h3 id=\"Configure_proxy_settings_in_the_Suite_Administration\">Configure proxy settings in the Suite Administration</h3>\n<p>To validate the user credentials and collect the images from AWS, Azure, vCenter, and Google Cloud Platform (GCP) servers, configure the proxy settings as follows:</p>\n<ol>\n<li>Log in to <strong>Suite Administration</strong> at <code>https://&lt;EXTERNAL_ACCESS_HOST&gt;/bo</code> as a suite admin.</li>\n<li>On the <strong>Configurations</strong> page, click <strong>Proxy Settings</strong>.</li>\n<li>Specify the following details and save the changes.\n\t<ul>\n<li>Proxy host</li>\n<li>Proxy port</li>\n<li>Proxy username</li>\n<li>Proxy password</li>\n</ul>\n</li>\n</ol>\n<h3>Restart IA pods</h3>\n<ol>\n<li>Log in to one of the control plane nodes and get the namespace by running the following command:<br/>\n<code>kubectl get ns</code></li>\n<li>Restart the following pods. Refer to the example below for the command to restart the pods.</li>\n</ol>\n<ul>\n<li><code>itom-cmp-integration-gateway</code></li>\n<li><code>itom-cmp-accounts</code></li>\n<li><code>itom-dnd-image-catalog</code></li>\n</ul>\n<p><strong>Example: </strong></p>\n<ul>\n<li><code>kubectl delete pod itom-cmp-integration-gateway-7f769c58c4-dbtmz -n &lt;namespace&gt;</code></li>\n<li><code>kubectl delete pod itom-cmp-accounts-6fc6949bbc-wcv7f -n &lt;namespace&gt;</code></li>\n<li><code>kubectl delete pod itom-dnd-image-catalog-576f4f775f-nhl9c -n &lt;namespace&gt;</code></li>\n</ul>\n<p>Replace <code>&lt;namespace&gt;</code> with the namespace specific to your environment.</p>\n<h2>Configure an image aggregation provider</h2>\n<ol>\n<li>Go to <b>Administration-&gt;Providers-&gt;Image Aggregation Providers</b></li>\n<li>On the ‘Image Aggregation’ page, click the  <a class=\"image\" href=\"/file/images/7/7a/hcm_2018_11_integrations_add.png\" title=\"/file/images/7/7a/hcm_2018_11_integrations_add.png\"> <img alt=\"hcm 2018 11 integrations add.png\" data-file-height=\"20\" data-file-width=\"22\" height=\"20\" src=\"../../../images/hcm_2018_11_integrations_add_1c285d73.png\" width=\"22\"/> </a>  icon. </li>\n<li>Select the provider from which you want to aggregate images and click <b>Next</b>.</li>\n<li>Specify the connection name.</li>\n<li>Depending on the provider you have selected, specify the following information:\n\t<ol>\n<li>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<tbody>\n<tr>\n<td><strong>Provider</strong></td>\n<td><strong>Field</strong></td>\n<td><strong>Description</strong></td>\n</tr>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Amazon EC2</strong></td>\n<td><strong>Access Key ID</strong></td>\n<td colspan=\"1\" rowspan=\"2\">Visit the Amazon AWS website (<a href=\"https://aws.amazon.com/\" rel=\"nofollow\" target=\"1\">https://aws.amazon.com/</a>) to get information on how to configure an <b>Access key ID</b> and <b>Secret Access Key</b>. Retain the <b>Default Service Access point</b>.</td>\n</tr>\n<tr>\n<td><strong>Secret Access Key</strong></td>\n</tr>\n<tr>\n<td colspan=\"1\" rowspan=\"4\"><strong>Microsoft Azure</strong></td>\n<td><strong>Azure Client ID</strong></td>\n<td colspan=\"1\" rowspan=\"3\">For instructions, see <a href=\"http://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#get-application-id-and-authentication-key\">Microsoft documentation</a>.</td>\n</tr>\n<tr>\n<td><strong>Azure Client Secret</strong></td>\n</tr>\n<tr>\n<td><strong>Azure Subscription ID</strong></td>\n</tr>\n<tr>\n<td><strong>Azure Tenant ID</strong></td>\n<td>Azure Directory ID </td>\n</tr>\n<tr>\n<td colspan=\"1\" rowspan=\"3\"><strong>VMware vCenter</strong><br/>\n\t\t\t\t\t </td>\n<td><strong>vCenter Username</strong></td>\n<td>vCenter user name</td>\n</tr>\n<tr>\n<td><strong>vCenter Password</strong></td>\n<td>vCenter password</td>\n</tr>\n<tr>\n<td><strong>vCenter Access Point</strong></td>\n<td>\n<p>vCenter access point</p>\n<p><strong>Note</strong>: If you have installed the suite on a public cloud, ensure you have connectivity to your on-premises vCenter for the vCenter provider to work.</p>\n</td>\n</tr>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Google Cloud Platform</strong></td>\n</tr>\n<tr>\n<td><strong>GCP Service Account Key (JSON)</strong></td>\n<td>\n<p>See the <a href=\"http://cloud.google.com/iam/docs/creating-managing-service-account-keys\">Google Cloud documentation</a> for information on creating service account keys in JSON format.</p>\n<p>After creating the image aggregation provider, you must specify the following details in the deployment resource provider for GCP:</p>\n<ul>\n<li><span style=\"background-color: transparent;\">Client ID</span></li>\n<li><span style=\"background-color: transparent;\">Client Secret</span></li>\n<li><span style=\"background-color: transparent;\">Refresh Token</span></li>\n<li><span style=\"background-color: transparent;\">Project ID (optional)</span></li>\n</ul>\n<p><span style=\"background-color: transparent;\">For information, see </span><a href=\"/doc/capsule_cloudslang_google_gcp/3.0.0/usehcmx#Create_provider_properties\" style=\"background-color: transparent;\">GCP Capsule CloudSlang</a><span style=\"background-color: transparent;\"> documentation.</span></p>\n</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n</li>\n<li>Check the <b>I require a proxy server to connect to this provider</b> box to use a proxy server to connect to the provider. You can either use the system default proxy server or use a custom proxy server.</li>\n<li>Click <b>Next</b>.</li>\n<li><strong>Only for GCP Provider: </strong>A list of default GCP projects appears. Depending on your preference, retain or delete the listed projects to collect images of GCP. Use the <strong>Learn More from Google Cloud Platform about GCP Projects for OS images</strong> link on the UI to see the new or deprecated projects and update the list as required. Note that you need to manually add or remove the projects as GCP doesn't support any API call to automatically update this list.</li>\n<li>Select the region(s) from which you would like to aggregate images (applicable only to Amazon EC2, Microsoft Azure, and GCP providers).</li>\n<li>Click <b>Finish</b>.</li>\n</ol>\n<p><b>Quick Create Fulfillment Provider: </b>This option appears immediately upon creating an image aggregation provider to allow automatic configuration of a deployment resource provider and store the newly created credentials. The OO flows use these credentials during fulfillment.</p>\n<p>Once you configure an image aggregation, you can proceed to create service designs.</p>\n<p>Note that you must add a GCP provider per user account and private project. By default, all images of the private project are listed.</p>\n<h2>Edit an image aggregation provider</h2>\n<p>You can edit connection details and region settings. Additionally, for GCP provider, you can also edit project details.</p>\n<ol>\n<li>On the ‘Image Aggregation’ page, select the image aggregation provider you want to edit, and click the <b>Edit Connection,</b> <b>Edit Regions, </b>or <strong>Edit Projects</strong> (for GCP only) link.</li>\n<li>Make required modifications and click <b>Save</b>.</li>\n</ol>\n<h2>Delete an image aggregation provider</h2>\n<ol>\n<li>On the ‘Image Aggregation’ page, click the <a class=\"image\" href=\"/file/images/c/c3/hcm_2018_11_integrations_delete.png\" title=\"/file/images/c/c3/hcm_2018_11_integrations_delete.png\"> <img alt=\"hcm 2018 11 integrations delete.png\" data-file-height=\"20\" data-file-width=\"21\" height=\"20\" src=\"../../../images/hcm_2018_11_integrations_delete_a574aab4.png\" width=\"21\"/> </a> icon corresponding to the image aggregation provider you want to delete.</li>\n<li>Click <b>Yes</b> in the confirmation dialog.</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}