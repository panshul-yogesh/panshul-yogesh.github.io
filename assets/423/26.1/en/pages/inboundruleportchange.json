{
  "title": "Inbound rule port change",
  "content": "<div class=\"mw-parser-output\">\n<p>After adopting the native ingress controller, a new NodePort is assigned. Ideally, updating the ingress should automatically update the port. However, in some cases, this update may not occur. If that happens, verify the inbound rule and either modify it to include the new port or add a new inbound rule for the assigned port.</p>\n<div><em>BO not accessible - 503 Service Unavailable after upgrading to 25.4</em></div>\n<h2><a id=\"Cause\" name=\"Cause\" title=\"Cause\"></a>Cause</h2>\n<p>In release 25.4, we are adopting the native ingress controller instead of the ESM-specific ingress controller. Due to this change, the NodePort value changes. In some cases, because of errors during AWS reconciliation, the new NodePort may not be updated in the inbound rules.</p>\n<h2><a id=\"Solution\" name=\"Solution\" title=\"Solution\"></a>Solution</h2>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Get the node port of itom-nginx-ingress-svc\n\n\t<pre><code>kubectl -n &lt;suite namespace&gt; get svc | grep itom-nginx-ingress-svc</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Find the Node Group Security Group\n\t<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\">Go to<strong> AWS Console</strong> →<strong> EC2</strong> → <strong>Auto Scaling Groups</strong>.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Locate the <strong>ASG</strong> for your EKS node group.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Check the Security Group(s) attached to the EC2 instances.</li></ol>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Edit Inbound Rules\n\t<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\">Navigate to <strong>EC2</strong> → <strong>Security Groups</strong> → [Your Node Group SG] → Inbound Rules.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Add a new rule:</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><strong>Type</strong>: Custom TCP Rule</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><strong>Port Range</strong>: &lt;new-node-port&gt;</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><strong>Source</strong>: The Security Group of the Load Balancer (or 0.0.0.0/0 for testing, but not recommended for production).</li></ol>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Save changes.</li></ol>\n</div>",
  "modifiedon": "2025-12-17 05:17:54"
}