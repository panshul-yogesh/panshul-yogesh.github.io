{
  "title": "Install UD/UCMDB on OMT",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p>To install UD/UCMDB on OMT, follow the instructions in this topic.</p><h2>Deploy UD/UCMDB </h2><table><tbody><tr><th>Role</th><th>Location</th></tr><tr><td>Suite admin</td><td>Control plane node</td></tr></tbody></table><div class=\"transcontent stn-begin--DeployCMS\"></div><p>To install UD/UCMDB, run the following command:</p><pre>helm install &lt;<em>UD/UCMDB RELEASE NAME</em>&gt; &lt;<em>UD/UCMDB CHART FILE</em>&gt; --namespace &lt;<em>UD/UCMDB NAMESPACE</em>&gt; -f &lt;<em>VALUES YAML FILE</em>&gt; -f &lt;<em>SECRETS YAML FILE</em>&gt;</pre><p>Where,</p><ul><li><code>&lt;<em>UD/UCMDB RELEASE NAME</em>&gt;</code> is the unique release name that you need to specify for the UD/UCMDB deployment. You need to use the same release name as specified here when you upgrade UD/UCMDB in the future.</li><li><code>&lt;<em>UD/UCMDB CHART FILE</em>&gt;</code> is the tar file containing the UD/UCMDB installation charts.</li><li><code>&lt;<em>CMS </em><em>NAMESPACE</em>&gt;</code> is the unique namespace of the UD/UCMDB deployment. Use the namespace that you specified in the \"Create a deployment for UD/UCMDB\" topic.</li><li><code>&lt;<em>VALUES YAML FILE</em>&gt;</code> is your custom <strong>my-</strong><b>values.yaml </b>file with properties configured for the UD/UCMDB deployment.</li><li><code>&lt;<em>SECRETS YAML FILE</em></code>&gt; is the YAML file that stores the UD/UCMDB secrets. This file is created when you run <strong>gen_secrets.sh</strong> to generate vault secrets for UD/UCMDB in the previous step.</li></ul><p>For example:</p><pre>helm install ucmdb-prod UCMDB_Helm_Chart-2x.x/ucmdb-helm-charts/charts/ucmdb-1.xx.x-xxx+2x.x.x.tgz --namespace ucmdb-prod -f my-values.yaml -f cms-secrets.yaml</pre><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><ul><li><p>You can run the above command with the <code>--dry-run</code> argument to simulate an installation. It is useful to validate the content in the custom <b>my-values.yaml </b>file before a real installation.</p></li><li>After installation, you must delete the YAML file that stores the UD/UCMDB secrets (for example, <strong>cms-secrets.yaml</strong>) as it contains sensitive data.</li></ul></div></div><div class=\"transcontent stn-end--DeployCMS\"></div><h2 id=\"(Optional)_Create_custom_certificates\">(Optional) Create custom certificates for UD/UCMDB external access</h2><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-DeploySecondHelm|Create_crt|N\"></span><p><br/>\n</p>\n<p>Log in to the first control plane node as a user with the root privilege. Then, perform the following steps to use the ingress certificates:</p>\n<ol>\n<li>Upload the custom certificates and key to a directory on the first control plane node. For example: <code>/tmp/ca.crt</code>, <code>/tmp/server.crt</code>, and <code>/tmp/server.key</code>.\n\n\t<ul>\n<li>The supported certificate format is <code>.pem</code> (base-64 encoded)</li>\n<li>If the certificate is signed by a multiple level certificate authority, the CA cert file should be concatenated with the following order: \n\t\t<pre><code>-----BEGIN CERTIFICATE-----\n&lt;intermediate-level-1&gt;\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n&lt;intermediate-level-2&gt;\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n&lt;intermediate-level-n&gt;\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n&lt;root.crt&gt;\n-----END CERTIFICATE-----\n</code></pre>\n</li>\n<li>There are no empty line between certificates</li>\n</ul>\n</li>\n<li>Run the following commands to check the custom certificates:\n\t<pre><code>$CDF_HOME/scripts/certCheck -ca &lt;CA cert directory&gt;/&lt;CA cert file&gt; -cert &lt;cert file directory&gt;/&lt;cert file&gt; -key &lt;private key directory&gt;/&lt;private key&gt; -host &lt;external access hostname&gt; </code></pre>\n<p>\tFor example:\n</p>\n<pre><code>$CDF_HOME/scripts/certCheck -ca /tmp/ca.crt -cert /tmp/server.crt -key /tmp/server.key  -host fqdn1.example.com</code></pre>\n<p> <br/>\n\tWhere:\n</p>\n<ul>\n<li>The <code>&lt;CA cert directory&gt;/&lt;CA cert file&gt;</code>  is your CA certificate file in the absolute path format.</li>\n<li>The <code>&lt;cert file directory&gt;/&lt;cert file&gt;</code> is your server certificate in the absolute path format.</li>\n<li>The <code>&lt;private key directory&gt;/&lt;private key&gt;</code> is your private key in the absolute path format.</li>\n</ul>\n<p>\tThe <code>certCheck</code> script checks the following: \n</p>\n<ul>\n<li>Whether the certificates and key files are well-encoded in PEM.</li>\n<li>Whether the certificates match with the private key file.</li>\n<li>Whether the certificates have been expired.</li>\n<li>Whether the certificates have been revoked basing on a CRL distribution point.</li>\n<li>Whether the certificate subject common name or SAN name matches with its FQDN.</li>\n</ul>\n<p>\tIf your terminal resembles the following, you have passed the certificate checking.\n</p>\n<pre>[root@sh ~]# $CDF_HOME/scripts/certCheck -ca /tmp/ca.crt -cert /tmp/server.crt -key /tmp/server.key -host fqdn1.example.com\nsuccess\n\n</pre>\n</li>\n<li>Run the following command to use your custom certificates.<br/>\n\t \n\t<pre><code>$CDF_HOME/scripts/renewCert --renew -t ingress -n &lt;namespace&gt; --cacert &lt;ca cert directory&gt;/&lt;ca cert file&gt;  --cert /&lt;cert file directory&gt;/&lt;cert file&gt; --key &lt;private key directory&gt;/&lt;private key&gt; </code></pre>\n<p> <br/>\n\tWhere:\n</p>\n<ul>\n<li>The<code> </code>-n option specifies the namespace for the custom certificate.  Specify the suite namespace for this option</li>\n<li>The <code>&lt;ca cert directory&gt;/&lt;ca cert file&gt;</code> is your CA certificate file in the absolute path format. </li>\n<li>The <code>&lt;cert file directory&gt;/&lt;cert file&gt;</code> is your server certificate in the absolute path format.</li>\n<li>The <code>&lt;private key directory&gt;/&lt;private key&gt;</code> is your private key in the absolute path format.</li>\n</ul>\n<p>\tFor example:\n</p>\n<pre><code>$CDF_HOME/scripts/renewCert --renew -t ingress -n suite-namespace --cacert /tmp/ca.crt --cert /tmp/server.crt --key /tmp/server.key</code></pre>\n</li>\n</ol>\n<p><br/>\n</p>\n<p>The whole deployment requires approximately 15 minutes to renew the certificates. Please allow some processing time for the certificate renewal. </p>\n<p><br/>\n</p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-DeploySecondHelm|Create_crt|N\"></span><h2>(Optional) Install a classic Data Flow Probe</h2><p> If you want to use Universal Discovery, install a classic (non-containerized) Data Flow Probe.</p><p>You can download classic UCMDB (UCMDB-xx.x_Windows.zip or UCMDB-xx.x_Linux.zip) from the <a href=\"https://sld.microfocus.com/mysoftware/index\" title=\"Software Licenses and Downloads\">Software Licenses and Downloads</a> website.</p><p>For instructions on how to install the classic Data Flow Probe in UCMDB, see <a href=\"/doc/403/25.4/deployclassicprobe\" title=\"Deploy classic Data Flow Probe\">Deploy classic Data Flow Probe</a>.</p><p>For instructions on how to connect the classic Data Flow Probe to the containerized UCMDB server, see <a href=\"/doc/403/25.4/classicprobeconnectcms\" title=\"Configure external Data Flow Probe to connect to the containerized UCMDB server\">Configure external Data Flow Probe to connect to the containerized UCMDB server</a>.</p></div><p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}