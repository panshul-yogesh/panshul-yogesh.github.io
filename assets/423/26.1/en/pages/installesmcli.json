{
  "title": "Install the suite using CLI",
  "content": "<div class=\"mw-parser-output\"><p>This document provides instructions for installing the suite using the command line. Before proceeding, make sure that you have created the <b>my-values.yaml</b> file. For details, see <a href=\"/doc/423/26.1/createesmyaml\" title=\"Create my-values.yaml\">Create my-values.yaml</a>.</p><h2><a id=\"Prepare_container_registry_secret_optional_\" name=\"Prepare_container_registry_secret_optional_\" title=\"Prepare container registry secret (optional)\"></a>Prepare container registry secret (optional)</h2><p>If your deployment doesn't include OMT, you must generate a new container registry secret under the Suite namespace to allow to Kubernetes access the container registry.  To create a new container registry, run the following command:</p><pre>kubectl create secret docker-registry &lt;image_secret_name&gt; --docker-username=&lt;username&gt; --docker-password=&lt;password&gt; --docker-server=&lt;registry_server&gt; -n &lt;suite namespace&gt;</pre><p>Where:</p><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><strong>&lt;image_secret_name&gt;</strong> is the name of the secret. Take note of this name, you will need to include it in your <strong>my-values.yaml</strong> file.</li><li style=\"margin-left: 28px; position: relative;\"><strong>&lt;username&gt;</strong> is the host account username of the container registry.</li><li style=\"margin-left: 28px; position: relative;\"><strong>&lt;password&gt;</strong> is the host account password of the container registry. Enclose the password in single quotes. For example, 'mysecret'.</li><li style=\"margin-left: 28px; position: relative;\"><strong>&lt;registry_server&gt;</strong> is the URL of the container registry that you want to pull suite images from.</li><li style=\"margin-left: 28px; position: relative;\"><b>&lt;suite namespace&gt;</b> is the unique namespace of the suite deployment. Use the namespace that you specified when you created the deployment. For details, see <a href=\"/doc/423/26.1/createesmdeployment\" title=\"Create a deployment for ESM\">Create a deployment for ESM</a>.</li></ul><h2><a id=\"Deploy_the_suite\" name=\"Deploy_the_suite\" title=\"Deploy the suite\"></a>Deploy the suite</h2><table><tbody><tr><th>Role</th><th>Location</th></tr><tr><td>Suite admin</td><td>Control plane or bastion node</td></tr></tbody></table><div><span class=\"snippet-start\" data-sname=\"suite install command\"></span><div>To install the Suite, run the command with all flags that apply to your deployment. These flags vary based on the capabilities, configurations, and integrations enabled in your environment. Review the following conditions and include only the relevant flags.<br/>\n </div>\n<div>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>If the Aviator capability is enabled for your Suite deployment and has a cross-domain integration with products such as AI Operations Management (AIOM) or Universal Discovery and CMDB  (UD/UCMDB), pass the following flag(s):</p>\n<ul style=\"padding-left: 0px;\"></ul>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><strong>-f &lt;ESM helm chart path&gt;/samples/enableSMAXAuthTokenSameSiteNone-values.yaml <br/>\n\t\t </strong></li></ul>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>If the UID or GID is not the default value (1999) but larger than six digits, pass the following flag(s):</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><strong>--set global.securityContext.fsGroup=&lt;GID&gt; </strong></li><li style=\"margin-left: 40px; position: relative;\"><strong>--set global.securityContext.user=&lt;UID&gt;<br/>\n\t\t </strong></li></ul>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>If your deployment is on AKS, pass the following flag(s) to update nginx annotation parameter:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><strong>--set global.nginx.annotationPrefix=\"nginx.ingress.kubernetes.io\"<br/>\n\t\t </strong></li></ul>\n</li></ol>\n<p>The command with flags resembles the following example:</p>\n<pre><code class=\"language-bash\">helm install &lt;release name&gt; &lt;ESM helm chart path&gt; --namespace &lt;suite namespace&gt; -f &lt;my-values.yaml&gt; -f &lt;ESM helm chart path&gt;/samples/enableSMAXAuthTokenSameSiteNone-values.yaml --set global.securityContext.fsGroup=&lt;GID&gt; --set global.securityContext.user=&lt;UID&gt;</code></pre>\n<p>Where:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><b>&lt;release name&gt;:</b> Release name that you need to specify for the suite deployment. You will need to use the same release name specified here when you upgrade the suite in the future.</li><li style=\"margin-left: 28px; position: relative;\"><b>&lt;ESM helm chart path&gt;:</b> Tar file containing the suite installation charts. </li><li style=\"margin-left: 28px; position: relative;\"><b>&lt;suite namespace&gt;: </b>Unique namespace of the suite deployment. Use the namespace that you specified when you created the deployment. For details, see <a href=\"/doc/423/26.1/createesmdeployment\" title=\"Create a deployment for ESM\">Create a Deployment for ESM</a>.</li><li style=\"margin-left: 28px; position: relative;\"><b>&lt;my-values.yaml&gt;:</b> Custom YAML file with properties configured for the ESM deployment.</li></ul>\n</div>\n<span class=\"snippet-end\" data-sname=\"suite install command\"></span></div><p>The installation will take several minutes to complete. The final output should resemble the following sample:</p><pre>Release \"sma\" has been deployed. Happy Helming!\nNAME: sma\nLAST DEPLOYED: Wed Sep 18 11:20:24 2024\nNAMESPACE: itsma\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nThank you for deploying ESM.\n... ... \n\n</pre><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div><p>It is a good practice to simulate an installation and validate the custom <strong>my-values.yaml</strong><b></b>file before a proceeding with the installation. To simulate an installation, run the above command with the <code>--dry-run</code> argument.</p></div></div></div></div>",
  "modifiedon": "2025-12-16 07:37:23"
}