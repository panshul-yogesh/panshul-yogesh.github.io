{
  "title": "Install an OO Containerized patch",
  "content": "<div class=\"mw-parser-output\">\n<p>The OO Containerized patch is a Helm chart deployed on top of an existing OO Containerized installation. </p>\n<h3 id=\"Download_the_patch_package\"><a id=\"Download_the_patch_package\" name=\"Download_the_patch_package\" title=\"Download the patch package\"></a>Download the patch package</h3>\n<p>The Helm chart package includes the <code>oo-helm-charts-oo-1.x.x-2x.x.x/oo-helm-charts/charts/oo-1.x.x+2x.x.x.tgz</code> file.</p>\n<p>After downloading the zip package on the control plane node/bastion host, unzip the package:</p>\n<pre><code>unzip oo-helm-charts-1.x.x-2x.x.x.zip</code></pre>\n<h3 id=\"Get_the_values.yaml_file_of_the_existing_deployment\"><a id=\"Get_the_values_yaml_file_of_the_existing_deployment\" name=\"Get_the_values_yaml_file_of_the_existing_deployment\" title=\"Get the values.yaml file of the existing deployment\"></a>Get the values.yaml file of the existing deployment</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to get <strong>values.yaml</strong> file from the previous OO deployment. \n\n\t<pre><code>helm get values &lt;oo_install_name&gt; -n &lt;oo_namespace&gt; &gt;  &lt;previous_deployment_values.yaml&gt;</code></pre>\n<ol style=\"padding-left: 0px;\"></ol>\n</li></ol>\n<h3 id=\"Download_the_required_container_images\"><a id=\"Download_the_required_container_images\" name=\"Download_the_required_container_images\" title=\"Download the required container images\"></a>Download the required container images</h3>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">If you deployed the suite <strong>on-premises</strong>: Follow the steps provided in the topic <a href=\"/doc/423/26.1/399-oocdownloadimages\" title=\"Download OO container images\">Download OO container images</a>, by generating the download bundle for the OO Containerized Helm chart.</li><li style=\"margin-left: 28px; position: relative;\">If you deployed the suite on a <strong>managed Kubernetes</strong>:<br/>\n<strong>EKS</strong>: Follow the steps provided in the topic <a href=\"/doc/423/26.1/399-downloaduploadooccontainerimage\" title=\"Download and upload container images for OO\">Download and upload OO container images</a> by generating the download bundle for the OO Containerized Helm chart.<br/>\n<strong>AKS</strong>: Follow the steps provided in the topic <a href=\"/doc/423/26.1/399-downloadinstallationimagesoo\" title=\"Download container images for OO (AKS)\">Download container images for OO (AKS)</a> by generating the download bundle for the OO Containerized Helm chart.</li></ul>\n<h3 id=\"Apply_the_patch\"><a id=\"Apply_the_patch\" name=\"Apply_the_patch\" title=\"Apply the patch\"></a>Apply the patch</h3>\n<p>Upgrading to the patch consists of three stages:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><strong>Pre-upgrade hooks</strong>: Three Kubernetes jobs run first. These are responsible for upgrading the databases of the OO components and tailoring some IdM resources. If these jobs run successfully, the upgrade process continues with rolling out the new version of OO pods. <br/>\n\tIf these jobs fail, the upgrade process stops.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><strong>Rolling update</strong>: This is the stage where the OO pods are upgraded to the new version through the rolling update strategy. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\"><strong>Post upgrade</strong>: A Kubernetes job runs as soon as the pre-upgrade hooks are complete and waits until all the OO components are rolled out to the new version before it runs. Its purpose is to upgrade all OO RAS pods in the OO namespace in sequential order. This step takes about 5 minutes per RAS.</li></ol>\n<p> To install the patch, follow these steps:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Run the following command: </p>\n<pre><code>helm upgrade &lt;oo_install_name&gt; -n &lt;oo_namespace&gt; &lt;OO chart file&gt; -f &lt;previous_deployment_values.yaml&gt; --timeout 30m\n</code></pre>\n<p>Where:<br/>\n\t&lt;<code>oo_install_name</code>&gt; is the name of the OO deployment that you specified when installing OO.<br/>\n\t&lt;<code>oo_namespace</code>&gt; is the unique namespace of the OO deployment.<br/>\n\t&lt;<code>OO_chart_file</code>&gt; is the new tar file containing the OO installation charts.<br/>\n\t&lt;<code>previous_deployment_values.yaml</code>&gt; is an absolute path of <code>previous_deployment_values.yaml</code> file, obtained through the <code>helm get values</code> command.</p>\n<p>For example:</p>\n<pre><code>helm upgrade oo -n oo oo-1.x.x-2x.x.x/oo-helm-charts/charts/oo-1.x.x+2x.x.x.tgz -f &lt;previous_deployment_values.yaml&gt; --timeout 30m</code></pre>\n<p>You can run this command with the <code>--dry-run</code> argument to simulate an upgrade.</p>\n<p>On successful completion of pre-upgrade hooks, you will see a message similar to the following. Completing pre-upgrade hooks takes about 3 to 4 minutes.</p>\n<pre>    <code>\nRelease \"&lt;oo_install_name&gt;\" has been upgraded. Happy Helming!\n\n[...]\n\nThank you for installing OpenText Operations Orchestration - 2x.*.\n\nThe deployment is in progress, you can check the status using the following command:\n   `watch kubectl get pods -n &lt;oo_namespace&gt;`\n\n*********************************************************************************\n**  WARNING:                                                                   **\n**                                                                             **\n**  1. If you referenced a values.yaml file for installing OO, you must        **\n**  manage access to this file carefully as it contains sensitive information. **\n**  OpenText recommends restricting access by leveraging file permissions,     **\n**  by moving the file to a secure location, or by simply deleting the file.   **\n**  Failing to secure values.yaml may expose the system to increased           **\n**  security risks. You understand and agree to assume all associated risks    **\n**  and hold OpenText harmless for the same. It always remains the             **\n**  Customer's sole responsibility to assess its own regulatory and business   **\n**  requirements. OpenText does not represent or warrant that its              **\n**  products comply with any specific legal or regulatory standards            **\n**  applicable to Customer in conducting Customer's business.                  **\n**                                                                             **\n*********************************************************************************\n </code>\n    </pre>\n<p>After completing pre-upgrade hooks, Helm starts upgrading OO components.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Run the following command to make sure that all OO pods are ready. If the command returns a blank output, then all the OO pods are ready.</p>\n<pre>kubectl get pod -n &lt;oo_namespace&gt; |grep -v 1/1|grep -v 2/2|grep -v 3/3|grep -v Completed</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p> (<strong>Azure AKS only</strong>) Once all the pods are ready, run the following commands to configure the OO load balancer.</p>\n<p>Run the following command to assign an external IP address for the OO load balancer:</p>\n<pre>kubectl patch services &lt;itom-ingress-controller-svc-name&gt; -p '{\"metadata\":{\"annotations\":{\"service.beta.kubernetes.io/azure-load-balancer-internal\": \"true\"}},\"spec\":{\"type\":\"LoadBalancer\"}}' -n &lt;OO namespace&gt;\n</pre>\n<p>Run the following command until the command output displays the load balancer's external IP address, instead of \"<strong>Pending</strong>\":</p>\n<pre>kubectl get svc &lt;itom-ingress-controller-svc-name&gt; -n &lt;OO NAMESPACE&gt;</pre>\n<p>Where:<br/>\n\t&lt;<code>OO namespace</code>&gt; is the unique namespace of the OO deployment.<br/>\n\t&lt;<code>itom-ingress-controller-svc-name</code>&gt; is the ingress controller service name. Run the following command to get the ingress controller service name</p>\n<pre>INGRESS_SERVICE=$(echo `kubectl get svc -n &lt;OO namespace&gt; | grep -m1 itom-ingress-controller-svc | head -1 | awk '{print $1}'`) &amp;&amp; echo $INGRESS_SERVICE</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Access the OO page at <strong>https://&lt;EXTERNAL_ACCESS_HOST&gt;:&lt;EXTERNAL_ACCESS_PORT&gt;/oo</strong> and make sure that the OO Containerized is fully up.</p>\n</li></ol>\n<h3 id=\"Upgrade_OO_RAS_and_OO_Designer\"><a id=\"Upgrade_OO_RAS_and_OO_Designer\" name=\"Upgrade_OO_RAS_and_OO_Designer\" title=\"Upgrade OO RAS and OO Designer\"></a>Upgrade OO RAS and OO Designer</h3>\n<p>After applying this patch, reinstalling/upgrading <strong>OO RAS</strong> and <strong>OO Workflow Designer</strong> to this patch version <strong>is required</strong>. </p>\n</div>",
  "modifiedon": "2026-02-02 07:34:29"
}