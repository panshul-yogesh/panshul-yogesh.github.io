{
  "title": "Integrate with classic UCMDB through OPB",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>If you are using a classic UCMDB (that is, a non-containerized UCMDB), follow these steps to set up the connection with UCMDB.</p>\n<h2 class=\"mw-headline\" id=\"Prerequisites\">Prerequisites</h2>\n<ul>\n<li>You have installed a classic UCMDB. For details, see the UCMDB documentation. </li>\n<li>You have installed a UCMDB data flow probe.</li>\n</ul>\n<h2 id=\"Download_and_install_the_On-Premises_Bridge_(OPB)_agent\"><span class=\"mw-headline\" id=\"Download_and_install_the_On-Premises_Bridge_.28OPB.29_agent\">Download and install the On-Premises Bridge (OPB) agent</span></h2>\n<p>In the agent interface, navigate to <b>Administration</b> &gt;<b> Utilities</b> &gt; <b>Integration</b> &gt; <b>Agents</b>, and then download and install the OPB agent and create an agent. For detail, see <a href=\"#relatedTopics\">Related topics</a>.</p>\n<h2 class=\"mw-headline\" id=\"Import_the_UCMDB_server_certificate_to_the_OPB_agent\">Import the UCMDB server certificate to the OPB agent</h2>\n<ol>\n<li>Open the UCMDB server URL in a browser: https://&lt;UCMDB server&gt;:8443/ucmdb-ui.</li>\n<li>From the browser, open the certificate window, go to the <b>Details</b> tab, and then click <b>Copy to File</b>.</li>\n<li>Follow the wizard prompts, and select the <b>Base-64 encoded X.509 (.CER)</b> format to export the certificate to a file. For example, <b>ucmdb.cer</b>.</li>\n<li>Import the UCMDB server certificate to the OPB agent's trust store. Suppose the OPB agent is installed on a Windows machine, do the following:\n\t<ol start=\"1\">\n<li>Open the Windows Command Prompt by selecting \"Run as administrator.\"</li>\n<li>Run the following commands:\n\t\t<pre>cd C:\\ProgramData\\MicroFocus\\On-Premise Bridge Agent\\product\\util\\3rd-party\\jre\\bin\nkeytool -importcert -keystore ..\\lib\\security\\cacerts -alias \"ucmdb\" -file ucmdb.cer\n</pre>\n</li>\n</ol>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Create_a_UCMDB_endpoint\">Create a UCMDB endpoint</h2>\n<ol>\n<li>\n<p>Open the OPB agent's Endpoint Credentials Manager, and create credentials for UCMDB.</p>\n<p><a class=\"image\" href=\"/file/images/8/8a/SMA_ucmdb_intg_credentials.png\" title=\"/file/images/8/8a/SMA_ucmdb_intg_credentials.png\"> <img alt=\"SMA ucmdb intg credentials.png\" data-file-height=\"346\" data-file-width=\"999\" height=\"346\" src=\"../../../images/SMA_ucmdb_intg_credentials_d9a012aa.png\" width=\"999\"/> </a></p>\n</li>\n<li>Restart the OPB agent.</li>\n<li>Create a UCMDB endpoint:\n\t<ol start=\"1\">\n<li>From the main menu, select <b>Administration &gt; Utilities &gt; Integration &gt; Endpoints</b>.</li>\n<li>\n<p>Click <b>Add</b>.</p>\n</li>\n<li>\n<p>Enter the endpoint details.</p>\n<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Endpoint type</td>\n<td>Select the relevant UCMDB version.</td>\n</tr>\n<tr>\n<td>Endpoint name</td>\n<td>Type a name for the endpoint. Use only Latin letters and spaces.</td>\n</tr>\n<tr>\n<td>Running on agent</td>\n<td>Select the agent created previously from the drop-down list.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <b>Add</b>.</li>\n</ol>\n</li>\n<li>\n<p>Configure the endpoint:</p>\n<ol start=\"1\">\n<li>\n<p>Click <b>Configure</b>. The <b>Endpoint Configuration</b> dialog box opens.</p>\n</li>\n<li>\n<p>Enter the endpoint details.</p>\n<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Endpoint name</td>\n<td>\n<p>The name of the endpoint. This field is read-only.</p>\n</td>\n</tr>\n<tr>\n<td>Protocol</td>\n<td>Select HTTPS as the protocol to be used for connecting to the on-premises UCMDB installation.</td>\n</tr>\n<tr>\n<td>Host name</td>\n<td>Type the name or IP address of the on-premises UCMDB server.</td>\n</tr>\n<tr>\n<td>Port</td>\n<td>Type the number of the port listened to by the UCMDB API. The default is 8443.</td>\n</tr>\n<tr>\n<td>Root context</td>\n<td>Type the root context value of the on-premises UCMDB installation. If no root context has been defined, leave this field with its default value.</td>\n</tr>\n<tr>\n<td>Credentials</td>\n<td>Choose the credentials to be used to connect to the UCMDB installation from the drop-down list. The full credentials are those defined as part of the agent to which the endpoint is connected.</td>\n</tr>\n<tr>\n<td>Probe name</td>\n<td>Type the name of the UCMDB probe on which to run the synchronization. If the UCMDB is installed in Linux without probe, the default is IntegrationService. <span>If the UCMDB is installed in Linux for integrationService, the default is IntegrationProbe.</span> <span>If the UCMDB is installed in Windows, the default is DataFlowProbe or IntegrationService.</span></td>\n</tr>\n<tr>\n<td>Probe domain</td>\n<td>The domain of the probe as defined in UCMDB. The default is DefaultDomain.</td>\n</tr>\n<tr>\n<td>Sync content</td>\n<td>Select whether to synchronize only infrastructure records, or infrastructure and business records.</td>\n</tr>\n<tr>\n<td>Customer name</td>\n<td>Type the customer name.</td>\n</tr>\n<tr>\n<td>Remote machine state</td>\n<td>Select the state with which you want to connect when integrating with multi-state UCMDBs. Valid values are Actual State or Authorized State. The default is Actual.</td>\n</tr>\n<tr>\n<td>Custom sync</td>\n<td>Check this check box to run in custom synchronization mode. Automatic synchronization mode is the default mode.</td>\n</tr>\n<tr>\n<td>Additional field customization</td>\n<td>\n<p>You can define additional fields to synchronize. Click <b>Add</b> to add a row for each additional set of fields. Select the Service Management record type and field from the drop-down lists on the left and enter the UCMDB CI type attribute name (not the display label) on the right.</p>\n<div class=\"Admonition_Note\">\n<p>The <b>Additional field customization</b> works for automatic synchronization only. To customize field mappings for manual synchronization, see <a href=\"/doc/423/26.1/tailorcustomsync\" title=\"SMAX:25.1/TailorCustomSync\">How to tailor custom synchronization</a>.</p>\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n<p>The following figure shows an example.<br/>\n<a class=\"image\" href=\"/file/images/0/04/SMA_ucmdbintg_endpoint.png\" title=\"/file/images/0/04/SMA_ucmdbintg_endpoint.png\"> <img alt=\"SMA ucmdbintg endpoint.png\" data-file-height=\"578\" data-file-width=\"929\" height=\"578\" src=\"../../../images/SMA_ucmdbintg_endpoint_f7b7ae4b.png\" width=\"929\"/> </a></p>\n</li>\n<li>Click <b>Test connection</b> to make sure that the test is successful.</li>\n<li>Click <b>Save</b>.</li>\n</ol>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Set_up_automatic_or_custom_synchronization_with_UCMDB\">Set up automatic or custom synchronization with UCMDB</h2>\n<p>Now, you can set up the synchronization with UCMDB in one of the following modes:</p>\n<ul>\n<li>Automatic synchronization: In this mode, an integration point is automatically created in UCMDB when you click <b>Sync now</b> in Service Management, and you have little control of the synchronization process and schedule. For details, see <a href=\"/doc/423/26.1/setupautomaticsync\" title=\"SMAX:25.1/SetUpAutomaticSync\">How to set up automatic synchronization with UCMDB</a>.</li>\n<li>Custom synchronization: In this mode, you must manually create an integration point, and can customize TQLs, mappings, synchronization jobs, and synchronization schedules as needed. For details, see <a href=\"/doc/423/26.1/setupcustomsync\" title=\"SMAX:25.1/SetUpCustomSync\">How to set up custom synchronization with UCMDB</a>.</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Related_topics\"><span id=\"relatedTopics\">Related topics</span></h2>\n<ul>\n<li><a href=\"/doc/423/26.1/opbinstall\" title=\"SMAX:25.1/OpbInstall\">How to use On-Premises Bridge agents on Windows</a></li>\n<li><a href=\"/doc/423/26.1/opbinstalllinux\" title=\"SMAX:25.1/OpbInstallLinux\">How to use On-Premises Bridge agents on Linux</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}