{
  "title": "Integration Studio—Azure DevOps integration",
  "content": "<div class=\"mw-parser-output\"><h2>Overview</h2><p>This topic presents an illustrated set of integration use cases between SMAX and Microsoft Azure DevOps:</p><ul><li>Portal-based Defect or Enhancement requests</li><li>Incident to Defect integration</li></ul><p>The use cases in a nutshell:</p><div><a class=\"image\" href=\"\"><img alt=\"DevOps_Enhancement_Tracking.png\" border=\"0\" file=\"/mediawiki/images/3/38/DevOps_Enhancement_Tracking.png\" hspace=\"0\" src=\"../../../images/DevOps_Enhancement_Tracking_0625c967.png\" style=\"width: 800px; height: 404px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><div><a class=\"image\" href=\"\"><img alt=\"DevOps_Defect_Tracking.png\" border=\"0\" file=\"/mediawiki/images/f/f2/DevOps_Defect_Tracking.png\" hspace=\"0\" src=\"../../../images/DevOps_Defect_Tracking_22670d3c.png\" style=\"width: 800px; height: 376px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Intg_Disclaimer|N\"></span><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\" data-reuse-section-begin=\"3f8dcb4f\" data-reuse-section-end=\"3f8dcb4f\">The integration use cases described in this document serve as examples to inspire and guide your integration efforts. However, they should not be considered as prescriptive or guaranteed solutions for your particular scenario. The examples may or may not be applicable for your license edition.</div></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Intg_Disclaimer|N\"></span><h3>Use case 1: Portal-based Defect or Enhancement requests</h3><p>In this sample use case, end users who subscribe to a specific Business Service Application can report defects or request enhancements to the application by posting them via the SMAX Service Portal.</p><p>We will follow the steps below, which are performed by Eve, an employee who uses her company's eExpense application for expense tracking and reporting. She has been frustrated that expense reporting can only be done while logged on to the eExpense web application and wishes that her company would provide an enhancement to enable native mobile access for faster expense reporting. While Eve can post the enhancement request via the Portal, her company is tracking such Application requests in an Azure DevOps system used by the Application Development team. However, the seamless integration with the Portal makes this internal detail transparent to Eve.</p><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UCD1|N\"></span><h4><span style=\"color: rgb(0, 0, 0); font-family: Roboto, sans-serif;\">Step 1: Portal access</span></h4><p>Eve logs on to the Service Portal where she knows she can have access to a variety of self-service support features, such as catalog, knowledge, and subscription management for the applications she uses every day.</p><div><a class=\"image\" href=\"/file/images/a/a7/jr111_new.png\" title=\"/file/images/a/a7/jr111_new.png\"><img alt=\"jr111_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/a/a7/jr111_new.png\" height=\"408\" hspace=\"0\" src=\"../../../images/jr111_new_0b05ceb2.png\" style=\"width: 800px; height: 408px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><h4 id=\"Step_2:_Submitting_the_Enhancement_Request_with_help_of_the_Virtual_Agent\">Step 2:  Submitting an enhancement request or defect</h4><p>Eve proceeds to get help from the Portal Virtual Agent, specifying that she would like to request an enhancement for eExpense. </p><div><a class=\"image\" href=\"/file/images/d/dc/Snipaste_2023-04-17_15-12-46.png\" title=\"/file/images/d/dc/Snipaste_2023-04-17_15-12-46.png\"><img alt=\"Snipaste_2023-04-17_15-12-46.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/d/dc/Snipaste_2023-04-17_15-12-46.png\" height=\"389\" hspace=\"0\" src=\"../../../images/Snipaste_2023-04-17_15-12-46_67eae7ab.png\" style=\"width: 800px; height: 389px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p>A second option is to raise an application defect or enhancement request is by leveraging her subscription. Below we see Eve consulting her list of Services &amp; Assets where she can see her subscription to the eExpense application service listed.</p><div><a class=\"image\" href=\"/file/images/6/6c/SMAX202305IntJira113.png\" title=\"/file/images/6/6c/SMAX202305IntJira113.png\"><img alt=\"SMAX202305IntJira113.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/6c/SMAX202305IntJira113.png\" height=\"389\" hspace=\"0\" src=\"../../../images/SMAX202305IntJira113_1f1a85ae.png\" style=\"width: 800px; height: 389px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p>She proceeds to drill down into the details of the application subscriptions and finds a list of requests she can make against the eExpense application. She selects the link to report an enhancement against the service. She could also use this method to raise a defect in case she needs to.</p><div><a class=\"image\" href=\"/file/images/a/ad/OT_jr1141.png\" title=\"/file/images/a/ad/OT_jr1141.png\"><img alt=\"OT_jr1141.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/a/ad/OT_jr1141.png\" height=\"424\" hspace=\"0\" src=\"../../../images/OT_jr1141_d768a933.png\" style=\"width: 800px; height: 424px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p>Another option is that Eve browses through the application category to find the offering to submit an enhancement request. <br/>\nIn either case, the systems assist by providing her with a dedicated request form designed for the application service to either request an enhancement or report a defect.<br/><a class=\"image\" href=\"/file/images/0/08/jr114_replace.png\" title=\"/file/images/0/08/jr114_replace.png\"><img alt=\"jr114_replace.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/0/08/jr114_replace.png\" height=\"548\" hspace=\"0\" src=\"../../../images/jr114_replace_8b24aea4.png\" style=\"width: 800px; height: 548px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UCD1|N\"></span><h4>Step 3: Azure DevOps work item created and confirmation provided back to the user</h4><p>So far, Eve has interacted only through the Self-Service Portal. Once she submits her request, an automated workflow runs in the background to create a corresponding work item in Azure DevOps, including any attachments. The following screenshot shows the Azure DevOps work item created to track her request. Since Eve selected <strong>Improvement</strong> as the issue type, the work item is appropriately tagged to align with the development backlog.</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsWorkItemCreated.png\" border=\"0\" file=\"/mediawiki/images/4/49/DevOpsWorkItemCreated.png\" hspace=\"0\" src=\"../../../images/DevOpsWorkItemCreated_68eafa35.png\" style=\"width: 800px; height: 347px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><h4>Step 4: Status confirmation</h4><p>While the record above is created behind the scenes, the Portal provides validation and confirmation back to Eve, letting her know that an enhancement record has been logged for review by the application development team. An enhancement ticket ID from Azure DevOps is provided back to Eve so that she can use it for future reference.</p><h4><a class=\"image\" href=\"\"><img alt=\"DevOpsStatusConfirmation_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/1/15/DevOpsStatusConfirmation_new.png\" hspace=\"0\" src=\"../../../images/DevOpsStatusConfirmation_new_d8a99900.png\" style=\"width: 800px; height: 666px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a><br/>\nStep 5: Behind the scenes - association of the Azure DevOps ticket with the SMAX Request ticket</h4><p>While at this point the ownership of the enhancement has been passed over, we should also note that details of the association between the Azure DevOps work item and Eve's Portal request have been logged. In reviewing the Request record, SMAX Service Desk agents can find a direct reference to the related Azure DevOps work item that's tracking the potential work to enhance the application.</p><p>The screen below shows details about Azure DevOps's response in the creation of its work item record as they are recorded in the Request's Offering section. Note some specific fields of interest, such as:</p><ul><li>Remote ID: The Azure DevOps record ID that's tracking the enhancement</li><li>Remote status: The status of the Azure DevOps record (at that point in time)</li><li>URL: A URL that takes the agent directly to the Azure DevOps work item for tracking</li></ul><div><a class=\"image\" href=\"\"><img alt=\"DevOpsAssociationWithSMAX_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/8/80/DevOpsAssociationWithSMAX_new.png\" hspace=\"0\" src=\"../../../images/DevOpsAssociationWithSMAX_new_6a56dd1b.png\" style=\"width: 800px; height: 393px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>The creation of a defect in Azure DevOps can happen in the same way as raising an enhancement request. Select the \"Report a defect\" offering in the portal. The main difference is, the Enhancement request gets automatically resolved, but the defect might stay open for analysis and troubleshooting by the helpdesk to answer questions from the application management team working with Azure DevOps.</p><h3>Use case 2: Change request to Enhancement</h3><p>This use case describes how to create a new feature in Azure DevOps based on a Change request in Service Management. Within a change record, the change owner might want to create a new feature in Azure DevOps. To do so, the change owner can click the button <strong>Create Feature</strong>. The system will then create a new feature in Azure DevOps to track the requirement and put the details as external reference into the change record.</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsExternalRef2_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/d/d1/DevOpsExternalRef2_new.png\" hspace=\"0\" src=\"../../../images/DevOpsExternalRef2_new_4382661e.png\" style=\"width: 800px; height: 433px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><h3>Use case 3: Incident/Request/Problem to defect</h3><p>In this use case, Stephen reviews the Incident where a user reports an application malfunction. After analysis, Stephen confirms that the issue is an application defect, which needs to be fixed by the application team.</p><p>Stephen assigns the ticket to the Research &amp; Development group and enters a comment to the record. The assignment of the Incident triggers the execution of an integration, which creates a new defect in Azure DevOps.</p><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> Incidents are used in this example. However, the defect creation into Azure DevOps can be triggered from Requests, Incidents, Problems, and Changes in Service Management. Triggering the integration from custom Studio apps requires some small changes to the integration templates.</div></div></div><p>Tip: You can also create a new feature request in Azure DevOps in a similar way.</p><p><a class=\"image\" href=\"\"><img alt=\"202305UseCase3-1.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/64/202305UseCase3-1.png\" hspace=\"0\" src=\"../../../images/202305UseCase3-1_884c6764.png\" style=\"width: 800px; height: 446px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a><br/><a class=\"image\" href=\"\"><img alt=\"UseCase3-2_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/e/e7/UseCase3-2_new.png\" hspace=\"0\" src=\"../../../images/UseCase3-2_new_24e5ea0f.png\" style=\"width: 800px; height: 407px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></p><p>After he clicks <strong>ADD &amp; SAVE RECORD</strong>, the defect is created in the Azure DevOps system. Within the Incident in Service Management, we track the following data from the Azure DevOps record.</p><ul><li>Remote ID: The Azure DevOps record ID that's tracking the Defect</li><li>Remote status: The status of the Azure DevOps record (at that point in time)</li><li>URL: A URL that takes the agent directly to the Azure DevOps work item for tracking</li></ul><div><a class=\"image\" href=\"\"><img alt=\"UseCase3-3_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/30/UseCase3-3_new.png\" hspace=\"0\" src=\"../../../images/UseCase3-3_new_629efaf0.png\" style=\"width: 800px; height: 441px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>Clicking the URL in the Incident opens the record in Azure DevOps. The Incident details as well as the comments are replicated to the Azure DevOps system.<br/><a class=\"image\" href=\"\"><img alt=\"UseCase3-4.png\" border=\"0\" file=\"/mediawiki/images/c/ca/UseCase3-4.png\" hspace=\"0\" src=\"../../../images/UseCase3-4_9713cb5e.png\" style=\"width: 800px; height: 370px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></p><h3>Use case 4: Keep exchanged records in sync</h3><p>To get the latest updates from Azure DevOps reflected in Service Management, several options exist:</p><ul><li>Set up a webhook in Azure DevOps, which automatically pushes changes to SMAX</li><li>Schedule the scenario to regularly pull the recently modified records</li></ul><p>For example, changing the status of a work item in Azure DevOps will result in an updated record in Service Management.</p><div><a class=\"image\" href=\"\"><img alt=\"UseCase4-1-1.png\" border=\"0\" file=\"/mediawiki/images/d/d2/UseCase4-1-1.png\" hspace=\"0\" src=\"../../../images/UseCase4-1-1_e4f8e156.png\" style=\"width: 800px; height: 369px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>Both methods will ensure the records in Service Management and Azure DevOps are kept in sync.</p><div><a class=\"image\" href=\"\"><img alt=\"UseCase4-2_2.jpeg\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/4/44/UseCase4-2_2.jpeg\" hspace=\"0\" src=\"../../../images/UseCase4-2_2_4447d8c2.jpeg\" style=\"width: 800px; height: 430px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>In addition, a comment is added to the discussions section.</p><div><a class=\"image\" href=\"\"><img alt=\"UseCase4-3_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/a/ac/UseCase4-3_new.png\" hspace=\"0\" src=\"../../../images/UseCase4-3_new_be6e90a9.png\" style=\"width: 800px; height: 307px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><h2>Set up the integration</h2><p>As an example, the procedure below will set up the integration to implement the documented use cases.</p><h3>Prepare integration user</h3><p>Perform the following steps to prepare an integration user:</p><ol><li><p>Create an integration user. See <a href=\"/doc/423/26.1/createuser\" title=\"How to create an integration user\">How to create an integration user</a>.</p></li><li><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Setup1|N\"></span><p>Log in to the Agent Portal as the tenant admin, and do the following:</p><ul><li><p>Navigate to Administration &gt; Master Data &gt; People, locate the integration user, and assign the proper roles to access the required modules. Example: Incident Manager, Incident Analyst, and Incident Coordinator. The user must also have a role with the On-Premise Bridge/Integration Administrator permission. </p><p>Alternatively, assign the Tenant Admin role to grant general access.</p></li><li>(If not Tenant Admin) Navigate to Administration &gt; Master Data &gt; People &gt; Roles, and create a new role with Create, View, and Update permissions for the External reference and External system record types.</li></ul><div><a class=\"image\" href=\"/file/images/f/fd/US34.png\" title=\"/file/images/f/fd/US34.png\"><img alt=\"US34.png\" border=\"0\" file=\"/mediawiki/images/f/fd/US34.png\" height=\"69\" hspace=\"0\" src=\"../../../images/US34_bd26ece9.png\" style=\"width: 800px; height: 69px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Setup1|N\"></span></li></ol><h3>Export the certificate from the Azure DevOps instance</h3><p>To connect to Azure DevOps, you will need to upload their root CA certificate in a later step. To get the certificate from Azure DevOps, you can export the certificate from the browser as base64 encoded to a file.</p><h3>Configure SMAX</h3><h4>Create an endpoint</h4><p>Create an endpoint using the Rest Executor 2.0 endpoint type:</p><ol><li>Log in to the Agent Portal as the tenant admin.</li><li>Navigate to <strong>Administration &gt; Utilities &gt; Integration &gt; Endpoints</strong>.</li><li>Click <strong>Add</strong>.</li><li>Select Rest Executor 2.0 as the endpoint type, enter a name for the endpoint (for example, Azure DevOps), and then click <strong>Add</strong>. The system creates the endpoint.</li><li>Click <strong>Configure</strong> and complete the fields depending on whether the endpoint needs to use the OPB Agent.</li></ol><p>If the endpoint doesn't need to use the OPB Agent, complete these fields.</p><table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\"><thead><tr><th scope=\"col\">Field</th><th colspan=\"2\" scope=\"col\">Value</th></tr></thead><tbody><tr><td>Agent</td><td colspan=\"2\">Select <strong>Agentless</strong> for a direct connection to Azure DevOps.</td></tr><tr><td>Authentication type</td><td colspan=\"2\"><p>Select <strong>Basic Authentication</strong></p></td></tr><tr><td>Protocol</td><td colspan=\"2\">Select <strong>https</strong>.</td></tr><tr><td>Base URL</td><td colspan=\"2\">Enter the base URL of the Azure DevOps system: https://&lt;FQDN&gt;</td></tr><tr><td><p>Username</p></td><td colspan=\"2\"><p>Enter the username of the integration user of the Azure DevOps system.</p></td></tr><tr><td><p>Password</p></td><td colspan=\"2\"><p>Enter the Personal Access Token of the integration user of the Azure DevOps system.</p><p>Note: This is the API token, not the user password, for the integration user.</p></td></tr><tr><td><p>Confirm password</p></td><td colspan=\"2\"><p>Re-enter the Personal Access Token.</p></td></tr><tr><td>Certificate type</td><td colspan=\"2\">Select <strong>X.509</strong>.</td></tr><tr><td>Certificate format</td><td colspan=\"2\">Select <strong>PEM</strong>.</td></tr><tr><td><p><span style=\"background-color: transparent;\">Server certificate</span></p></td><td colspan=\"2\"><p>Open the root CA certificate file of Azure DevOps system in a text editor, and then copy and paste the content to this field. If the content is invalid, an error occurs when you click <strong>Save</strong> in the next step.</p><p>The certificate content must resemble the following.</p><p><br/>\n\t\t\t-----BEGIN CERTIFICATE-----<br/>\n\t\t\tMIIF2TCCBMGgAwIBAgIQBMF1U8hY8bivE0+JHx922jANBgkqhkiG9w0BAQsFADBG<br/>\n\t\t\tMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRUwEwYDVQQLEwxTZXJ2ZXIg<br/>\n\t\t\tQ0EgMUIxDzANBgNVBAMTBkFtYXpvbjAeFw0yMTEwMTEwMDAwMDBaFw0yMjExMDky<br/>\n\t\t\tMzU5NTlaMBsxGTAXBgNVBAMTEHhpZS5pdHNtYS1uZy5vcmcwggEiMA0GCSqGSIb3<br/>\n\t\t\t1oIvQfpl2gj0S6JSJAYjJnY7HKCa7mkzBMiiXWI5aHMZfl1FsaNARM10LUpto61f<br/>\n\t\t\tIvk/SDNlOqVXuzGMTZkJBVZVmK5lNLvBB1Gk9+QlJ+SuUOW7FW2K5U+oQKWsHtvH<br/>\n\t\t\tC/DHn6yyhvqWes9q6A==<br/>\n\t\t\t-----END CERTIFICATE-----</p></td></tr></tbody></table><p>Example:</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsEndpoint.png\" border=\"0\" file=\"/mediawiki/images/f/f3/DevOpsEndpoint.png\" hspace=\"0\" src=\"../../../images/DevOpsEndpoint_b9fd74de.png\" style=\"width: 800px; height: 618px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>If the endpoint needs to use the OPB Agent, complete these fields.</p><table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\"><thead><tr><th scope=\"col\">Field</th><th scope=\"col\">Description</th></tr></thead><tbody><tr><td><p>Agent</p></td><td><p>Select the OPB agent that you have created.</p></td></tr><tr><td><p>Authentication type</p></td><td><p>Select <strong>Basic Authentication</strong>.</p></td></tr><tr><td><p>Protocol</p></td><td><p>Select <strong>https</strong>.</p></td></tr><tr><td><p>Base URL</p></td><td><p>Enter the base URL of the Azure DevOps system: https://dev.azure.com</p></td></tr><tr><td><p>Credentials</p></td><td><p>Select the credentials record that you've created for the endpoint in the Endpoint Credentials Manager.</p></td></tr></tbody></table><h4><span style=\"color: rgb(0, 0, 0); font-family: Roboto, sans-serif;\">Create an integration</span></h4><p>Create an integration and configure one or more scenarios to define the business logic for forwarding tickets and synchronizing ticket updates between SMAX and Azure DevOps. The Azure DevOps connector has four pre-defined scenario templates:</p><ul><li><p><em>Enhancement tracking</em>, to track Features in Azure DevOps</p></li><li><p><em>Defect tracking</em>, to track Defects in Azure DevOps</p></li><li><p><em>Process incoming events</em>, to handle events sent from Azure DevOps to Service Management.</p></li><li><p><em>Pull recent updates</em>, to regularly pull updates from Azure DevOps into SMAX using the Scheduler function in the Integration Studio.</p></li></ul><p>In the following steps, you'll create an integration with the predefined templates.</p><ol><li>Navigate to <strong>Administration &gt; Utilities &gt; Integration &gt; Integration Studio</strong>. </li><li>Click <strong>New</strong>, enter the name of your integration, and then click <strong>Save</strong>. The system displays the Integration page.</li><li>In the Details section, configure the integration user you created for the current Service Management system and activate the integration.</li><li>In the Connector-Endpoint mappings section, click <strong>Add</strong> to add a mapping.</li><li>Select <strong>Azure DevOps</strong> (under <strong>Microsoft</strong>) as the connector, select the Azure DevOps endpoint that you created earlier, and then enter an alias for the mapping.</li><li>Click <strong>Save</strong>. </li></ol><h4>Configure the scenarios</h4><p>Use the out-of-the-box scenario templates for this integration. Perform the following steps to add the scenarios to the integration:</p><ol><li>Click <strong>Add scenario</strong>. </li><li>Enter a name for the scenario. For example, <strong>Enhancement tracking</strong>.</li><li>In the<strong> Template </strong>field, select <strong>Enhancement tracking</strong> (under <strong>Microsoft Azure DevOps</strong>) from the list. </li><li>Click <strong>Save</strong> to add the scenario.</li><li>Repeat the steps above to add the rest of the scenarios listed in the table below.</li></ol><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> Using templates will make the integration configuration easier than starting from scratch. If you don't select this option, you'll have to manually add your own logic, starting from a blank page. </div></div></div><p>The following table describes the actions required for each of the scenarios before you run the integration. </p><table><tbody><tr><th><p>Scenario name</p></th><th><p>Actions required before using the scenario </p></th></tr><tr><td>Enhancement tracking</td><td><p>In the <strong>Default parameters</strong> rule at the start of the process logic, replace the following placeholder values:</p><ul><li><p>The Organization name</p></li><li><p><span style=\"background-color: transparent;\">The Project name</span></p></li><li><p><span style=\"background-color: transparent;\">The </span><span style=\"background-color: transparent;\">Endpoint name (in the BaseUrl parameter)</span></p></li></ul></td></tr><tr><td>Defect tracking</td><td><p>In the <strong>Default parameters</strong> rule at the start of the process logic, replace the following placeholder values:</p><ul><li><p>The Organization name</p></li><li><p><span style=\"background-color: transparent;\">The Project name</span></p></li><li><p><span style=\"background-color: transparent;\">The Endpoint name (in the BaseUrl parameter)</span></p></li></ul></td></tr><tr><td><p>Pull recent updates</p></td><td><p>In the <strong>Default parameters</strong> rule at the start of the process logic, replace the following placeholder values:</p><ul><li><p>The Organization name</p></li><li><p><span style=\"background-color: transparent;\">The Project name</span></p></li><li><p>The DateTimePattern, which must match the date time format of the Azure DevOps user that is specified in the endpoint. This is required to successfully query records based on timestamp.</p></li></ul></td></tr><tr><td><p>Process incoming events</p></td><td><p>This is a scenario designed to work as a listener. Hence you must configure the listener details to use this scenario. See <a href=\"/doc/423/26.1/xielistener\" title=\"here\">here</a> on how to configure a listener.</p><p>In the <strong>Default parameters</strong> rule at the start of the process logic, replace the following placeholder values:</p><ul><li><p>The Organization name</p></li><li><p><span style=\"background-color: transparent;\">The Project name</span></p></li></ul></td></tr></tbody></table><h2>Use the scenarios</h2><h3>Use case 1—Portal-based Defect or Enhancement requests</h3><p>Having set up the endpoint and the integration, the final step is about the business logic to trigger the integration. To see this use case working, a Catalog Offering with a Fulfillment Task Plan that invokes the appropriate Azure DevOps integration is needed.</p><p>As you may recall, in the Use Case example, Eve submitted an Improvement Request via an Offering associated with the eExpense application:</p><div><a class=\"image\" href=\"\"><img alt=\"c7aa_upd.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/f/f3/c7aa_upd.png\" hspace=\"0\" src=\"../../../images/c7aa_upd_0d036e4d.png\" style=\"width: 800px; height: 392px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>In the newly created Offering:</p><ul><li>We have designated <strong>Application </strong>as a related Service Definition.</li><li>We have also set <strong>Subscription</strong> as the value for the Required asset information. This means that users submitting the Defect or Enhancement request for eExpense must have specified the Subscription to the Application service that they have been granted.</li></ul><div><a class=\"image\" href=\"\"><img alt=\"xxz_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/4/47/xxz_new.png\" hspace=\"0\" src=\"../../../images/xxz_new_3f520fc1.png\" style=\"width: 800px; height: 375px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><h4>Specify user options</h4><p>Specific user options will be added to collect information from the user as well as to store results provided back by Azure DevOps during its creation of an issue record. You can find the following options in the screens below:</p><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-1|N\"></span><table><tbody><tr><th><p>User option name</p></th><th><p>Label</p></th><th>Visibility</th><th>Description</th></tr><tr><td>Title_c<br/>\n\t\t\t </td><td>Provide a short title</td><td>User</td><td>A portal facing option used to collect the user's issue title</td></tr><tr><td>Description_c</td><td>Provide a detailed description</td><td>User</td><td>A portal facing option used to collect the user's issue description</td></tr><tr><td>Success_c</td><td>Record created?</td><td>Agent</td><td>Indicates whether the record was successfully created in the ALM system.</td></tr></tbody></table><div><a class=\"image\" href=\"/file/images/8/86/202305UU3.png\" title=\"/file/images/8/86/202305UU3.png\"><img alt=\"202305UU3.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/8/86/202305UU3.png\" height=\"326\" hspace=\"0\" src=\"../../../images/202305UU3_7cdc6ab6.png\" style=\"width: 800px; height: 326px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-1|N\"></span><h4>Define a task plan</h4><p>In this step, create a Task Plan that triggers the Azure DevOps integration. The full task plan will include a few automated tasks as shown below:</p><ol><li>The first task creates the Azure DevOps Issue. </li><li><p>A condition task then checks whether the Azure DevOps Issue was successfully created.</p><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-2|N\"></span><ul><li>If it's a success, the subsequent tasks proceed to add a comment with results for the user and to mark the Request as fulfilled.</li><li>If it's a failure, a manual task is created which needs to be handled. The request stays in fulfilment queue for manual intervention.</li></ul><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-2|N\"></span></li></ol><div><a class=\"image\" href=\"\"><img alt=\"task_wkflw_upd.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/0/0d/task_wkflw_upd.png\" hspace=\"0\" src=\"../../../images/task_wkflw_upd_120d16b8.png\" style=\"width: 800px; height: 409px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>Task 1: Create Enhancement in ALM System:</p><ol><li>Add an Automated Task.</li><li>Give the task a title, description and assignment group.</li><li>Select <strong>Call Integration Studio</strong> as the Business Rule for the Task.</li><li>Select integration <strong>Azure DevOps</strong> and scenario <strong>Enhancement tracking</strong>.</li><li>Save the task.</li></ol><div><a class=\"image\" href=\"\"><img alt=\"DevOpsTaskPlan.png\" border=\"0\" file=\"/mediawiki/images/1/1c/DevOpsTaskPlan.png\" hspace=\"0\" src=\"../../../images/DevOpsTaskPlan_3ef7dc0c.png\" style=\"width: 800px; height: 727px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-3|N\"></span><p>Decision details:</p><ol><li>Add a decision to the task plan.</li><li>Enter a title.</li><li>Enter following condition: <code>${entity.UserOptions.Success_c}.</code></li><li>Enter Yes and No as output value.</li><li>Save the task.</li></ol><p>This decision waits that the Integration Studio updates the \"Success\" user option in the request with the integration result. The Integration Studio will set \"Yes\" in case of success or \"No\" in case of failure.<br/><br/><a class=\"image\" href=\"/file/images/f/f2/UU6.png\" title=\"/file/images/f/f2/UU6.png\"><img alt=\"UU6.png\" border=\"0\" file=\"/mediawiki/images/f/f2/UU6.png\" height=\"800\" hspace=\"0\" src=\"../../../images/UU6_4762f8a5.png\" style=\"width: 687.129px; height: 800px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"687.1287128712871\"/></a></p><p>Task 2: Resolve Request</p><ol><li>Add an Automated Task.</li><li>Give the task a title, description and assignment group.</li><li>Select <strong>Set fields</strong> as the Business Rule for the Task.</li><li>Enter a solution and a completion code.</li><li>Save the task.</li></ol><div><a class=\"image\" href=\"/file/images/1/18/UU7.png\" title=\"/file/images/1/18/UU7.png\"><img alt=\"UU7.png\" border=\"0\" file=\"/mediawiki/images/1/18/UU7.png\" height=\"691\" hspace=\"0\" src=\"../../../images/UU7_16e20004.png\" style=\"width: 800px; height: 691px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p>Task 3: Manually manage the request</p><ol><li>Add a manual Task.</li><li>Give the task a title, description and assignment group.</li><li>Save the task.</li></ol><div><a class=\"image\" href=\"/file/images/a/ac/UU8.png\" title=\"/file/images/a/ac/UU8.png\"><img alt=\"UU8.png\" border=\"0\" file=\"/mediawiki/images/a/ac/UU8.png\" height=\"674\" hspace=\"0\" src=\"../../../images/UU8_2eff04d1.png\" style=\"width: 800px; height: 674px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p><strong>Define default value</strong></p><p>In the default values section, define the values as required, but you must set at least a Service Desk group, a Service, and a Category to automatically move the request into the Initial Support phase, which then triggers the integration defined in the task plan.</p><p>In addition, set the \"Record created?\" user option to \"pending response\" since the Integration Studio is checking this initial value.</p><div><a class=\"image\" href=\"/file/images/8/8f/UU9.png\" title=\"/file/images/8/8f/UU9.png\"><img alt=\"UU9.png\" border=\"0\" file=\"/mediawiki/images/8/8f/UU9.png\" height=\"404\" hspace=\"0\" src=\"../../../images/UU9_48a6857b.png\" style=\"width: 800px; height: 404px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p>Save the offering.</p><p>Repeat the same steps for \"Report a defect offering\". The only difference is to select the <strong>Defect tracking</strong> scenario in the first task in the task plan and not add task 2 to automatically resolve the request.</p><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC1-3|N\"></span><p>To send additional comments from SMAX to Azure DevOps, add the following business rule to the Request entity in Studio.</p><div><a class=\"image\" href=\"\"><img alt=\"additional_comments_updated.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/c/c3/additional_comments_updated.png\" hspace=\"0\" src=\"../../../images/additional_comments_updated_58f35be8.png\" style=\"width: 800px; height: 364px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>The condition in this example is:<br/><code>${current_update.Comments.IsChanged &amp;&amp; current_user.Upn != '&lt;your integration user configured in the Azure DevOps integration&gt;</code><code>' &amp;&amp; lookup('ExternalReference','RemoteSystem','EntityType','Request','EntityId',entity.Id,'RemoteSystem','Azure DevOps', 'ExternalEntityType','Feature'</code><code>)=='Azure DevOps'}</code><br/>\nThis means when:</p><ul><li>a comment is added </li><li>and the update is not coming from the integration user configured in the Integration Studio</li><li>and there is an Azure DevOps record in the ExternalReference entity</li><li><p>and the External Entity Type is \"Feature\"</p></li></ul><p>then the integration is triggered, and comments are sent to Azure DevOps.</p><h3>Use case 2—Change request to feature</h3><p>To create a new Feature in Azure DevOps when the button is clicked in the change request, perform the following steps.</p><ol><li>Go to Studio and select the entity \"change\".</li><li><p>Go to custom actions and add your custom action, make sure that you select the \"Enable Workflow\" checkbox.</p><p>Example:</p><div><a class=\"image\" href=\"\"><img alt=\"Snipaste_2023-04-17_15-33-04.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/c/c4/Snipaste_2023-04-17_15-33-04.png\" hspace=\"0\" src=\"../../../images/Snipaste_2023-04-17_15-33-04_f3a9a7ea.png\" style=\"width: 800px; height: 339px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div></li><li><p>Go to Processes and Rules to trigger the Integration Studio rule when the custom action is clicked or when a comment is added to the Change request. Add the business rule in the \"After applying changes\" event.</p><p>Condition:</p><code>${(current_update.CustomActionCount_c.IsChanged &amp;&amp; entity.CustomActionName_c=='CreateReq') || (entity.Active==true &amp;&amp; entity.ExternalProcessReference != null &amp;&amp; current_update.Comments.IsChanged &amp;&amp; lookup('ExternalReference','RemoteSystem','EntityType','Change','EntityId', entity.Id,'RemoteSystem','Azure DevOps', 'ExternalEntityType','Feature')=='Azure DevOps' &amp;&amp; current_user.Upn!='&lt;your integration user used in the Azure DevOps Integration&gt;')} </code><p>Example:</p><div><a class=\"image\" href=\"\"><img alt=\"OT_DevOpsUC2Condition.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/1/11/OT_DevOpsUC2Condition.png\" hspace=\"0\" src=\"../../../images/OT_DevOpsUC2Condition_813d9fb2.png\" style=\"width: 800px; height: 436px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div></li></ol><h3>Use case 3—Incident/Request/Problem to defect</h3><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC3-1|N\"></span><p>To create defects directly from an incident, request, or problem, perform the following steps.</p>\n<p>As the integration and endpoints are now set up, all you need to do is to create a business rule that triggers the integration based on your needs.</p>\n<p>To do this, go to your studio entity &gt;<strong> Processes and Rules &gt; After applying changes</strong>, and then add a new \"Call Integration Studio\" business rule.</p>\n<p><br/>\n</p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|UC3-1|N\"></span><div><a class=\"image\" href=\"\"><img alt=\"DevOpsUC3ConditionR.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/7/79/DevOpsUC3ConditionR.png\" hspace=\"0\" src=\"../../../images/DevOpsUC3ConditionR_be073cd3.png\" style=\"width: 800px; height: 240px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>The condition in this example is:</p><p><code>${(entity.ExpertGroup.Name=='RnD') || (entity.Active==true &amp;&amp; entity.ExternalProcessReference != null &amp;&amp; current_update.Comments.IsChanged &amp;&amp; lookup('ExternalReference','RemoteSystem','EntityType','Incident','EntityId', entity.Id,'RemoteSystem','Azure DevOps', 'ExternalEntityType','Issue')=='Azure DevOps' &amp;&amp; current_user.Upn!='&lt;your integration user used in the Azure DevOps Integration&gt;')}</code></p><p>This means that the integration is triggered when:</p><ul><li>the Incident is assigned to the RnD group as expert group</li><li>or a comment is added and the External Reference is not empty</li><li><p>and the Records is Exchanged already with Azure</p></li><li>and the update is not coming from the integration user configured in the Integration Studio</li></ul><p>You can add a similar business rule with your condition to other SMAX entities to trigger this integration.</p><p>It is also possible to create enhancement requests via this method.</p><h3>Use case 4—Keep exchanged records in sync</h3><p>This use case can be achieved in 2 ways:</p><ul><li>Pull updates regularly</li><li>Make Azure DevOps push the updates to SMAX</li></ul><p>You can implement both options or just one of them to receive updates from Azure DevOps.</p><h4>Pull updates regularly</h4><p>To use this method, the scenario \"Pull recent updates\" must have been set up and configured as described in the \"Set up the integration\" section.</p><p>Next, create a scheduler in the Integration Studio.</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsCreateSchedule_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/a/ae/DevOpsCreateSchedule_new.png\" hspace=\"0\" src=\"../../../images/DevOpsCreateSchedule_new_c0a6be70.png\" style=\"width: 800px; height: 356px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>Configure your schedule interval.</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsScheduleInterval_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/0/02/DevOpsScheduleInterval_new.png\" hspace=\"0\" src=\"../../../images/DevOpsScheduleInterval_new_e5602cc8.png\" style=\"width: 800px; height: 374px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>Set the following \"input\" parameters to pass to the scenario.</p><p>In this example, we pass <code>Type: Issue</code> and <code>Tag: SMAX Incident</code>, which instructs the scenario to query only Work Items of type <strong>Issue</strong> with the tag <strong>SMAX Incident</strong>.</p><div><a class=\"image\" href=\"\"><img alt=\"OT_DevOpsScheduleInput.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/e/e5/OT_DevOpsScheduleInput.png\" hspace=\"0\" src=\"../../../images/OT_DevOpsScheduleInput_1adec26b.png\" style=\"width: 800px; height: 438px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div><p>These input parameters are validated in the \"Parameters\" section to set properties used in the scenario.</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsScnDetails1.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/b/bb/DevOpsScnDetails1.png\" hspace=\"0\" src=\"../../../images/DevOpsScnDetails1_363e4974.png\" style=\"width:676px;height:313px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/></a></div><p>When the system executes the scenario, it queries all modified records with the timestamp of the previous schedule run. The executed query can be found in the Rule \"Azure Query by WIQL\".</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsScnDetails2.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/1/10/DevOpsScnDetails2.png\" hspace=\"0\" src=\"../../../images/DevOpsScnDetails2_6ea3953b.png\" style=\"width:678px;height:543px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/></a></div><p>The scenario then gets the latest status of the modified items and updates the SMAX records accordingly.</p><h4>Make Azure DevOps push the updates to SMAX</h4><p>To use this method, you must set up and configure the scenario \"Process incoming events\" as described in the \"Set up the integration\" section.</p><ol><li><p>Ensure the listener details are configured.</p><p>Example:</p><div><a class=\"image\" href=\"\"><img alt=\"OT_Scnr4_Listener.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/2/22/OT_Scnr4_Listener.png\" hspace=\"0\" src=\"../../../images/OT_Scnr4_Listener_360127a4.png\" style=\"width: 800px; height: 529px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/></a></div></li><li><p>Create a Webhook in Azure DevOps and configure your trigger parameters. Example:</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsAzWebhook.png\" border=\"0\" file=\"/mediawiki/images/f/ff/DevOpsAzWebhook.png\" hspace=\"0\" src=\"../../../images/DevOpsAzWebhook_3f8a2997.png\" style=\"width:599px;height:602px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/></a></div></li><li><p>Enter the listener Webhook URL, Username, and API Token that you configured in the scenario. Set the 'Resource details to send' to 'Minimal', since we just need the Work Item ID of the modified record. Example:</p><div><a class=\"image\" href=\"\"><img alt=\"DevOpsAzWebhook2.png\" border=\"0\" file=\"/mediawiki/images/3/3d/DevOpsAzWebhook2.png\" hspace=\"0\" src=\"../../../images/DevOpsAzWebhook2_8a0f14fb.png\" style=\"width:608px;height:602px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\"/></a></div></li><li><p>Test the connection and then change the status of an exchanged Work item to test the result in Service Management.</p></li></ol><p>The scenario extracts the Work Item ID from the received payload, gets the latest status of the modified item from Azure DevOps, and then updates the SMAX record accordingly.</p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}