{
  "title": "Perform an integration with classic Operations Orchestration",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To import Operations Orchestration (OO) content and run OO flows, you need to set up an integration with OO, and then run OO flows by running a business rule either at the record type/record type workflow level for a group of records that meet a specified condition or at the record level as a planned task. </p>\n<h2 class=\"mw-headline\" id=\"Prerequisites\">Prerequisites</h2>\n<p>Before you proceed, complete the following prerequisite tasks:</p>\n<ul>\n<li>Install the On-Premises Bridge (OPB) agent and add an OPB agent. For details, see <a href=\"/doc/423/26.1/opbinstall\" title=\"SMAX:25.1/OpbInstall\">How to use On-Premises Bridge agents on Windows</a> and <a href=\"/doc/423/26.1/opbinstalllinux\" title=\"SMAX:25.1/OpbInstallLinux\">How to use On-Premises Bridge agents on Linux</a>.</li>\n<li>If the Operations Orchestration flow you are importing uses encryption, you must set up encryption between Service Management and the OPB agent before you perform the integration. For more information, see <a href=\"/doc/423/26.1/ooencrypt\" title=\"SMAX:25.1/OOEncrypt\">How to set up encryption for an Operations Orchestration integration</a>.</li>\n</ul>\n<h2>Import the OO certificate into the OPB agent</h2>\n<p>When working with a security hardened Operations Orchestration (OO) server, perform the following steps to enable execution of the integration:</p>\n<ol>\n<li>\n<p>Locate the OO server installation folder (&lt;OO installation dir&gt;). The default location is <b>C:\\Program Files\\Micro Focus\\Operations Orchestration</b> or <b>C:\\Program Files\\Hewlett-Packard\\HP Operations Orchestration</b>, depending on the OO version.</p>\n</li>\n<li>\n<p>Export a server certificate from <b>&lt;OO installation dir&gt;/central/var/security/key.store</b>.</p>\n<ol start=\"1\">\n<li>\n<p>To get a certificate alias, run the following script: <b>&lt;OO installation dir&gt;\\java\\bin\\keytool -list -keystore key.store</b>.</p>\n</li>\n<li>\n<p>To export the server certificate by its alias, run the following script: <b>&lt;OO installation dir&gt;\\java\\bin\"\\keytool -export -keystore key.store -alias &lt;alias&gt; -file server.cert</b>.</p>\n<p>Note The keystore default password is <b>changeit</b>. If the password was changed, consult with an OO administrator.</p>\n</li>\n</ol>\n</li>\n<li>\n<p>Copy the <b>server.cert</b> file to the following location: <b>&lt;OPB Agent installation&gt;\\product\\util\\3rd-party\\jre\\lib\\security</b>.</p>\n</li>\n<li>\n<p>Import <b>server.cert</b> into the cacerts keystore.</p>\n<ol start=\"1\">\n<li>\n<p>Execute the following command: <b>&lt;OPB Agent installation&gt;\\product\\util\\3rd-party\\jre\\bin\\keytool -import -keystore cacerts -file server.cert</b>.</p>\n<p>Note The keystore default password is <b>changeit</b>. If the password was changed, consult with a Service Management administrator.</p>\n</li>\n<li>\n<p>When prompted with the <b>Trust this certificate?</b> question, answer <b>yes</b>.</p>\n</li>\n</ol>\n</li>\n<li>\n<p>Restart the On-Premises Bridge Agent Service.</p>\n</li>\n</ol>\n<p>For more information on OO certificates, see <strong>Hardening OO Central </strong>in the OO documentation for the version of OO you have integrated with.</p>\n<h2 class=\"mw-headline\" id=\"Configure_an_OO_endpoint\">Create an integration user in OO</h2>\n<p>Perform the following steps in OO:</p>\n<ol>\n<li>Go to <strong>System Configuration</strong> &gt; <strong>Roles</strong>, and create a new role with the following permissions: <b>View Content Packs</b>, <b>View Configuration Items</b>, <b>Manage Content Settings</b>, <b>Manage Content Packs</b>, and <b>Manage Configuration Items</b>. </li>\n<li>Click the <strong>Internal Users </strong>tab, and then create a new user with the role that you created in the previous step. </li>\n<li>Configure the OO flows that you want the integration to run, so that the created role has permissions to run these flows.\n\t<ol start=\"1\">\n<li>Go to <strong>Content Management</strong> &gt; <strong>Flow library</strong>.</li>\n<li>Select a flow. In the Permissions section, click <strong>Edit</strong>, and select the <strong>View</strong> and <strong>Run</strong> permissions for the role that you created. Save the flow.</li>\n<li>Repeat the previous step for the rest of the flows.</li>\n</ol>\n</li>\n<li>If the OO flows use configuration items, configure these configuration items to give the created role the permission to view and run them. \n\t<ol start=\"1\">\n<li>Go to <strong>Content Management</strong> &gt; <strong>Configuration Items</strong>.</li>\n<li>Select a configuration item under <strong>System Accounts</strong>, and then click the Edit (pencil) icon. In the Permissions section, select the <strong>View and Run</strong> permission for the created role.</li>\n<li>Repeat the previous step for the rest of the configuration items. </li>\n</ol>\n</li>\n</ol>\n<h2>Create an endpoint credentials record</h2>\n<p class=\"mw-headline\">In OPB's Endpoint Credential Manager, create an endpoint credentials record for OO:</p>\n<ul>\n<li class=\"mw-headline\">Endpoint type: <strong>Operations Orchestration Domain</strong></li>\n<li class=\"mw-headline\">User name and Password: enter the user name and password of the integration user created in OO.</li>\n</ul>\n<h2 class=\"mw-headline\">Configure an OO endpoint</h2>\n<ol>\n<li>From the main menu, select <b>Administration</b> &gt; <b>Utilities</b> &gt; <b>Integration</b>.</li>\n<li>Click the <b>Endpoints</b> tab, and then click <b>Add</b> and enter the endpoint details:\n\t<ul>\n<li>Endpoint type: select <b>Operations Orchestration</b>.</li>\n<li>Endpoint name: enter a description. For example, you can enter the OO server hostname.</li>\n<li>Running on agent: select the OPB agent that you added.</li>\n</ul>\n</li>\n<li>Click <b>Add</b>.</li>\n<li>Configure the endpoint as given below.\n\t<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Endpoint name</td>\n<td>\n<p>The name of the endpoint. This field is read-only.</p>\n</td>\n</tr>\n<tr>\n<td>Location</td>\n<td>\n<p><span style=\"background-color: transparent;\">Enter the URL of the Operations Orchestration server in the format:</span></p>\n<p><code>http(s)://&lt;operations_orchestration_server&gt;:&lt;port&gt;</code></p>\n<p>For example: If <strong>&lt;server&gt;</strong> = myhost.mycompany.net, <strong>&lt;port&gt;</strong> = 8444, the URL will be <strong>https://myhost.mycompany.net:8444</strong>.</p>\n</td>\n</tr>\n<tr>\n<td>Credentials</td>\n<td>\n<p>The list of credentials is populated automatically. Service Management queries the OPB agent for the list of credential records that were created in the Endpoint Credentials Manager.</p>\n<p>If no credentials are received, there may be a problem with agent setup and authentication with Operations Orchestration.</p>\n<p>You must select a user account that has the following Content permissions: <b>View Content Packs</b>, <b>View Configuration Items</b>, <b>Manage Content Settings</b>, <b>Manage Content Packs</b>, and <b>Manage Configuration Items</b>.</p>\n</td>\n</tr>\n</tbody>\n</table>\n\tFor more information, see <a href=\"/doc/423/26.1/opbuseendpoints#OPB_ConfigureEndpoint\" title=\"SMAX:25.1/OpbUseEndpoints\">Configure an endpoint</a>.</li>\n<li>When the endpoint is configured, an automatic synchronization occurs, importing the Operations Orchestration content. If a change was made to the flow in Operations Orchestration after the endpoint was configured, you must perform the synchronization again manually. Click <b>Sync now</b> on the <b>Endpoints</b> tab.</li>\n</ol>\n<h2>Reuse existing OO endpoint</h2>\n<p>Use an existing OO endpoint to create a new OO endpoint and maintain all your previously existing configurations, like workflow mapping and offering, in your new endpoint. </p>\n<p>Use the following steps to create a new OO endpoint from an existing endpoint configuration:</p>\n<ol>\n<li>Note the details of the existing endpoint. Example Endpoint1, take Name=<strong>Name1</strong>, EndPointId=<strong>EndPointId1</strong>.</li>\n<li>Create a new endpoint, Endpoint2, and assign it to same OPB Agent as the existing endpoint. Example for the new endpoint: Name=<strong>Name2</strong>, EndPointId=<strong>EndPointId2</strong>.\n\t<div class=\"Admonition_Note\">\n<p><span class=\"autonumber\">Note</span>: Don't run any sync task on Endpoint2.</p>\n</div>\n</li>\n<li>Backup <strong>Endpoint1 </strong>data in database <strong>xservices_rms</strong> with the following commands.\n\t<pre>update maas_admin.\"OpbEndPointJSON_&lt;TenantID&gt;\" set body=JSONB_SET(body, '{EndPointId}', '\"EndPointId1_backup\"') where body-&gt;&gt;'EndPointId'='EndPointId1';\nupdate maas_admin.\"OpbEndPointJSON_&lt;TenantID&gt;\" set body=JSONB_SET(body, '{Name}', '\"Name1_backup\"') where body-&gt;&gt;'Name'='Name1';</pre>\n</li>\n<li>Update <strong>Endpoint2 </strong>information with <strong>Endpoint1</strong> for both Name and EndPointId.\n\t<pre>update maas_admin.\"OpbEndPointJSON_&lt;TenantID&gt;\" set body=JSONB_SET(body, '{Name}', '\"Name1\"') where body-&gt;&gt;'Name'='Name2'; \nupdate maas_admin.\"OpbEndPointJSON_&lt;TenantID&gt;\" set body=JSONB_SET(body, '{EndPointId}', '\"EndPointId1\"') where body-&gt;&gt;'EndPointId'='EndPointId2';\n</pre>\n</li>\n<li>Check your workflow and offerings to verify if the mapping exists. You can verify by navigating to <strong>Studio </strong>&gt; <strong>Process and Rules</strong> &gt; <strong>Rules, </strong>then<strong> </strong>expand the<strong> After change </strong>tab.<strong> </strong>Alternatively, you can also go to <strong>Offerings </strong>&gt; <strong>Service Offerings</strong> &gt; <strong>Task Plan</strong> to confirm the new mappings exist.</li>\n<li>Go to <strong>Endpoint</strong> and trigger sync task with the new endpoint. </li>\n<li>Confirm the workflow and offering mapping data are accurate.</li>\n<li>Run workflow and other tests to confirm the procedure was successful.</li>\n</ol>\n<p class=\"mw-headline\" id=\"Execute_OO_flows_from_SMAX\">Now, you are ready to run OO flows from Service Management. For details, see <a href=\"/doc/423/26.1/runooflows\">Run OO flows from Service Management</a>.</p>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/integrateoo\" title=\"SMAX:25.1/IntegrateOO\">Integration with Operations Orchestration</a></li>\n<li><a href=\"/doc/423/26.1/ooencrypt\" title=\"SMAX:25.1/OOEncrypt\">How to set up encryption for an Operations Orchestration integration</a></li>\n<li><a href=\"/doc/423/26.1/integrateoousecase\" title=\"SMAX:25.1/IntegrateOOUseCase\">Operations Orchestration integration use case</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}