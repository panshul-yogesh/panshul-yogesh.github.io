{
  "title": "Set up SaaS products for license compliance calculation",
  "content": "<div class=\"mw-parser-output\"><br/>\n<p>This page provides the following information about working with SaaS products in SAM:</p>\n<ul>\n<li>The overall SaaS product configuration process for license compliance calculation</li>\n<li>Guidelines for configuring integration scenarios for SaaS products that don't have predefined scenario templates</li>\n</ul>\n<h2>Importing data from SaaS products</h2>\n<p>To manage license compliance for SaaS products, you can import relevant data via integrations with SaaS products. SAM supports the following types of data import from SaaS product vendors:</p>\n<ul>\n<li>\n<p><strong>License import</strong></p>\n<p>If the SaaS product provides a \"Get license data\" API, you can use the API and the Local System <strong>Create or update license</strong> action to import license data into SAM.</p>\n</li>\n<li>\n<p><b>License consumption import</b> </p>\n<p>If the SaaS product provides a \"Get license usage data\" API that can return effective license points and license consumption data, you can use the API and the Local System <strong>Create license consumption</strong> action to import the data into SAM. SAM will then generate a compliance report based on the imported data.</p>\n</li>\n<li>\n<p><strong>User entitlement import</strong> </p>\n<p>If the SaaS product provides a \"Get user entitlement data\" API, you can use the API and the Local System <strong>Create or update user entitlement</strong> action to import the data into SAM. SAM will generate an optimization report based on whether the user is active (using the Service Management  person record's active status) and the last login date. If you don't import license consumption data, SAM will calculate license consumption based on the imported user entitlement and the effective license points retrieved from the license data.</p>\n</li>\n</ul>\n<h2 id=\"SaaSConfig\">SaaS product configuration process</h2>\n<p>To set up SaaS products for license compliance calculation, perform the following steps.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Step</p>\n</th>\n<th scope=\"col\">\n<p>Where</p>\n</th>\n<th scope=\"col\">Description</th>\n</tr>\n<tr>\n<td>\n<p>Register an application</p>\n</td>\n<td>\n<p>SaaS product portal</p>\n</td>\n<td>\n<p>As the first step in the integration process, register an application on the portal for the SaaS product. <span style=\"background-color: transparent;\">This generates tokens or credentials that can be used in the integration endpoint.</span></p>\n<p><span style=\"background-color: transparent;\">For </span><span style=\"background-color: transparent;\">how </span><span style=\"background-color: transparent;\">to </span><span style=\"background-color: transparent;\">register </span><span style=\"background-color: transparent;\">an </span><span style=\"background-color: transparent;\">application </span><span style=\"background-color: transparent;\">on </span><span style=\"background-color: transparent;\">the </span>SaaS<span style=\"background-color: transparent;\"> product </span><span style=\"background-color: transparent;\">portal, see the documentation of the </span>SaaS<span style=\"background-color: transparent;\"> product vendor.</span></p>\n</td>\n</tr>\n<tr>\n<td>\n<p id=\"Prepare_an_integration_user\">Prepare an integration user</p>\n</td>\n<td>Suite Administration</td>\n<td>Create a dedicated integration user for the integration.\n\t\t\t<p>See the <em>Prepare an integration user</em> section below for the procedure.</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Configure integration scenarios</p>\n</td>\n<td>\n<p>Integration Studio</p>\n</td>\n<td>\n<p>Configure an endpoint, an integration, and integration scenarios for importing license consumption-related data. See <a href=\"/doc/423/26.1/xieconfiguration\" title=\"Use the Integration Studio\">Use the engine</a> for the general procedure.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">To use the Integration Studio, including creating or configuring Integration Studio-related endpoints, integrations, and scenarios, you must have the <strong>Integration Administrator </strong>role.</div>\n</div>\n<p>Note that you can trigger the SAM-related integration scenario only through the <strong>Calculate</strong> or <strong>Scheduler</strong> button on the SaaS Products page, because only through these methods, SAM can pass the required context data to the SAM-related integration scenarios. You should <em>not</em> trigger the scenarios at this time.</p>\n<p><span style=\"background-color: transparent;\">To simplify the configuration process for some SaaS products, the Integration Studio provides the following scenario templates to help customers more easily create integration scenarios for the products. For how to set up the integrations with these SaaS products based on the scenario templates provided in the Integration Studio, see the following pages:</span></p>\n<ul>\n<li><a href=\"/doc/423/26.1/integratesamwithms365products\" title=\"Integrate with Microsoft 365 for SAM\">Integrate with Microsoft 365 for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithsalesforceproducts\" title=\"Integrate with Salesforce Sales Cloud for SAM\">Integrate with Salesforce Sales Cloud for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithlucidproducts\" title=\"Integrate with Lucid for SAM\">Integrate with Lucid for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithsmartsheet\" title=\"Integrate with Smartsheet for SAM\">Integrate with Smartsheet for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithasana\" title=\"Integrate with Asana for SAM\">Integrate with Asana for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithwebex\" title=\"Integrate with Webex for SAM\">Integrate with Webex for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithjira\" title=\"Integrate with Jira for SAM\">Integrate with Jira for SAM</a></li>\n<li><a href=\"/doc/423/26.1/integratesamwithzoom\" title=\"Integrate with Zoom for SAM\">Integrate with Zoom for SAM</a></li>\n<li>\n<p><a href=\"/doc/423/26.1/integratesamwithwrike\" title=\"Integrate SAM with Wrike\">Integrate SAM with Wrike</a></p>\n</li>\n</ul>\n<p>For other SaaS products that don't have scenario templates, refer to the <em>SaaS product integration scenario configuration guidelines</em> section below for guidelines.</p>\n</td>\n</tr>\n<tr>\n<td>Create SaaS products, license metrics, licenses</td>\n<td>SAM</td>\n<td>\n<p>Create and configure SaaS product records. <span style=\"background-color: transparent;\">See</span><a href=\"/doc/423/26.1/samproducts#Add/delete_a_SaaS_product\" style=\"background-color: transparent;\" title=\"Add/delete a SaaS product\"> Add/delete a SaaS product</a><span style=\"background-color: transparent;\">. During the configuration, select the integrations and scenarios configured in the previous step in the respective fields on the <strong>Settings</strong> tab.</span></p>\n<p>By default, new SaaS products use the generic user subscription license metrics. If you want to use a vendor-specific user subscription metrics for the SaaS product and the metrics doesn't exist, you need to create it. See <a href=\"/doc/423/26.1/createlicensetype\" title=\"Create a license metric record\">Create a license metric record</a>. Then assign the metrics to the SaaS product on the <strong style=\"background-color: transparent;\">Settings</strong><span style=\"background-color: transparent;\"> tab of the SaaS product. For details, see </span><a href=\"/doc/423/26.1/samproducts#Configure_the_settings_for_a_SaaS_product\" style=\"background-color: transparent;\" title=\"Configure the settings for a SaaS product\">Configure the settings for a SaaS product</a><span style=\"background-color: transparent;\">.</span></p>\n<p>If the SaaS product provides only the <em>Get user entitlement data</em> API, configure licenses for the services that make up the SaaS product so that SAM can have the required data for license compliance calculation. <span style=\"background-color: transparent;\">If the SaaS product provides </span><span style=\"background-color: transparent;\">a \"</span><em style=\"background-color: transparent;\">Get license</em><span style=\"background-color: transparent;\"> data\" API, you can configure an </span><strong style=\"background-color: transparent;\">Import license</strong><span style=\"background-color: transparent;\"> </span><span style=\"background-color: transparent;\">integration scenario and then select the scenario in the product's Settings tab. Then SAM will automatically create the license for you when calculating the compliance for the product. Note that the license created by the integration is in the <strong>New</strong> phase, and you need to move it (manually or through a workflow) to a proper phase as required.</span></p>\n</td>\n</tr>\n<tr>\n<td>Verify the SaaS product integration </td>\n<td>SAM</td>\n<td>\n<p>On the SaaS Products page, select the product, and then click the<strong> Calculate</strong> button to trigger the SAM-related integration scenarios. SAM will perform compliance calculations after the integration scenarios are executed.</p>\n<p>Verify that the integration scenarios and subsequent calculations performed by SAM are successfully completed by doing the following:</p>\n<ul>\n<li>\n<p>Check the execution history for the integration endpoint and make sure all scenario rules are successfully executed.</p>\n</li>\n<li>\n<p>Make sure the <strong>Calculation status</strong> column on the SaaS Products page has the value <em>Successful</em>.</p>\n</li>\n<li>\n<p>Click the notification icon in the upper-right corner to check the messages. Make sure the integration-related tasks for the SaaS product have a success message.</p>\n</li>\n<li>\n<p>Check the respective page (see the <em>Scenarios to configure for each SaaS product</em> section below) to see if the data has been imported.</p>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>Verify the details of the license models</td>\n<td>SAM</td>\n<td>\n<p>Check the license models associated with the services included in the SaaS product; if the license models don't have the license metric and product versions (services) assigned by the integration, manually assign them.</p>\n</td>\n</tr>\n<tr>\n<td>Schedule periodic triggering of integration scenarios</td>\n<td>SAM</td>\n<td>\n<p>On the SaaS Products page, select the product, and then click the<strong> Scheduler</strong> button to schedule the triggering of the SAM-related integration scenarios and subsequent calculations.</p>\n<p>See <a href=\"/doc/423/26.1/samproducts#scheduler\" title=\"Configure a scheduler for the SaaS product\">Configure a scheduler for the SaaS product</a>.</p>\n</td>\n</tr>\n</thead>\n</table>\n<h3>Prepare an integration user</h3>\n<p><span id=\"cke_bm_20010C\" style=\"display: none;\"> </span></p>\n<p>Perform the following steps to prepare an integration user:</p>\n<ol>\n<li>\n<p>Create an integration user. See <a href=\"/doc/423/26.1/createuser\" title=\"How to create a user\">How to create an integration user</a>.</p>\n</li>\n<li>\n<p>Log in to Agent Interface as the tenant admin.</p>\n</li>\n<li>\n<p>Navigate to<strong> Administration </strong>&gt; <strong>Master Data </strong>&gt; <strong>People</strong>, locate the integration user, and then assign the <strong>Software Manager</strong> role to the user.</p>\n</li>\n</ol>\n<p><span id=\"cke_bm_20155C\" style=\"display: none;\"> </span></p>\n<h2 id=\"ScnGuideline\">SaaS product integration scenario configuration guidelines</h2>\n<p>A SaaS product integration scenario consists of the following rules:</p>\n<ol>\n<li>\n<p>A <a href=\"/doc/423/26.1/samxieactions#GetContext\" title=\"Integration Studio scenario rules for SAM\">Get context information rule</a> that defines an object (named as <em>Context</em> in this documentation) to hold the context data passed from SAM.</p>\n</li>\n<li>\n<p>A set of <i>data</i><em> import </em>rules to retrieve data from the SaaS product and create records in SAM by using the retrieved data. These rules implement the main logic of the scenario.</p>\n<p>The <em>Scenarios to configure for each SaaS product</em> section below provides more details about the <i>data </i><em>import </em>rules that you need to configure for different scenarios.</p>\n</li>\n<li>\n<p>An <a href=\"/doc/423/26.1/samxieactions#UpdateStatus\" title=\"Integration Studio scenario rules for SAM\">Update job status rule</a> to inform SAM users of the integration status. The rule writes notification messages that SAM users can see.</p>\n</li>\n</ol>\n<p>To make the system write correct notification messages, use the Integration Studio's Try-Catch rule blocks, and add the following rules in the blocks:</p>\n<ul>\n<li>In the <strong>Try</strong> block, add the <em>data import</em> rules followed by the <em>Update job status</em> rule. Since the <em>Update job status</em> rule is run only when all the <em>data import </em>rules are successfully completed, use this rule to write a success notification message for SAM. The rule's <em>Job status</em> parameter should have the value <code>'COMPLETED_SUCCESS'</code> and the <em>Result </em>parameter should have a string value that indicates successful execution (such as <code>'Successful'</code>).</li>\n<li>In the <strong>Catch</strong> block,  add only an <em>Update job status</em> rule. Since the rule is run only when some of the <em>Import data from SaaS product</em> rules in the Try block fail, use this rule to write an error message for SAM. The rule's <em>Job status</em> parameter should have the value <code>'FAILED'</code> and the <em>Result</em> parameter should have a string value that indicates execution failure (such as <code>'The integration failed'</code>). </li>\n</ul>\n<h3>Scenarios to configure for each SaaS product</h3>\n<p>Configure one or more of the following scenarios for each SaaS product. Note that the scenarios have the common structure outlined above; the only difference for the scenarios is the data that each scenario imports. This section will focus only on the <em>data import </em>rules that import different data.</p>\n<p><strong>Import licenses</strong></p>\n<p>This scenario imports license data from the SaaS product.</p>\n<p>The scenario contains the following data import rules:</p>\n<ol>\n<li>A rule that calls the \"Get license data\" API (if available) from the SaaS product to retrieve license data. If there's an existing action for the SaaS product in Integration Studio for doing this, use that action. Otherwise, use a Generic connector action, typically the <i>Send a GET request (JSON)</i> action.</li>\n<li>A <a href=\"/doc/423/26.1/samxieactions#CreateLicenses\" title=\"Integration Studio scenario rules for SAM\">SAM / SaaS - Create or update license</a> rule, which creates license data in SAM.</li>\n</ol>\n<p>The outcome of this scenario is the generation of license data for product versions (services) that constitute the SaaS product. You can check the license data on the <strong>License</strong> tab for the SaaS product.</p>\n<p><strong>Import license consumption</strong></p>\n<p>This scenario imports license consumption data from the SaaS product.</p>\n<p>The scenario contains the following data import rules:</p>\n<ol>\n<li>A rule that calls the \"Get license consumption data\" API (if available) from the SaaS product to retrieve license consumption data. If there's an existing Integration Studio action for doing this, use that action. Otherwise, use a Generic connector action, typically the <i>Send a GET request (JSON)</i> action.</li>\n<li>A <a href=\"/doc/423/26.1/samxieactions#CreateConsumption\" title=\"Integration Studio scenario rules for SAM\">SAM / SaaS - Create license consumption</a> rule, which creates license consumption data in SAM.<br/>\n\tIf you have managed <a href=\"/doc/423/26.1/samconfigurations#Organization_compliance_scopes\" title=\"Organization compliance scopes\">Organization compliance scopes</a>, then when you import license consumption data, you may configure the <strong>Organization compliance scope</strong> parameter and import data for each scope in scenario. </li>\n</ol>\n<p>The outcome of this scenario is the generation of compliance data for product versions (services) that constitute the SaaS product. You can check the compliance data on the Compliance page (<strong>General</strong> tab) for the SaaS product.</p>\n<p><strong>Import user entitlement</strong></p>\n<p>This scenario imports user entitlement data from the SaaS product. If no \"import license consumption\" scenario is configured for the SaaS product, SAM will calculate license compliance based on the imported user entitlement data.</p>\n<p>The scenario contains the following <i>data </i><em>import </em>rules:</p>\n<ol>\n<li>A <a href=\"/doc/423/26.1/samxieactions#InitEntitlement\" title=\"Integration Studio scenario rules for SAM\">SAM / SaaS - Initialize user entitlement</a> rule.</li>\n<li>One or more rules for retrieving user entitlement data from the SaaS product. If the Integration Studio provides an action for doing this, use that action in the corresponding connector. Otherwise, use a Generic connector action, typically the <i>Send a GET request (JSON)</i> action.</li>\n<li>A <a href=\"/doc/423/26.1/samxieactions#CreateEntitlement\" title=\"Integration Studio scenario rules for SAM\">SAM / SaaS - Create or update user entitlement</a> rule. <br/>\n\tIf you have managed <a href=\"/doc/423/26.1/samconfigurations#Organization_compliance_scopes\" title=\"Organization compliance scopes\">Organization compliance scopes</a>, then when you import user entitlement data from the SaaS product, you may configure the <strong>Organization compliance scope</strong> parameter and import data for each scope in scenario. </li>\n</ol>\n<p>The outcome of this scenario is the generation of user entitlement data for the SaaS product. You can check the user entitlement data on the Analysis page (<strong>User entitlement</strong> tab) for the SaaS product.</p>\n<div> </div>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}