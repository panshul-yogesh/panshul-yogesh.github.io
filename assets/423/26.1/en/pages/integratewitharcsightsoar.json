{
  "title": "Integration Studio—ArcSight SOAR integration",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><h2>Overview</h2><p>This topic presents an illustrated set of integration use cases between SMAX and ArcSight SOAR:</p><ul><li>Security case to Incident</li></ul><p>The use cases in a nutshell:<br/><a class=\"image\" href=\"/file/images/a/a0/ArcSight1.png\" title=\"/file/images/a/a0/ArcSight1.png\"><img alt=\"ArcSight1.png\" border=\"0\" file=\"/mediawiki/images/a/a0/ArcSight1.png\" height=\"330\" hspace=\"0\" src=\"../../../images/ArcSight1_006c3e9c.png\" style=\"width: 800px; height: 330px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Intg_Disclaimer|N\"></span><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\" data-reuse-section-begin=\"3f8dcb4f\" data-reuse-section-end=\"3f8dcb4f\">The integration use cases described in this document serve as examples to inspire and guide your integration efforts. However, they should not be considered as prescriptive or guaranteed solutions for your particular scenario. The examples may or may not be applicable for your license edition.</div></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Intg_Disclaimer|N\"></span><h3>Use case 1: Update cases in ArcSight SOAR</h3><p>Raising a security Incident in Service Management provides an option for a formal handling of a breach or vulnerability. </p><p>In this sample use case, a security officer is reviewing security alerts in ArcSight SOAR and decides to raise an Incident in Service Management for further investigations since he detected a new vulnerability. By raising the Security Incident, the security team can immediately perform risk analysis and drive implementation of permanent long-term security changes.</p><h4>Step 1: Incident Queue review</h4><p>Steve is reviewing his Incident queue and spots a new security Incident. This Incident just came in from the security management solution. Since it is a high priority incident, Steve takes immediate action.</p><p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/3/32/AS2_2.jpeg\" title=\"https://staging.docs.microfocus.com/file/images/3/32/AS2_2.jpeg\"><img alt=\"AS2_2.jpeg\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/32/AS2_2.jpeg\" height=\"444\" hspace=\"0\" src=\"../../../images/AS2_2_5ca89a8e.jpeg\" style=\"width: 800px; height: 444px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><h4>Step 2: Update the Incident in Service Management</h4><p>Steve is updating the status and the priority and informs the security officers that the incident is being worked on. The status, priority, and comment go back to the security management system.</p><p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/4/40/AS3_new.png\" title=\"https://staging.docs.microfocus.com/file/images/4/40/AS3_new.png\"><img alt=\"AS3_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/4/40/AS3_new.png\" height=\"478\" hspace=\"0\" src=\"../../../images/AS3_new_fc7867ff.png\" style=\"width: 800px; height: 478px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/e/ee/AS4_new.png\" title=\"https://staging.docs.microfocus.com/file/images/e/ee/AS4_new.png\"><img alt=\"AS4_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/e/ee/AS4_new.png\" height=\"380\" hspace=\"0\" src=\"../../../images/AS4_new_2a693df0.png\" style=\"width: 800px; height: 380px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p>The update is sent to ArcSight SOAR to keep the team informed. </p><p><a class=\"image\" href=\"/file/images/5/59/AS5.png\" title=\"/file/images/5/59/AS5.png\"><img alt=\"AS5.png\" border=\"0\" file=\"/mediawiki/images/5/59/AS5.png\" height=\"426\" hspace=\"0\" src=\"../../../images/AS5_60e73e89.png\" style=\"width: 800px; height: 426px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p>The security officer adds a comment for the Incident analyst in Service Management.</p><p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/5/5c/AS6_new.png\" title=\"https://staging.docs.microfocus.com/file/images/5/5c/AS6_new.png\"><img alt=\"AS6_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/5/5c/AS6_new.png\" height=\"449\" hspace=\"0\" src=\"../../../images/AS6_new_26a2f4cc.png\" style=\"width: 800px; height: 449px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><h4>Step 3: Resolve the Incident in Service Management</h4><p>Steve resolves the Incident in Service Management.<br/><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/7/7b/AS7_new.png\" title=\"https://staging.docs.microfocus.com/file/images/7/7b/AS7_new.png\"><img alt=\"AS7_new.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/7/7b/AS7_new.png\" height=\"442\" hspace=\"0\" src=\"../../../images/AS7_new_841cc406.png\" style=\"width: 800px; height: 442px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p>The case status in ArcSight SOAR is changed to Resolved.</p><p><a class=\"image\" href=\"/file/images/8/8d/AS8.png\" title=\"/file/images/8/8d/AS8.png\"><img alt=\"AS8.png\" border=\"0\" file=\"/mediawiki/images/8/8d/AS8.png\" height=\"472\" hspace=\"0\" src=\"../../../images/AS8_815da6b6.png\" style=\"width: 800px; height: 472px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><h2>Set up the integration</h2><h3>Configuration in ArcSight</h3><p>Since the integration is initiated by ArcSight, please follow the documentation from ArcSight on how to set up the integration. The documentation can be found in the Marketplace. See the <a href=\"https://marketplace.opentext.com/cybersecurity/content/integration-smax\" title=\"ArcSight SOAR\">ArcSight SOAR</a>.</p><h3>Configuration in Service Management</h3><p>As an example, the procedure below will set up the integration to implement the “Update case” use case. This procedure consists of steps that you must perform in Service Management.</p><h4>Prepare integration user</h4><p>Perform the following steps to prepare an integration user: </p><ol><li><p>Create an integration user. See <a href=\"/doc/423/26.1/createuser\" title=\"How to create an integration user\">How to create an integration user</a>.</p></li><li><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Setup1|N\"></span><p>Log in to the Agent Portal as the tenant admin, and do the following:</p><ul><li><p>Navigate to Administration &gt; Master Data &gt; People, locate the integration user, and assign the proper roles to access the required modules. Example: Incident Manager, Incident Analyst, and Incident Coordinator. The user must also have a role with the On-Premise Bridge/Integration Administrator permission. </p><p>Alternatively, assign the Tenant Admin role to grant general access.</p></li><li>(If not Tenant Admin) Navigate to Administration &gt; Master Data &gt; People &gt; Roles, and create a new role with Create, View, and Update permissions for the External reference and External system record types.</li></ul><div><a class=\"image\" href=\"/file/images/f/fd/US34.png\" title=\"/file/images/f/fd/US34.png\"><img alt=\"US34.png\" border=\"0\" file=\"/mediawiki/images/f/fd/US34.png\" height=\"69\" hspace=\"0\" src=\"../../../images/US34_bd26ece9.png\" style=\"width: 800px; height: 69px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></div><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|Setup1|N\"></span></li></ol><h4>Export the certificate from the ArcSight instance</h4><p>To connect to ArcSight, you will need to upload their root CA certificate in a later step. To get the certificate from ArcSight, you can export the certificate from the browser as base64 encoded to a file.</p><h4>Create an endpoint</h4><p>Create an endpoint using the Rest Executor 2.0 endpoint type:</p><ol><li>Log in to the Agent Portal as the tenant admin.</li><li>Navigate to Administration &gt; Utilities &gt; Integration &gt; Endpoints.</li><li>Click <strong>Add</strong>.</li><li>Select Rest Executor 2.0 as the endpoint type, enter a name for the endpoint, and then click <strong>Add</strong>. The system creates the endpoint.</li><li>Click <strong>Configure</strong> and complete the fields depending on whether the endpoint needs to use the OPB Agent.</li></ol><p>If the endpoint doesn't need to use the OPB Agent, complete these fields.</p><table><tbody><tr><th><p><b>Field</b></p></th><th><p><b>Value</b></p></th></tr><tr><td>Agent</td><td>Select Agentless for a direct connection to ArcSight.</td></tr><tr><td>Authentication type</td><td>Select <strong>Basic Authentication</strong>.</td></tr><tr><td>Protocol</td><td>Select <strong>https</strong>.</td></tr><tr><td>Base URL</td><td>Enter the base URL of the ArcSight system: https://&lt;FQDN&gt;</td></tr><tr><td>Username</td><td>Enter the API username of the integration user of the ArcSight system.</td></tr><tr><td>Password</td><td>Enter the API password of the integration user of the ArcSight system.<br/><strong>Note</strong>: This is not the user's password but instead use the API token for the integration user.</td></tr><tr><td>Confirm password</td><td>Re-enter the password.</td></tr><tr><td>Certificate type</td><td>Select <strong>X.509</strong>.</td></tr><tr><td>Certificate format</td><td>Select <strong>PEM</strong>.</td></tr><tr><td><p>Server certificate</p></td><td><p>Open the root CA certificate file of ArcSight system in a text editor, and then copy and paste the content to this field. If the content is invalid, an error occurs when you click<strong> Save </strong>in the next step. </p><p>The certificate content must resemble the following.</p><p><br/>\n\t\t\t-----BEGIN CERTIFICATE-----<br/>\n\t\t\tMIIF2TCCBMGgAwIBAgIQBMF1U8hY8bivE0+JHx922jANBgkqhkiG9w0BAQsFADBG<br/>\n\t\t\tMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRUwEwYDVQQLEwxTZXJ2ZXIg<br/>\n\t\t\tQ0EgMUIxDzANBgNVBAMTBkFtYXpvbjAeFw0yMTEwMTEwMDAwMDBaFw0yMjExMDky<br/>\n\t\t\tMzU5NTlaMBsxGTAXBgNVBAMTEHhpZS5pdHNtYS1uZy5vcmcwggEiMA0GCSqGSIb3<br/>\n\t\t\t1oIvQfpl2gj0S6JSJAYjJnY7HKCa7mkzBMiiXWI5aHMZfl1FsaNARM10LUpto61f<br/>\n\t\t\tIvk/SDNlOqVXuzGMTZkJBVZVmK5lNLvBB1Gk9+QlJ+SuUOW7FW2K5U+oQKWsHtvH<br/>\n\t\t\tC/DHn6yyhvqWes9q6A==<br/>\n\t\t\t-----END CERTIFICATE-----</p></td></tr></tbody></table><p>Example:</p><p><a class=\"image\" href=\"/file/images/7/7a/AS10.png\" title=\"/file/images/7/7a/AS10.png\"><img alt=\"AS10.png\" border=\"0\" file=\"/mediawiki/images/7/7a/AS10.png\" height=\"654\" hspace=\"0\" src=\"../../../images/AS10_f861fe2e.png\" style=\"width: 800px; height: 654px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p>If the endpoint needs to use the OPB Agent, complete these fields. </p><table><tbody><tr><th><p><b>Field</b></p></th><th><p><b>Value</b></p></th></tr><tr><td>Agent</td><td>Select the OPB agent that you have created.</td></tr><tr><td>Authentication type</td><td>Select <strong>Basic Authentication</strong>.</td></tr><tr><td>Protocol</td><td>Select <strong>https</strong>.</td></tr><tr><td>Base URL</td><td>Enter the base URL of the ArcSight system: https://&lt;FQDN&gt;</td></tr><tr><td>Credentials</td><td>Select the credentials record that you've created for the endpoint in the Endpoint Credentials Manager. </td></tr></tbody></table><h4>Create an integration</h4><p>Create an integration and configure one or more scenarios to define the business logic for forwarding tickets and synchronizing ticket updates to ArcSight. The ArcSight system has one predefined scenario template: Update case.</p><p>In the following steps, you'll create an integration with the pre-defined template.</p><ol><li>Navigate to <strong>Administration &gt; Utilities &gt; Integration &gt; Integration Studio</strong>.</li><li>Click <strong>New</strong>, enter the name of your integration, and then click <strong>Save</strong>. The system displays the Integration page.</li><li>In the Details section, configure the integration user you created for the current Service Management system and activate the integration.</li><li>In the Connector-Endpoint mappings section, click <strong>Add</strong> to add a mapping.</li><li>Select <strong>ArcSight SOAR</strong> (under <strong>OpenText</strong>) as the connector, select the ArcSight endpoint that you created earlier, and then enter an alias for the mapping.</li><li>Click <strong>Save</strong>.</li></ol><h4>Configure the scenarios</h4><p>Perform the following steps to add the scenarios to the integration:</p><ol><li>Click <strong>Add scenario</strong>. </li><li>Enter a name for the scenario. For example, <strong>Update case</strong>.</li><li>In the <strong>Template</strong> field, select<strong> Update case</strong> (under <strong>OpenText ArcSight SOAR</strong>) from the list. </li><li>Click <strong>Save </strong>to add the scenario. </li></ol><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-IntegrateJira|CommonTemplateNote|N\"></span><div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\"> Using templates will make the integration configuration easier than starting from scratch. If you don't select this option, you'll have to manually add your own logic, starting from a blank page.</div>\n</div>\n<p><br/>\n</p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-IntegrateJira|CommonTemplateNote|N\"></span><p>Use the following out-of-the-box scenarios for this integration. The following table describes the actions required for the scenario before you run the integration. </p><table><tbody><tr><th>Scenario name</th><th>Actions required before using the scenario </th></tr><tr><td>Update case </td><td>(Optional) Modify the parameters:\n\t\t\t<ul><li>RemoteSystem</li></ul></td></tr></tbody></table><h2>Use the scenarios</h2><h3>Use case 1 – Update cases in ArcSight SOAR</h3><p>To update cases in ArcSight SOAR directly from the SMAX Incident, follow the step documented here.</p><p>As the integration and endpoints are now set up, all you need to do is to create a business rule which triggers the integration based on your condition.</p><p>To trigger the integration, go to your studio entity &gt; Processes and Rules &gt; After applying changes, and add a new <strong>Call Integration Studio</strong> business rule. Select the “ArcSight SOAR” integration and the “Update case” scenario.</p><p><a class=\"image\" href=\"https://staging.docs.microfocus.com/file/images/8/8e/ASSUC.png\" title=\"https://staging.docs.microfocus.com/file/images/8/8e/ASSUC.png\"><img alt=\"ASSUC.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/8/8e/ASSUC.png\" height=\"275\" hspace=\"0\" src=\"../../../images/ASSUC_f7234d73.png\" style=\"width: 800px; height: 275px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/></a></p><p>The condition in this example is:<br/><code>${(current_update.Comments.IsChanged || current_update.Status.IsChanged || current_update.Priority.IsChanged) &amp;&amp; lookup('ExternalReference','RemoteSystem','EntityType','Incident','EntityId',entity.Id,'RemoteSystem','soar')=='soar' &amp;&amp; current_user.Upn!='intJan'}</code></p><p>This means that the integration is triggered when:</p><ul><li>a comment is added</li><li>or the status changes</li><li>or the priority changes</li><li>and there is an external reference record for the Remote System <code>soar</code></li><li>and the update is not coming from the integration user configured in the Integration Studio</li></ul><div class=\"Admonition_Note\"><span class=\"autonumber\"><strong>Note</strong></span> The name of the RemoteSystem in the condition must match the name of RemoteSystem that is passed in from ArcSight. In case the name of the RemoteSystem is not <code>soar</code>, the condition as well as the Parameter in the integration scenario must be updated.</div></div><p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}