{
  "title": "Internal execution order of flows and steps",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>What happens when a flow is run? What happens when it reaches a step? What gets calculated first? Most authors ask themselves these questions sooner or later. This topic describes the OO execution engine's execution of flows and flow steps. It also gives a rich set of examples, each centered on specific cases and highlighted by application specific screenshots. The document can be read at once from start to finish or simply by identifying a specific case and focusing on it. Feel free to choose the option that better fits your needs.</p>\n<h2 class=\"mw-headline\" id=\"Introduction\">Introduction</h2>\n<p>Each OO flow consists of steps and connections between them.</p>\n<p><a class=\"image\" href=\"/file/images/6/67/oo_steps.png\" title=\"/file/images/6/67/oo_steps.png\"> <img alt=\"oo steps.png\" decoding=\"async\" height=\"119\" src=\"../../../images/oo_steps_4c595e0c.png\" width=\"496\"/> </a></p>\n<p>When we reach a step during execution, a set of micro steps are performed at the step level. The next section describes these steps and the order in which they're performed.</p>\n<h2 class=\"mw-headline\" id=\"Flow_step_execution\">Flow step execution</h2>\n<p>Each step is executed in the following order:</p>\n<ol>\n<li>\n<p>The inputs are read top down. (This includes variables that are called inside constant values, using the ${var} syntax.)</p>\n</li>\n<li>\n<p>The worker group is assigned.</p>\n</li>\n<li>\n<p>The action is performed.</p>\n</li>\n<li>\n<p>The action’s outputs are read top down. (In the case of an error, the step will end at this point.)</p>\n</li>\n<li>\n<p>If operation level scriptlets exist, they're executed.</p>\n</li>\n<li>\n<p>The step results are calculated. (Result filters are calculated here.)</p>\n</li>\n<li>\n<p>If step level scriptlets exist, they're executed now.</p>\n</li>\n<li>\n<p>The step ends.</p>\n</li>\n<li>\n<p>According to the response, a transition is made to the next step.</p>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Entire_flow_execution\">Entire flow execution</h2>\n<p>After looking at the details of each flow step, let’s look at the entire flow. Flows are executed in the following order:</p>\n<ol>\n<li>\n<p>The flow starts.</p>\n</li>\n<li>\n<p>Flow inputs are read.</p>\n</li>\n<li>\n<p>Flow steps are run.</p>\n</li>\n<li>\n<p>Flow outputs are read.</p>\n</li>\n<li>\n<p>If flow level scriptlets exist, they're executed.</p>\n</li>\n<li>\n<p>The flow’s primary output is calculated.</p>\n</li>\n<li>\n<p>If an <b>Acquire Lock</b> step was used within the flow and a <b>Release Lock</b> step wasn't, the locks are cleared at this stage.</p>\n</li>\n<li>\n<p>A check is done to ensure all the flow branches have ended.</p>\n</li>\n<li>\n<p>The flow ends.</p>\n</li>\n</ol>\n<h3 class=\"mw-headline\" id=\"How_locks_are_cleared\">How locks are cleared</h3>\n<p>The locks clearing step (step #7) clears all the OO system locks that have been acquired during the flow execution (except for locks acquired inside branches). Locks are also cleared if an exception occurs, or if execution stops.</p>\n<p>Note that the locks mentioned are based on out-of-the-box operations and flows that are part of the Solutions content pack.</p>\n<ol>\n<li>\n<p><code>/Micro Focus Solutions [2.0.0]/Library/Integrations/Micro Focus/Operations Orchestration/10.x/Acquire Lock</code></p>\n</li>\n<li>\n<p><code>/Micro Focus Solutions [2.0.0]/Library/Integrations/Micro Focus/Operations Orchestration/10.x/Release Lock</code></p>\n</li>\n<li>\n<p><code>/Micro Focus Solutions [2.0.0]/Library/Integrations/Micro Focus/Operations Orchestration/10.x/Wait For Lock</code></p>\n</li>\n</ol>\n<p>A community guide regarding the usage of locks is available <a class=\"external text\" href=\"https://marketplace.microfocus.com/itom/content/community-general-utilities%C2%A0\" rel=\"nofollow\" target=\"1\">here</a>.</p>\n<h3 class=\"mw-headline\" id=\"Subflow_execution\">Subflow execution</h3>\n<p>Since a subflow is a step that encapsulates an entire flow internally, the mechanism is identical to the one described above.</p>\n<h2 class=\"mw-headline\" id=\"Flows_containing_parallel_or_multi-instance_steps\">Flows containing parallel or multi instance steps</h2>\n<p>A parallel split step is a set of step sequences that are carried out simultaneously. Parallel split steps are best used for doing dissimilar things simultaneously and independently of each other.</p>\n<p>A multi instance step is a step that executes simultaneously on multiple targets. Multi instance steps are best used for doing the same thing simultaneously with different data on different targets.</p>\n<p>When the flow reaches a parallel/multi instance split step, the following execution order is performed:</p>\n<ol>\n<li>\n<p>The inputs are read.</p>\n</li>\n<li>\n<p>The parallel split is performed.</p>\n</li>\n<li>\n<p>A logical step that starts the branch (lane) is run.</p>\n</li>\n<li>\n<p>The lane’s steps are run in the same way as described in the “Flow step execution” topic above</p>\n</li>\n<li>\n<p>A logical step that ends the branch is run.</p>\n</li>\n<li>\n<p>The system checks that all the branches are done.</p>\n</li>\n<li>\n<p>The results from the separate lanes are merged.</p>\n</li>\n<li>\n<p>If the step contains a scriptlet, it's run now.</p>\n</li>\n<li>\n<p>The flow continues and ends as a simple flow, as described in the “Entire flow execution” topic above.</p>\n</li>\n</ol>\n<h2 id=\"How_can_knowing_Micro_Focus_OO’s_general_execution_assist_you?\"><span class=\"mw-headline\" id=\"How_can_knowing_Micro_Focus_OO.E2.80.99s_general_execution_assist_you.3F\">How can knowing OO’s general execution assist you?</span></h2>\n<p>We've created some examples that show how understanding the order of execution can make the difference between efficiency and endless trial and error.</p>\n<h3 id=\"Example_of_mixed_usage_of_a_scriptlet_in_the_result_filter,_a_scriptlet_in_the_operations_and_in_the_step\"><span class=\"mw-headline\" id=\"Example_of_mixed_usage_of_a_scriptlet_in_the_result_filter.2C_a_scriptlet_in_the_operations_and_in_the_step\">Example of mixed usage of a scriptlet in the result filter, a scriptlet in the operations, and the step</span></h3>\n<p>This is a short example showing how you can make use of operation step scriptlets and step scriptlets, as well as the benefits of having filtered results.</p>\n<p>This is what the example will showcase:</p>\n<p><b>Inputs are read</b>-&gt;<b>Operation level scriptlets are executed</b>-&gt;<b>Step results are calculated and filters are applied</b>-&gt;<b>Step level scriptlets are executed</b></p>\n<p>Let’s take the out-of-the-box Set Flow Variable operation and make use of it within a simple flow.</p>\n<p>The operation itself has an operation defined scriptlet as shown below:</p>\n<p><a class=\"image\" href=\"/file/images/0/07/operation_defined_scriptlet.png\" title=\"/file/images/0/07/operation_defined_scriptlet.png\"> <img alt=\"operation defined scriptlet.png\" decoding=\"async\" height=\"212\" src=\"../../../images/operation_defined_scriptlet_cf0917b8.png\" width=\"469\"/> </a></p>\n<p>We will place the operation in the flow and use it to:</p>\n<ol>\n<li>Define a flow variable called <b>parentFolder</b> that's used within the flow.</li>\n<li>Obtain a temporary folder called <b>timestampFolder</b> that's a result of this particular step.</li>\n<li>Create a global variable called <b>childFolder</b> that will be used outside of the flow.</li>\n</ol>\n<p>We called this step Set Folder Structure and we placed the inputs as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/0/07/set_Folder_Structure.png\" title=\"/file/images/0/07/set_Folder_Structure.png\"> <img alt=\"set Folder Structure.png\" decoding=\"async\" height=\"182\" src=\"../../../images/set_Folder_Structure_49fc0b50.png\" width=\"657\"/> </a></p>\n<p>We defined the results as shown below:</p>\n<p><a class=\"image\" href=\"/file/images/c/c8/set_Folder_Structure2.png\" title=\"/file/images/c/c8/set_Folder_Structure2.png\"> <img alt=\"set Folder Structure2.png\" decoding=\"async\" height=\"182\" src=\"../../../images/set_Folder_Structure2_5ba626c0.png\" width=\"441\"/> </a></p>\n<p>With a scriptlet as a result filter:</p>\n<p><a class=\"image\" href=\"/file/images/f/ff/set_Folder_Structure3.png\" title=\"/file/images/f/ff/set_Folder_Structure3.png\"> <img alt=\"set Folder Structure3.png\" decoding=\"async\" height=\"219\" src=\"../../../images/set_Folder_Structure3_34cca891.png\" width=\"605\"/> </a></p>\n<p>To make it more fun, we added a step level scriptlet that creates the desired global variable:</p>\n<p><a class=\"image\" href=\"/file/images/9/91/set_Folder_Structure4.png\" title=\"/file/images/9/91/set_Folder_Structure4.png\"> <img alt=\"set Folder Structure4.png\" decoding=\"async\" height=\"138\" src=\"../../../images/set_Folder_Structure4_2b5d3b39.png\" width=\"383\"/> </a></p>\n<p>For example, at runtime, we can end up with something like the one below.</p>\n<p><a class=\"image\" href=\"/file/images/1/16/context_Inspector.png\" title=\"/file/images/1/16/context_Inspector.png\"> <img alt=\"context Inspector.png\" decoding=\"async\" height=\"264\" src=\"../../../images/context_Inspector_ae434221.png\" width=\"331\"/> </a></p>\n<p>So what happens? In one single step:</p>\n<p>Note that <b>childFolder</b> can be accessed at upper levels while the others can be used within the current flow as expected.</p>\n<ol>\n<li>\n<p>A local variable is created: <b>parentFodler = C:\\</b></p>\n</li>\n<li>\n<p>A local variable is created, based on the filtered results of the step: <b>timestampFolder = C:\\&lt;timestampvalue&gt;</b></p>\n</li>\n<li>\n<p>A global variable is created with the help of the step level scriptlet: <b>childFolder = C:\\&lt;timestampvalue&gt;</b></p>\n</li>\n</ol>\n<h3 class=\"mw-headline\" id=\"Example_of_how_multi-instance_step_results_can_be_merged_together\">Example of how multi instance step results can be merged</h3>\n<p>This is a short example of how you can make use of understanding how multi instance steps are executed to merge the results and get real benefits.</p>\n<p>This is what the example will showcase:</p>\n<p><b>Lane split's performed</b>-&gt;<b>Lane Steps are executed</b>-&gt;<b>System checks for all lanes to be done</b>-&gt;The results from the separate lanes are merged</p>\n<p>We will place a multi instance step within the flow and we will use it to:</p>\n<ol>\n<li>Trigger and execute (acceptance) tests in parallel for multiple versions of an application under test.</li>\n<li>Merge the results of the tests for further usage.</li>\n</ol>\n<p>To achieve this, we created a multi instance step with several steps inside:</p>\n<p><a class=\"image\" href=\"/file/images/f/f7/multi_Instance_Steps.png\" title=\"/file/images/f/f7/multi_Instance_Steps.png\"> <img alt=\"multi Instance Steps.png\" decoding=\"async\" height=\"394\" src=\"../../../images/multi_Instance_Steps_89b2a628.png\" width=\"583\"/> </a></p>\n<p>On the multi instance (MI) step, we defined two inputs, both as List of Values (for ease of example, we defined the inputs as constant and already assigned default comma separated values).</p>\n<ol>\n<li><b>applicationToTest</b> = the application under test</li>\n<li><b>testSuite</b> = the tests to be executed for each application</li>\n</ol>\n<p><a class=\"image\" href=\"/file/images/7/7c/inspector_RunAcceptanceTests.png\" title=\"/file/images/7/7c/inspector_RunAcceptanceTests.png\"> <img alt=\"inspector RunAcceptanceTests.png\" decoding=\"async\" height=\"188\" src=\"../../../images/inspector_RunAcceptanceTests_a61b27e2.png\" width=\"671\"/> </a></p>\n<p>We then pass the above mentioned inputs to a step from within the MI step, the <b>Run Tests</b> step. See below.</p>\n<p><a class=\"image\" href=\"/file/images/f/f7/inspector_RunTests.png\" title=\"/file/images/f/f7/inspector_RunTests.png\"> <img alt=\"inspector RunTests.png\" decoding=\"async\" height=\"220\" src=\"../../../images/inspector_RunTests_ac80ad6a.png\" width=\"679\"/> </a></p>\n<p>This step triggers the actual tests and computes the results on the Results tab that we defined:</p>\n<p>Finally, it assigns the <b>testResult</b> to the Flow Variable.</p>\n<p><a class=\"image\" href=\"/file/images/6/68/inspector_RunTests2.png\" title=\"/file/images/6/68/inspector_RunTests2.png\"> <img alt=\"inspector RunTests2.png\" decoding=\"async\" height=\"192\" src=\"../../../images/inspector_RunTests2_2e060951.png\" width=\"697\"/> </a></p>\n<p>The interesting part is that we get back to the multi instance (MI) step and define a result on it too to gather all the parallel results.</p>\n<p><a class=\"image\" href=\"/file/images/6/69/inspector_RunAcceptanceTests2.png\" title=\"/file/images/6/69/inspector_RunAcceptanceTests2.png\"> <img alt=\"inspector RunAcceptanceTests2.png\" decoding=\"async\" height=\"194\" src=\"../../../images/inspector_RunAcceptanceTests2_14beee65.png\" width=\"571\"/> </a></p>\n<p>As you can see we <b>APPEND</b> values from the <b>testResult</b> (which was defined inside the MI step) and additionally format it as desired and end up with a <b>testResultList</b>, which is the merged results of the MI execution.</p>\n<p>For example, at runtime, we can end up with something like the one below.</p>\n<p><a class=\"image\" href=\"/file/images/3/3b/context_Inspector2.png\" title=\"/file/images/3/3b/context_Inspector2.png\"> <img alt=\"context Inspector2.png\" decoding=\"async\" height=\"218\" src=\"../../../images/context_Inspector2_b776bfae.png\" width=\"513\"/> </a></p>\n<p>So what happens? In the MI step defined above:</p>\n<ol>\n<li>\n<p>The inputs are read.</p>\n</li>\n<li>\n<p>The lanes are split in three. (We've three comma separated lists of values.)</p>\n</li>\n<li>\n<p>Lane steps are executed in parallel (in this case, <b>testSuite</b> is executed for the relevant <b>applicationToTest</b>).</p>\n<p>For example app-1.5.0 is tested using the test-1.5.0 suite.</p>\n</li>\n<li>\n<p>The system waits for all lanes to complete.</p>\n</li>\n<li>\n<p>The results are merged. (In this case, we end up with a comma separated list of <b>applicationToTest:testResult</b>.)</p>\n</li>\n</ol>\n<h3 class=\"mw-headline\" id=\"Example_of_how_parallel_step_results_can_be_merged_together\">Example of how parallel step results can be merged</h3>\n<p>This is a short example of how you can make use of understanding how parallel steps are executed to merge the results and get real benefits.</p>\n<p>This is what the example will showcase:</p>\n<p><b>Lane split's performed</b>-&gt;<b>Lane Steps are executed</b>-&gt;<b>System checks for all lanes to be done</b>-&gt;<b>The results from the separate lanes are merged</b>-&gt;<b>Parallel Step scriptlet is executed</b></p>\n<p>Note: The example is similar to the multi instance step example. We've added the scriptlet execution to show how knowing when things occur can simplify your authoring experience.</p>\n<p>We will place a parallel step within the flow and we will use it to:</p>\n<p>Get different details in parallel from a targeted VM.</p>\n<p>Compute a list of VM details.</p>\n<p>To achieve this, we created the following parallel step:</p>\n<p><a class=\"image\" href=\"/file/images/a/a7/VMID_Lane.png\" title=\"/file/images/a/a7/VMID_Lane.png\"> <img alt=\"VMID Lane.png\" decoding=\"async\" height=\"356\" src=\"../../../images/VMID_Lane_452e36e4.png\" width=\"405\"/> </a></p>\n<p>We added an input to control the targeted VM of all parallel lanes:</p>\n<p><a class=\"image\" href=\"/file/images/4/42/getVMData.png\" title=\"/file/images/4/42/getVMData.png\"> <img alt=\"getVMData.png\" decoding=\"async\" height=\"171\" src=\"../../../images/getVMData_c756f31c.png\" width=\"584\"/> </a></p>\n<p>We configured steps within the lanes with the relevant inputs and results. For example, the Get VM ID step has inputs and results as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/6/68/getVMID.png\" title=\"/file/images/6/68/getVMID.png\"> <img alt=\"getVMID.png\" decoding=\"async\" height=\"168\" src=\"../../../images/getVMID_2bef7183.png\" width=\"587\"/> </a></p>\n<p><a class=\"image\" href=\"/file/images/0/05/getVMID2.png\" title=\"/file/images/0/05/getVMID2.png\"> <img alt=\"getVMID2.png\" decoding=\"async\" height=\"199\" src=\"../../../images/getVMID2_7f01515f.png\" width=\"529\"/> </a></p>\n<p>Similarly, the <b>Get VM Disk Size</b> step has a result assigned to <b>Flow Variable</b> and named <b>VMDiskSize</b></p>\n<p>Interestingly, we get to the parallel step itself and create a simple step scriptlet to merge the parallel results.</p>\n<p><a class=\"image\" href=\"/file/images/8/8a/context_Inspector_GET_VMDATA.png\" title=\"/file/images/8/8a/context_Inspector_GET_VMDATA.png\"> <img alt=\"context Inspector GET VMDATA.png\" decoding=\"async\" height=\"197\" src=\"../../../images/context_Inspector_GET_VMDATA_0a6805b7.png\" width=\"347\"/> </a></p>\n<p>Thus, we take the results of the different lanes and merge them into a single result. At runtime, we end up with what's shown below.</p>\n<p><a class=\"image\" href=\"/file/images/f/fa/context_Inspector3.png\" title=\"/file/images/f/fa/context_Inspector3.png\"> <img alt=\"context Inspector3.png\" decoding=\"async\" height=\"352\" src=\"../../../images/context_Inspector3_6b6628ed.png\" width=\"541\"/> </a></p>\n<p>So what happens? In the parallel step defined above:</p>\n<ul>\n<li>The inputs are read.</li>\n<li>The lanes are split in two. (We manually defined two distinct lanes.)</li>\n<li>Lane steps are executed in parallel. (In this case, one lane gets the VM ID while another one gets VM Disk Size.)</li>\n<li>The system waits for all lanes to complete.</li>\n<li>The results are merged. (In this case, the parallel step context contains both the VMID and the VMDiskSize.)</li>\n<li>The parallel step scriptlet is executed. (In this case, the VMResult is created locally and globally.)</li>\n</ul>\n<h3 class=\"mw-headline\" id=\"Example_of_enhanced_variable_manipulation\">Example of enhanced variable manipulation</h3>\n<p>This is a short example of how you can make use of understanding the order of the inputs, outputs, results, and result in filter computation.</p>\n<p>This is what the example will showcase:</p>\n<p><b>The inputs are read</b>-&gt; <b>The outputs are read</b> -&gt; <b>The results are computed (result filters are applied)</b></p>\n<p>As an actual example, we will use a flow with several simple steps that will:</p>\n<ul>\n<li>Fetch raw data from a server in JSON format.</li>\n<li>Iterate through the JSON elements and format them according to your needs.</li>\n<li>Add the formatted data to the final report.</li>\n</ul>\n<p>Let’s say that for ease of example, the raw data from the server looks something like the below.</p>\n<pre><code>\n{\"executionId\":\"150000001\",\"status\":\"COMPLETED\",\"owner\":\"admin\",\"ownerDomain\":\"Internal\",\"executionName\":\"Demo01Scheduled\"},\n{\"executionId\":\"150000002\",\"status\":\"PAUSED\",\"owner\":\"qa\",\"ownerDomain\":\"Internal\",\"executionName\":\"Demo02\"},\n{\"executionId\":\"150000003\",\"status\":\"RUNNING\",\"owner\":\"dev\",\"ownerDomain\":\"LDAP\",\"executionName\":\"[DEBUG]Demo03\"}\n</code></pre>\n<p>Let’s say that what we want to achieve within the flow is to:</p>\n<ul>\n<li>Put <b>ownerDomain</b> and <b>owner</b> together in a single variable.</li>\n<li>Get rid of <b>executionName</b>.</li>\n<li>Get rid of all the tags and all the “” characters, except the <b>executionId</b> tag.</li>\n</ul>\n<p>In other words, the result will be something like what's shown below.</p>\n<pre><code>\n{executionId:150000001,COMPLETED,Internal\\admin},\n{executionId:150000002,PAUSED,Internal\\qa},\n{executionId:150000003,RUNNING,LDAP\\dev},\n</code></pre>\n<p>Of course, there are various ways to do this, but we will show you one way to achieve it by simply knowing the way step and flow execution occurs.</p>\n<p>Below are the flow steps we mentioned.</p>\n<p><a class=\"image\" href=\"/file/images/e/ed/flow_Steps.png\" title=\"/file/images/e/ed/flow_Steps.png\"> <img alt=\"flow Steps.png\" decoding=\"async\" height=\"321\" src=\"../../../images/flow_Steps_d6f6367b.png\" width=\"386\"/> </a></p>\n<p>In the Fetch Data step, we get the actual raw data as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/2/29/inspector_Fetch_Data.png\" title=\"/file/images/2/29/inspector_Fetch_Data.png\"> <img alt=\"inspector Fetch Data.png\" decoding=\"async\" height=\"191\" src=\"../../../images/inspector_Fetch_Data_0062c860.png\" width=\"634\"/> </a></p>\n<p>We pass <b>rawData</b> to the <b>Iterator</b> step to get each element one by one and pass it to the <b>Filter and Format Data</b> step.</p>\n<p><a class=\"image\" href=\"/file/images/0/0c/inspector_Iterate_Data.png\" title=\"/file/images/0/0c/inspector_Iterate_Data.png\"> <img alt=\"inspector Iterate Data.png\" decoding=\"async\" height=\"177\" src=\"../../../images/inspector_Iterate_Data_0f8c08a2.png\" width=\"615\"/> </a></p>\n<p>Thus, we get the raw data and extract elements one by one in a so called <b>rowData</b> variable as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/d/d7/inspector_Iterate_Data2.png\" title=\"/file/images/d/d7/inspector_Iterate_Data2.png\"> <img alt=\"inspector Iterate Data2.png\" decoding=\"async\" height=\"196\" src=\"../../../images/inspector_Iterate_Data2_690fbe41.png\" width=\"634\"/> </a></p>\n<p><a class=\"image\" href=\"/file/images/f/f3/inspector_Filter_Format_Data5.png\" title=\"/file/images/f/f3/inspector_Filter_Format_Data5.png\"> <img alt=\"inspector Filter Format Data5.png\" decoding=\"async\" height=\"158\" src=\"../../../images/inspector_Filter_Format_Data5_1fed2ed6.png\" width=\"600\"/> </a></p>\n<p>The interesting part is on the Results tab for Filter and Format Data.</p>\n<p><a class=\"image\" href=\"/file/images/b/bf/inspector_Filter_Format_Data6.png\" title=\"/file/images/b/bf/inspector_Filter_Format_Data6.png\"> <img alt=\"inspector Filter Format Data6.png\" decoding=\"async\" height=\"245\" src=\"../../../images/inspector_Filter_Format_Data6_bb17b840.png\" width=\"637\"/> </a></p>\n<p>As you can see, we filter <b>field1</b> (which gets <b>rowData</b>) to extract values of interest–in this case, <b>owner</b>, <b>ownerDomain,</b> and <b>executionName</b>.</p>\n<p>Afterward, we create a <b>finalDetails</b> variable that gets data from the very same <b>field1</b> and we filter this one with the help of the other results that were already defined on the same tab. Note that it's important to place this variable at the end of the list.</p>\n<p>Thus, the filters on the <b>finalDetails</b> variable look something like this:</p>\n<p><a class=\"image\" href=\"/file/images/1/15/inspector_Filter_Format_Data3.png\" title=\"/file/images/1/15/inspector_Filter_Format_Data3.png\"> <img alt=\"inspector Filter Format Data3.png\" decoding=\"async\" height=\"278\" src=\"../../../images/inspector_Filter_Format_Data3_3e8b4e3d.png\" width=\"464\"/> </a></p>\n<p>We put <b>owner</b> and <b>ownerDomain</b> together as shown above.</p>\n<p><a class=\"image\" href=\"/file/images/4/42/inspector_Filter_Format_Data4.png\" title=\"/file/images/4/42/inspector_Filter_Format_Data4.png\"> <img alt=\"inspector Filter Format Data4.png\" decoding=\"async\" height=\"284\" src=\"../../../images/inspector_Filter_Format_Data4_d09d5631.png\" width=\"448\"/> </a></p>\n<p>We replace the ownerDomain completely as shown above.</p>\n<p>Eventually, the flow achieves all the other things we mentioned in the beginning.</p>\n<p>Thus, at runtime, we end up with what's shown below.</p>\n<p><a class=\"image\" href=\"/file/images/6/6d/context_Inspector4.png\" title=\"/file/images/6/6d/context_Inspector4.png\"> <img alt=\"context Inspector4.png\" decoding=\"async\" height=\"235\" src=\"../../../images/context_Inspector4_56c60b41.png\" width=\"644\"/> </a></p>\n<p>So what happens? On the <b>Filter and Format Data</b> step:</p>\n<ol>\n<li>\n<p>The inputs are read. (<b>field1</b> gets the value from the <b>rowData</b> variable.)</p>\n</li>\n<li>\n<p>The outputs are read. (In this case, <b>field1</b> is output too and we can use it in the <b>Results</b> tab to pass its value to the relevant ‘intermediary’ results.)</p>\n</li>\n<li>\n<p>The results are computed so that:</p>\n<ol>\n<li>The value from the origin is assigned.</li>\n<li>The value is filtered according to the defined filters.</li>\n<li>Any result that's already computed is available to be used on the next result filter. (The finalDetails filter uses ${} variables defined before on the same Results tab).</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"Example_of_encapsulating_steps_to_sub-flows_and_make_use_of_a_flow’s_primary_output\"><span class=\"mw-headline\" id=\"Example_of_encapsulating_steps_to_sub-flows_and_make_use_of_a_flow.E2.80.99s_primary_output\">Example of encapsulating steps to subflows and making use of a flow’s primary output</span></h3>\n<p>This is a short example of how you can make use of understanding how flow outputs work in a general flow and sub-flow usage.</p>\n<p>This is what the example will showcase:</p>\n<p><b>Flow inputs are read</b>-&gt;<b>Sub-flow inputs are read</b>-&gt;<b>Sub-flow primary output is being computed</b>-&gt;<b>Sub-flow results are computed</b></p>\n<p>We will take the default flow in the previous example and replace one of its steps with a new flow that we create from scratch.</p>\n<p>Remember we had a step called <b>Filter and Format Data</b> with proper logic inside that allowed us to take one raw input and transform it into a formatted result. Of course, that was good as such, but not enough. Now we want to let other authors benefit from the logic we defined while not being exposed to it.</p>\n<p>For this, we will create an additional flow as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/6/64/filter_Format_Data.png\" title=\"/file/images/6/64/filter_Format_Data.png\"> <img alt=\"filter Format Data.png\" decoding=\"async\" height=\"127\" src=\"../../../images/filter_Format_Data_5de0d250.png\" width=\"273\"/> </a></p>\n<p>We will define a single flow level input because this is what we will eventually need.</p>\n<p><a class=\"image\" href=\"/file/images/9/98/format_Data_Flow.png\" title=\"/file/images/9/98/format_Data_Flow.png\"> <img alt=\"format Data Flow.png\" decoding=\"async\" height=\"222\" src=\"../../../images/format_Data_Flow_d5413c5c.png\" width=\"645\"/> </a></p>\n<p>The flow level input will be passed to the formatted step.</p>\n<p><a class=\"image\" href=\"/file/images/f/f3/inspector_Filter_Format_Data5.png\" title=\"/file/images/f/f3/inspector_Filter_Format_Data5.png\"> <img alt=\"inspector Filter Format Data5.png\" decoding=\"async\" height=\"158\" src=\"../../../images/inspector_Filter_Format_Data5_1fed2ed6.png\" width=\"600\"/> </a></p>\n<p>The results of the Filter and Format Data step will remain the same with a single important modification. We will change the finalDetails result and assign it to a flow output field as below</p>\n<p><a class=\"image\" href=\"/file/images/4/49/inspector_Filter_Format_Data2.png\" title=\"/file/images/4/49/inspector_Filter_Format_Data2.png\"> <img alt=\"inspector Filter Format Data2.png\" decoding=\"async\" height=\"241\" src=\"../../../images/inspector_Filter_Format_Data2_6e14d622.png\" width=\"632\"/> </a></p>\n<p>Next, we will go back to the <b>Format Data Flow</b> step and:</p>\n<ol>\n<li>Define a flow output. (In this case, <b>formattedData</b> gets value from the previously defined output field.)</li>\n<li>Extract the primary output from the desired data. (In this case, the <b>finalDetails</b> output field.)</li>\n</ol>\n<p><a class=\"image\" href=\"/file/images/4/44/format_Data_Flow2.png\" title=\"/file/images/4/44/format_Data_Flow2.png\"> <img alt=\"format Data Flow2.png\" decoding=\"async\" height=\"303\" src=\"../../../images/format_Data_Flow2_4214437a.png\" width=\"582\"/> </a></p>\n<p>Now we're ready to use the new flow in the default (parent) flow (see the previous example for more details).</p>\n<p><a class=\"image\" href=\"/file/images/5/57/filter_Format_Data2.png\" title=\"/file/images/5/57/filter_Format_Data2.png\"> <img alt=\"filter Format Data2.png\" decoding=\"async\" height=\"326\" src=\"../../../images/filter_Format_Data2_4832c4d1.png\" width=\"379\"/> </a></p>\n<p>Note the changed <b>Filter and Format Data Flow</b> step.</p>\n<p>This step now has a different input and a different result from what it used to have, meaning</p>\n<p><a class=\"image\" href=\"/file/images/f/fb/inspector_Filter_Format_Data7.png\" title=\"/file/images/f/fb/inspector_Filter_Format_Data7.png\"> <img alt=\"inspector Filter Format Data7.png\" decoding=\"async\" height=\"154\" src=\"../../../images/inspector_Filter_Format_Data7_4b825cfe.png\" width=\"567\"/> </a></p>\n<p><b>rowData</b> from the Otherwise section is the flow level input we defined earlier that we want to get passed to the step input.</p>\n<p><a class=\"image\" href=\"/file/images/8/8e/inspector_Filter_Format_Data8.png\" title=\"/file/images/8/8e/inspector_Filter_Format_Data8.png\"> <img alt=\"inspector Filter Format Data8.png\" decoding=\"async\" height=\"190\" src=\"../../../images/inspector_Filter_Format_Data8_16f7e823.png\" width=\"597\"/> </a></p>\n<p><b>formattedData</b> is the flow level output we defined.</p>\n<p>As you can see, instead of having five results on this step, we now have one and all the logic occurs in the sub-flow. Thus, we're no longer exposed to it.</p>\n<p>Additionally, you can make use of the primary output, and in the next step, (in this case, <b>Add Data to Report</b>) simply collect data using the <b>Use Previous Step Result</b> option.</p>\n<p><a class=\"image\" href=\"/file/images/0/02/inspector_Add_Data_Report.png\" title=\"/file/images/0/02/inspector_Add_Data_Report.png\"> <img alt=\"inspector Add Data Report.png\" decoding=\"async\" height=\"153\" src=\"../../../images/inspector_Add_Data_Report_8951b6e0.png\" width=\"583\"/> </a></p>\n<p>At runtime, we end up with what's shown below.</p>\n<p><a class=\"image\" href=\"/file/images/2/23/step_Result_Inspector.png\" title=\"/file/images/2/23/step_Result_Inspector.png\"> <img alt=\"step Result Inspector.png\" decoding=\"async\" height=\"278\" src=\"../../../images/step_Result_Inspector_26541364.png\" width=\"594\"/> </a></p>\n<p><a class=\"image\" href=\"/file/images/3/37/context_Inspector5.png\" title=\"/file/images/3/37/context_Inspector5.png\"> <img alt=\"context Inspector5.png\" decoding=\"async\" height=\"185\" src=\"../../../images/context_Inspector5_01b87da6.png\" width=\"594\"/> </a></p>\n<p>So what happens? When the run reaches the <b>Filter and Format Data Flow</b> step:</p>\n<ol>\n<li>The inputs are read. (<b>rowData</b> gets the relevant value).</li>\n<li>The steps of the flow are run:\n\t<ol>\n<li>The finalDetails output field is computed on the first step.</li>\n<li>The flow outputs are computed; thus, <b>formattedData</b> gets the value from <b>finalDetails</b>.</li>\n<li>The primary output is computed too; thus, getting the value from <b>finalDetails</b>.</li>\n</ol>\n</li>\n<li>The <b>Filter and Format Data Flow</b> ends; thus, we end up with <b>formattedData</b> available now for the default (parent) flow.</li>\n<li>The <b>formattedData</b> result is computed and considering that we've no filter on it, the value is attributed as such.</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Flow_level_inputs_in_Studio_and_Central\">Flow level inputs in Studio and Central</h2>\n<p>In this section, we look at how to flow level inputs are treated at runtime or trigger time both in Studio and in Central. First, we will give an overview of the input, in particular around the ways you can configure them at authoring time. There are a few things that are worth mentioning from the beginning. Inputs can be any of the following:</p>\n<p><a class=\"image\" href=\"/file/images/3/32/inputs_Flow_Chart.PNG\" title=\"/file/images/3/32/inputs_Flow_Chart.PNG\"> <img alt=\"inputs Flow Chart.PNG\" decoding=\"async\" height=\"571\" src=\"../../../images/inputs_Flow_Chart_c3c3e95d.png\" width=\"573\"/> </a></p>\n<p>Let’s see by example.</p>\n<h3 class=\"mw-headline\" id=\"Example_of_Single_Value_vs_List_of_Values_as_Prompts\">Example of Single Value vs List of Values as Prompts</h3>\n<p>In this example, we create a flow and define two flow inputs as shown below. Because Assign From is kept as &lt;not assigned&gt;, both inputs will take their values from the Otherwise section. In this case, this is set to prompt the user from a selection list that's available in OO Studio as part of the out-of-the-box Base content pack.</p>\n<p><a class=\"image\" href=\"/file/images/0/07/single_Value_list.png\" title=\"/file/images/0/07/single_Value_list.png\"> <img alt=\"single Value list.png\" decoding=\"async\" height=\"124\" src=\"../../../images/single_Value_list_51c29d66.png\" width=\"633\"/> </a></p>\n<p><a class=\"image\" href=\"/file/images/8/8b/single_Value_list2.png\" title=\"/file/images/8/8b/single_Value_list2.png\"> <img alt=\"single Value list2.png\" decoding=\"async\" height=\"166\" src=\"../../../images/single_Value_list2_a5eb766f.png\" width=\"635\"/> </a></p>\n<p>In Studio, at runtime, you end up with two prompted inputs. One will allow the selection of a single value while the other one will allow the tselection of multiple values.</p>\n<p><a class=\"image\" href=\"/file/images/f/f5/statusMessage.png\" title=\"/file/images/f/f5/statusMessage.png\"> <img alt=\"statusMessage.png\" decoding=\"async\" height=\"145\" src=\"../../../images/statusMessage_7d307804.png\" width=\"362\"/> </a></p>\n<p>In Central, at trigger time, you end up with a similar situation. Thus, the inputs can be controlled in a similar way.</p>\n<p><a class=\"image\" href=\"/file/images/c/cc/VB_Script.png\" title=\"/file/images/c/cc/VB_Script.png\"> <img alt=\"VB Script.png\" decoding=\"async\" height=\"195\" src=\"../../../images/VB_Script_32f682b0.png\" width=\"455\"/> </a></p>\n<p>Note that by using the CTRL or SHIFT keys, you can select multiple values for the <b>List Of Values</b> input.</p>\n<h3 id=\"Example_of_Assign_From_with_Otherwise_as_Constant_vs_&lt;not_assigned&gt;_with_Otherwise_as_Constant\"><span class=\"mw-headline\" id=\"Example_of_Assign_From_with_Otherwise_as_Constant_vs_.3Cnot_assigned.3E_with_Otherwise_as_Constant\">Example of Assign From with Otherwise as Constant vs &lt;not assigned&gt; with Otherwise as Constant</span></h3>\n<p>In this example, we create a flow and define two flow level inputs as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/a/aa/assignFromAndConstant.png\" title=\"/file/images/a/aa/assignFromAndConstant.png\"> <img alt=\"assignFromAndConstant.png\" decoding=\"async\" height=\"121\" src=\"../../../images/assignFromAndConstant_49881693.png\" width=\"627\"/> </a></p>\n<p>Note that one can get its value either from Assign From or the constant while the other one gets the value directly from the constant.</p>\n<p>In Studio, at runtime, you aren't prompted for any inputs and you end up with both inputs being initialized to their constant values.</p>\n<p><a class=\"image\" href=\"/file/images/a/a0/context_Inspector6.png\" title=\"/file/images/a/a0/context_Inspector6.png\"> <img alt=\"context Inspector6.png\" decoding=\"async\" height=\"125\" src=\"../../../images/context_Inspector6_b323105a.png\" width=\"311\"/> </a></p>\n<p>In Central, at trigger time, (either go to <b>Content Management &gt; Flow Library</b> and trigger a run for the flow or go to <b>Run Management &gt; Flow Launcher</b> and select the same flow), you will end up with one input being prompted, and its value already filled in with the constant one defined in Studio. This is the design and the expected behavior.</p>\n<p><a class=\"image\" href=\"/file/images/e/ef/runFlow.png\" title=\"/file/images/e/ef/runFlow.png\"> <img alt=\"runFlow.png\" decoding=\"async\" height=\"219\" src=\"../../../images/runFlow_3f5207b6.png\" width=\"551\"/> </a></p>\n<p>In Central, at runtime, if you run the flow as such, both inputs will resolve to their constant values. Of course, if you alter the above input, the altered value will be assigned to it.</p>\n<h3 class=\"mw-headline\" id=\"Example_of_Assign_From_when_the_variable_set_exists_vs_when_the_variable_set_does_not_exist\">Example of Assign From when the variable set exists vs when the variable set doesn't exist</h3>\n<p>In this example, we create a flow and define two flow level inputs as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/e/ef/assignFromAndVariable.png\" title=\"/file/images/e/ef/assignFromAndVariable.png\"> <img alt=\"assignFromAndVariable.png\" decoding=\"async\" height=\"123\" src=\"../../../images/assignFromAndVariable_a6fc8f5d.png\" width=\"621\"/> </a></p>\n<p>We've two inputs taking values from <b>var1</b> and <b>var2</b> or <b>otherwise</b> going into a prompt for the user.</p>\n<p>We will make sure that at runtime, <b>var1</b> will exist while <b>var2</b> won't. Because we're discussing flow level inputs, the easiest way to achieve that's by actually creating a system property called <b>var1</b> as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/9/97/sysProperty1.png\" title=\"/file/images/9/97/sysProperty1.png\"> <img alt=\"sysProperty1.png\" decoding=\"async\" height=\"188\" src=\"../../../images/sysProperty1_dbca82b8.png\" width=\"489\"/> </a></p>\n<p>In Studio, at runtime, you will be prompted for one input only.</p>\n<p><a class=\"image\" href=\"/file/images/4/4b/statusMessage2.png\" title=\"/file/images/4/4b/statusMessage2.png\"> <img alt=\"statusMessage2.png\" decoding=\"async\" height=\"95\" src=\"../../../images/statusMessage2_cc72ae05.png\" width=\"365\"/> </a></p>\n<p>In Central, at trigger time, you will be prompted for no input.</p>\n<p><a class=\"image\" href=\"/file/images/6/6b/runFlow2.png\" title=\"/file/images/6/6b/runFlow2.png\"> <img alt=\"runFlow2.png\" decoding=\"async\" height=\"185\" src=\"../../../images/runFlow2_811ed692.png\" width=\"551\"/> </a></p>\n<p>In Central, at runtime, you will be prompted for the input with the <b>Assign From</b> value not being initialized.</p>\n<p><a class=\"image\" href=\"/file/images/3/36/assignFromAndVariable2.png\" title=\"/file/images/3/36/assignFromAndVariable2.png\"> <img alt=\"assignFromAndVariable2.png\" decoding=\"async\" height=\"146\" src=\"../../../images/assignFromAndVariable2_b0e5d547.png\" width=\"456\"/> </a></p>\n<p>In both Studio and Central, if you run the flow as such, the variables will be resolved. Note below that <b>var1</b> was passed to the flow input while <b>var2</b> wasn't (as it didn't exist).</p>\n<p><a class=\"image\" href=\"/file/images/a/a7/sysProperty2.png\" title=\"/file/images/a/a7/sysProperty2.png\"> <img alt=\"sysProperty2.png\" decoding=\"async\" height=\"97\" src=\"../../../images/sysProperty2_a722da71.png\" width=\"450\"/> </a></p>\n<h3 class=\"mw-headline\" id=\"Example_of_Required_flow_level_inputs\">Example of Required flow level inputs</h3>\n<p>In this example, we will extend the previous example by marking the flow level inputs as required. We will additionally add a new input as shown below.</p>\n<p><a class=\"image\" href=\"/file/images/5/5b/assignFromAndVariable3.png\" title=\"/file/images/5/5b/assignFromAndVariable3.png\"> <img alt=\"assignFromAndVariable3.png\" decoding=\"async\" height=\"145\" src=\"../../../images/assignFromAndVariable3_f38d2540.png\" width=\"636\"/> </a></p>\n<p>In Studio, at runtime, we end up with two inputs being prompted. Remember, this happens because <b>var1</b> was also defined as a system property with the value <b>systemProperty01</b>. Note also that the inputs are now marked as required with an <b>*</b>.</p>\n<p><a class=\"image\" href=\"/file/images/a/a0/statusMessage3.png\" title=\"/file/images/a/a0/statusMessage3.png\"> <img alt=\"statusMessage3.png\" decoding=\"async\" height=\"129\" src=\"../../../images/statusMessage3_6806b209.png\" width=\"368\"/> </a></p>\n<p>In Central, at trigger time, one input is prompted. Note the * marking and the fact that you can't trigger the run until the required input is filled in.</p>\n<p><a class=\"image\" href=\"/file/images/e/e2/runFlow3.png\" title=\"/file/images/e/e2/runFlow3.png\"> <img alt=\"runFlow3.png\" decoding=\"async\" height=\"225\" src=\"../../../images/runFlow3_7af6d478.png\" width=\"551\"/> </a></p>\n<p>In Central, at runtime, you will be prompted for the input with the <b>Assign From</b> value not being initialized. Note that this input is marked as required too. Note that the <b>Resume</b> button is disabled and can only get enabled once the required input is filled with a value.</p>\n<p><a class=\"image\" href=\"/file/images/a/a9/assignFromAndVariable4.png\" title=\"/file/images/a/a9/assignFromAndVariable4.png\"> <img alt=\"assignFromAndVariable4.png\" decoding=\"async\" height=\"117\" src=\"../../../images/assignFromAndVariable4_8c32d13e.png\" width=\"458\"/> </a></p>\n<p><a class=\"image\" href=\"/file/images/4/4c/OO_2018.08.NG_resume.png\" title=\"/file/images/4/4c/OO_2018.08.NG_resume.png\"> <img alt=\"OO 2018.08.NG resume.png\" decoding=\"async\" height=\"62\" src=\"../../../images/OO_2018.08.NG_resume_8ece20cb.png\" width=\"455\"/> </a></p>\n<p>You’ll fill in all inputs in Central: at trigger time as well as at runtime, and the result will be something like what's shown below.</p>\n<p><a class=\"image\" href=\"/file/images/3/3d/flowInputs.png\" title=\"/file/images/3/3d/flowInputs.png\"> <img alt=\"flowInputs.png\" decoding=\"async\" height=\"135\" src=\"../../../images/flowInputs_555b6c76.png\" width=\"451\"/> </a></p>\n<p>So what happens?</p>\n<p>In Central:</p>\n<ol>\n<li>Required <b>assignFromAndVariableExists</b> gets its value from existing var1.</li>\n<li>Required <b>assignFromAndVariableNotExist</b> doesn't get its value from var2 because it doesn't exist and it's prompted as required at runtime.</li>\n<li><b>notAssignedAndRequiredPrompt</b> gets prompted as required at trigger time.</li>\n</ol>\n<p>In Studio:</p>\n<ol>\n<li>Required assignFromAndVariableExists gets its value from existing var1.</li>\n<li>Both assignFromAndVariableNotExist and the notAssignedAndRequiredPrompt get prompted as required at runtime.</li>\n</ol>\n<p>You have learned what happens with required inputs at trigger and runtime in both Studio and Central.</p>\n<p>If you have any questions, you can post them on the <a class=\"external text\" href=\"https://community.softwaregrp.com/t5/Operations-Orchestration/bd-p/sws-OO_SUP\" rel=\"nofollow\" target=\"1\">OO forum</a>.</p>\n<p>For additional resources such as content and tools feel free to reach out to <a class=\"external text\" href=\"https://marketplace.microfocus.com/itom\" rel=\"nofollow\" target=\"1\">ITOM Marketplace</a>.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}