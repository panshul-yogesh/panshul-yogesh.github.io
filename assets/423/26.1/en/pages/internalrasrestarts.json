{
  "title": "Internal RAS restarts with an access denied \"shutdownHooks\" exception",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>You have configured an AWS or Azure cloud cost provider in your Cloud Management environment. You haven't configured an external Remote Action Server (RAS) in this environment, and you're using the internal RAS.</p>\n<p>In this situation, the internal RAS pod restarts and flow execution may be interrupted when scheduled AWS EC2 resource sync flows (for example, <code>CSA Content Pack/Providers/AWS/Resource Pool Sync/Actions/EC2 Resource Sync v2.0</code>) are running. Additionally, an exception that resembles the following is written to the <code>wrapper.log</code> file of the internal RAS. </p>\n<div class=\"Admonition_Note\">\n<p><span class=\"autonumber\">Note</span></p>\n<p>The path to the <code>wrapper.log</code> file resembles the following: </p>\n<pre><code>&lt;OO_PV_PATH&gt;/oo_ras_logs_vol/ooras/273267286/oo-helm/itom-ooras-273267286-0__itom-ooras-app-273267286___wrapper/wrapper.log </code></pre>\n<p class=\"mw-empty-elt\"></p>\n</div>\n<pre><code>INFO   | jvm 1    | 2024/03/17 22:48:27 | SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nINFO   | jvm 1    | 2024/03/17 22:48:27 | SLF4J: Defaulting to no-operation (NOP) logger implementation\nINFO   | jvm 1    | 2024/03/17 22:48:27 | SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nINFO   | jvm 1    | 2024/03/17 23:26:36 | ERROR StatusLogger Catching\nINFO   | jvm 1    | 2024/03/17 23:26:36 |  java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"shutdownHooks\")\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at java.security.AccessController.checkPermission(AccessController.java:886)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at java.lang.Runtime.addShutdownHook(Runtime.java:202)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry.addShutdownHook(DefaultShutdownCallbackRegistry.java:166)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry.start(DefaultShutdownCallbackRegistry.java:152)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.initializeShutdownCallbackRegistry(Log4jContextFactory.java:128)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:95)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.&lt;init&gt;(Log4jContextFactory.java:61)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nINFO   | jvm 1    | 2024/03/17 23:26:36 |       at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)</code></pre>\n<p><span style=\"color: rgb(0, 115, 231); font-family: Roboto, sans-serif; font-size: 24px;\">Cause</span></p>\n<p>This issue occurs because the internal RAS policy file in Cloud Management is restrictive for scheduled AWS EC2 Resource sync flows.</p>\n<h2>Solution</h2>\n<p>The external RAS policy file is more permissive. Therefore, we recommend that you configure an external RAS if you need to execute scheduled AWS EC2 Resource sync flows. </p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}