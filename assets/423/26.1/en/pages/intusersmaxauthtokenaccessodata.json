{
  "title": "Use integration user and SMAX_AUTH_TOKEN cookie to access OData",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The following example shows how to use an integration user and the SMAX_AUTH_TOKEN cookie to access OData.</p>\n<p>Before you start, make sure you have met the prerequisites and created the integration user. See <a href=\"/doc/423/26.1/useodataforbiintegration#Generate_the_token_by_using%C2%A0the_SMAX_AUTH_TOKEN_cookie\" title=\"Generate a token by using the SMAX_AUTH_TOKEN cookie\">Generate a token by using the SMAX_AUTH_TOKEN cookie</a>.</p>\n<h2>Create a query in Power BI</h2>\n<p>To create a blank query in Power BI Desktop, select <strong>Home</strong> &gt; <strong>Get data</strong> &gt; <strong>Blank query</strong>.<br/>\n<a class=\"image\" href=\"/file/images/1/19/SMAX202305GenerateAccessTokenPowerBI1.png\" title=\"/file/images/1/19/SMAX202305GenerateAccessTokenPowerBI1.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI1\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/1/19/SMAX202305GenerateAccessTokenPowerBI1.png\" height=\"608\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI1_ab8b09c6.png\" style=\"width:393px;height:608px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"393\"/> </a></p>\n<h2>Run the query in Power Query editor</h2>\n<ol>\n<li>Click the <strong>Advanced Editor</strong> option. <br/>\n<a class=\"image\" href=\"/file/images/7/7f/SMAX202305GenerateAccessTokenPowerBI2.png\" title=\"/file/images/7/7f/SMAX202305GenerateAccessTokenPowerBI2.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI2\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/7/7f/SMAX202305GenerateAccessTokenPowerBI2.png\" height=\"215\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI2_cdc51f98.png\" style=\"width:783px;height:215px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"783\"/> </a></li>\n<li>In the Microsoft Power Query editor, paste the following example query. Be sure to replace the placeholders with valid Service Management values.\n\t<pre>let\n    AuthToken = Text.FromBinary(Web.Contents(\"https://&lt;Service Management host name&gt;/auth/authentication-endpoint/authenticate/token?TENANTID=&lt;tenant ID&gt;\", [Headers = [#\"Content-Type\" = \"application/json\"], Content = Text.ToBinary(\"{\"\"login\"\":\"\"&lt;integration user name&gt;\"\",\"\"password\"\":\"\"&lt;integration user password&gt;\"\"}\")])),\n    Source = OData.Feed(\"https://&lt;Service Management host name&gt;/datahub/&lt;tenant ID&gt;/odata/\", null, [Implementation=\"2.0\", Headers=[Cookie=\"SMAX_AUTH_TOKEN=\" &amp; AuthToken]])\nin\n    Source</pre>\n<b>Note: </b>The extra double quotes (such as <code>\"\"login\"\"</code>) in the query are required for syntax parsing. Don't remove such extra double quotes.</li>\n<li>Click Done.<br/>\n<a class=\"image\" href=\"/file/images/b/be/SMAX202305GenerateAccessTokenPowerBI3.png\" title=\"/file/images/b/be/SMAX202305GenerateAccessTokenPowerBI3.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI3\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/b/be/SMAX202305GenerateAccessTokenPowerBI3.png\" height=\"488\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI3_7a4bfbfa.png\" style=\"width: 800px; height: 488px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></li>\n</ol>\n<h2>Rename the query</h2>\n<p>Double click the default query name \"Query1\" and rename the query as \"Authentication\" to make the purpose clear.<br/>\n<a class=\"image\" href=\"/file/images/8/8f/SMAX202305GenerateAccessTokenPowerBI4.png\" title=\"/file/images/8/8f/SMAX202305GenerateAccessTokenPowerBI4.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI4\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/8/8f/SMAX202305GenerateAccessTokenPowerBI4.png\" height=\"239\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI4_8ab4f1f1.png\" style=\"width: 800px; height: 239px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<h2>Set the authentication method to Anonymous</h2>\n<p>Click <strong>Edit Credentials</strong>, and then set the authentication method to <strong>Anonymous</strong>.<br/>\n<a class=\"image\" href=\"/file/images/8/8f/SMAX202305GenerateAccessTokenPowerBI5.png\" title=\"/file/images/8/8f/SMAX202305GenerateAccessTokenPowerBI5.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI5\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/8/8f/SMAX202305GenerateAccessTokenPowerBI5.png\" height=\"361\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI5_814684ac.png\" style=\"width: 800px; height: 361px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<h2>Configure privacy settings</h2>\n<ol>\n<li>Click the <strong>Continue </strong>button and select the privacy setting for the web setting. Note that the following example is only used for testing purposes. Make sure that you understand and choose the correct privacy setting according to Microsoft documentation: <a href=\"https://learn.microsoft.com/en-us/power-bi/enterprise/desktop-privacy-levels\" title=\"https://learn.microsoft.com/en-us/power-bi/enterprise/desktop-privacy-levels\">https://learn.microsoft.com/en-us/power-bi/enterprise/desktop-privacy-levels</a><br/>\n<a class=\"image\" href=\"/file/images/4/47/SMAX202305GenerateAccessTokenPowerBI6.png\" title=\"/file/images/4/47/SMAX202305GenerateAccessTokenPowerBI6.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI6\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/4/47/SMAX202305GenerateAccessTokenPowerBI6.png\" height=\"507\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI6_b762cbe5.png\" style=\"width: 800px; height: 507px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></li>\n<li>Click <strong>Save</strong>.</li>\n<li>Click the <strong>Continue </strong>button again and select the privacy setting for the OData setting.<br/>\n<a class=\"image\" href=\"/file/images/6/6a/SMAX202305GenerateAccessTokenPowerBI7.png\" title=\"/file/images/6/6a/SMAX202305GenerateAccessTokenPowerBI7.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI7\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/6a/SMAX202305GenerateAccessTokenPowerBI7.png\" height=\"392\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI7_e9ce8366.png\" style=\"width: 800px; height: 392px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></li>\n<li>Click <strong>Save</strong>. Now your table is shown.<br/>\n<a class=\"image\" href=\"/file/images/e/e7/SMAX202305GenerateAccessTokenPowerBI8.png\" title=\"/file/images/e/e7/SMAX202305GenerateAccessTokenPowerBI8.png\"> <img alt=\"SMAX202305GenerateAccessTokenPowerBI8\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/e/e7/SMAX202305GenerateAccessTokenPowerBI8.png\" height=\"362\" hspace=\"0\" src=\"../../../images/SMAX202305GenerateAccessTokenPowerBI8_8840f654.png\" style=\"width: 800px; height: 362px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></li>\n</ol>\n<div></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}