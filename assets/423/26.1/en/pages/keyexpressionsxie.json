{
  "title": "JSON payload expressions",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p><span style='color: rgb(51, 51, 51); font-family: Roboto, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"; font-size: 16px;'>Some scenario rule <a href=\"/doc/423/26.1/workwithscenariorules#JSONExp\" title=\"input parameters\">input parameters</a> accept JSON data. The JSON payload expressions enable you to construct JSON data for such parameters.</span></p>\n<h2>JSON payload expression syntax</h2>\n<p>The form of the JSON payload expression differs, according to the location of the key inside the JSON data.</p>\n<ul>\n<li>\n<p>If the key is at the root of the JSON data, the JSON payload expression is just the name of the key.</p>\n<p><strong>Example</strong></p>\n<p>To construct the following data:</p>\n<pre><code class=\"language-javascript\">{\n   \"Id\": 12345;\n   \"Name\": \"Service 1\"\n   \"Status\": \"Ready\"      \n}          </code></pre>\n<p>Add the following key-value pairs:</p>\n<p><a class=\"image\" href=\"/file/images/6/68/RootLevelKeys1.png\" title=\"/file/images/6/68/RootLevelKeys1.png\"> <img alt=\"RootLevelKeys1.png\" border=\"0\" file=\"/mediawiki/images/6/68/RootLevelKeys1.png\" height=\"207\" hspace=\"0\" src=\"../../../images/RootLevelKeys1_6b3cf4ab.png\" style=\"width: 800px; height: 207px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n</li>\n<li>If the key is inside another JSON object (which in turn might be nested inside another JSON object), then use the following symbols and operators in the JSON payload expression:\n\t<ul>\n<li>Enclose the JSON payload expression in angle brackets (<code>&lt;&gt;</code>).</li>\n<li>\n<p>Include all ancestor objects of the key in the expression, and separate the objects and the key with the dot (.) operator.</p>\n<p><strong>Example</strong></p>\n<p>To construct the following data:</p>\n<pre><code class=\"language-javascript\">{\n...\n   \"key1\": \n      {\n        \"key2\":\n         {\n            \"key3\": \"value3\"\n          }\n      }\n...\n }          </code></pre>\n<p>Enter the following in the <strong>key</strong> and <strong>value</strong> fields:</p>\n<p><a class=\"image\" href=\"/file/images/e/e2/ObjectTree.png\" title=\"/file/images/e/e2/ObjectTree.png\"> <img alt=\"ObjectTree.png\" border=\"0\" file=\"/mediawiki/images/e/e2/ObjectTree.png\" height=\"91\" hspace=\"0\" src=\"../../../images/ObjectTree_27a62f80.png\" style=\"width: 800px; height: 91px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n</li>\n<li>\n<p>If the current key (or its ancestor object) belongs to an object array, append <code>[&lt;n&gt;]</code> after the name of the object array, where <code>&lt;n&gt; </code>is the zero-based index of the current key (or its ancestor object) in the array. </p>\n<p><strong>Example 1</strong></p>\n<p>To construct the following data:</p>\n<pre><code class=\"language-javascript\">{\n...\n   \"key1\": \n      {\n        \"key2\": [             \n         {\n            \"keyX\": \"valueX\"\n          },\n         {\n            \"key3\": \n              {\n                  \"key4\": \"value4\"\n              }\n          }\n        ]\n      }\n...\n }          </code></pre>\n<p>Add two key-value pairs and enter the following in the <strong>key</strong> and <strong>value</strong> fields:</p>\n<p><a class=\"image\" href=\"/file/images/d/d4/ObjectTreeWArray.png\" title=\"/file/images/d/d4/ObjectTreeWArray.png\"> <img alt=\"ObjectTreeWArray.png\" border=\"0\" file=\"/mediawiki/images/d/d4/ObjectTreeWArray.png\" height=\"143\" hspace=\"0\" src=\"../../../images/ObjectTreeWArray_f11c6e9a.png\" style=\"width: 800px; height: 143px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<p><strong>Example 2</strong></p>\n<p>To construct the following data:</p>\n<pre><code class=\"language-javascript\">[\n   {\n       \"op\": \"add\",\n       \"path\": \"/fields/System.Title\",\n       \"from\": null,\n        \"value\": \"Sample task\"\n    },\n    {\n      \"op\": \"add\",\n      \"path\": \"/fields/System.Description\",\n      \"from\": null,\n      \"value\": \"my description\"\n     }\n]\n</code></pre>\n<p>Enter the following key-value pairs:</p>\n<p><a class=\"image\" href=\"/file/images/6/6c/ObjectTreeWArray2.png\" title=\"/file/images/6/6c/ObjectTreeWArray2.png\"> <img alt=\"ObjectTreeWArray2.png\" border=\"0\" file=\"/mediawiki/images/6/6c/ObjectTreeWArray2.png\" height=\"454\" hspace=\"0\" src=\"../../../images/ObjectTreeWArray2_aca370d5.png\" style=\"width: 800px; height: 454px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note:</span> You don't need to enclose keys or values with quotes. The Integration Studio adds the quotes (where applicable) for you in the output. <strong>Exception</strong>: You do need to enclose string values in single quotation marks (' ').</div>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note:</span> Key names can't contain single quotation marks (<code>'</code>) and must not start or end with a backslash (<code>\\</code>).</div>\n<h2>Configuration best practices</h2>\n<p>Using JSON payload expressions to construct the JSON data requires a clear understanding of the desired JSON data structure. Therefore, it's a best practice to enter the desired JSON structure in your preferred editor, and reference it while you configure the data on the Integration Studio scenario configuration UI.</p>\n<p>Rules for adding key-value pairs:</p>\n<ul>\n<li>Add one key-value pair for each <em>leaf node</em> (nodes without a child) in the desired JSON data</li>\n<li>Add keys for leaf nodes in the same order (from top to bottom) as they appear in the desired JSON data. For example, in the second example of the previous section, add <code>keyX</code> first, followed by <code>key4</code>.</li>\n</ul>\n<h2>Verify JSON payload expressions by using Payload preview</h2>\n<p>You can verify that the keys you added and the expressions you entered for the keys can produce the desired output.</p>\n<p>To verify the JSON data that you constructed, perform the following steps:</p>\n<ol>\n<li>Go to the action's <strong>Payload preview</strong> section, which is located at the bottom of the <strong>Input</strong> section.</li>\n<li>In the preview, identify the JSON data that you have configured. The data is nested within the parameter for which you added key-value pairs.</li>\n<li>\n<p>Compare the JSON <em>structure</em> in the preview with the JSON structure you entered in your editor previously.</p>\n<p>Note that in the preview, the values you entered in the <strong>value</strong> field are enclosed by <code>${}</code>. Ignore these symbols during the comparison because they are just a way of indicating that the values you entered on the UI will be replaced with a parsed value in the final output.</p>\n</li>\n</ol>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note:</span> After you enter or change the value in the <strong>key</strong> or <strong>value</strong> field, the preview is updated with the field's latest value only after you move the focus out of the field.</div>\n<div class=\"Admonition_Tip\"><span class=\"autonumber\">Tip:</span> Besides using the preview as a verification tool, you can also use the preview to experiment with and learn about JSON payload expressions.</div>\n<p><a class=\"image\" href=\"/file/images/a/a0/JSONPayload.png\" title=\"/file/images/a/a0/JSONPayload.png\"> <img alt=\"JSONPayload.png\" border=\"0\" file=\"/mediawiki/images/a/a0/JSONPayload.png\" height=\"297\" hspace=\"0\" src=\"../../../images/JSONPayload_6bf232fe.png\" style=\"width: 800px; height: 297px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note:</span> The <strong>Store Data</strong> action supports the JSON payload expression, but the payload preview feature isn't available for this action.</div>\n<h2>Escape special characters</h2>\n<p>If a key that is nested inside a JSON object contains one of the following characters: <code>.</code>, <code>@</code>, <code>$</code>, you must escape the special characters by enclosing the key in single quotes and brackets, like this: <code>['key']</code>. When a JSON payload expression contains such a key, all other keys in the expression must be enclosed in <code>[' ']</code> as well. When the expression is written in this style, you don't need to add dots between the objects and the key because they are already separated by brackets.</p>\n<p>For example, if the name of a key is <code>@Entity</code>, and the key has a parent <code>Key1</code> and a child <code>Key3</code>, the JSON payload expression for <code>Key3</code> must be written like this: <code>&lt;['Key1']['@Entity']['Key3']&gt;</code>.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}