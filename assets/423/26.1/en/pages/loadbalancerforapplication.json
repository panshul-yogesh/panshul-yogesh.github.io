{
  "title": "Configure a load balancer (reverse proxy server) for applications",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>A user with the <strong>Network Administrator </strong>role can perform the steps below on the <strong>Reverse Proxy </strong><strong>Server</strong>.</p>\n<p>The Service Management application runs inside Kubernetes and by default is only accessible from inside the Kubernetes network. To expose the application to the end user, you need to configure worker nodes as the backend of a load balancer.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">This can be a separate load balancer, or you can configure a single load balancer for both the control plane and application access.</div>\n</div>\n<p>The following services and ports must be open for load balancing:</p>\n<ul>\n<li>Service Management: 443</li>\n<li>OMT Management Portal: 5443</li>\n</ul>\n<p>The Service Management application supports the following load balancers:</p>\n<ul>\n<li>Nginx</li>\n<li>F5</li>\n<li>Apache web server</li>\n</ul>\n<p>This topic uses Nginx as an example to explain how to configure a load balancer.</p>\n<h3 id=\"Install_and_configure_Nginx\">Install and configure Nginx</h3>\n<ol>\n<li>Set the load balancer's public DNS record name, this is the FQDN of the nginx server. Use this record on the suite application only. For example: <code>smax.domain.com</code>.</li>\n<li>Install Nginx on the load balancer.</li>\n<li>Conduct a health check for the upstreams to make sure the traffic is always transferred to a valid server.</li>\n<li>Enable a sticky session for the load balancer. </li>\n<li>Make sure the Nginx configuration file on the load balancer contains the following settings:</li>\n</ol>\n<pre>stream {\n    upstream smax {    #upstream for smax service\n        least_conn;\n        server &lt;worker node 1 ip or fqdn&gt;:443 max_fails=3 fail_timeout=5;    #worker node 1\n        server &lt;worker node 2 ip or fqdn&gt;:443 max_fails=3 fail_timeout=5;    #worker node 2\n        server &lt;worker node 3 ip or fqdn&gt;:443 max_fails=3 fail_timeout=5;    #worker node 3\n    }\n \n    upstream mng {    #upstream for management portal service\n        least_conn;\n        server &lt;worker node 1 ip or fqdn&gt;:5443 max_fails=3 fail_timeout=5;    #worker node 1\n        server &lt;worker node 2 ip or fqdn&gt;:5443 max_fails=3 fail_timeout=5;    #worker node 2\n        server &lt;worker node 3 ip or fqdn&gt;:5443 max_fails=3 fail_timeout=5;    #worker node 3\n    }\n\n    server {    #listen on port 443 and proxy to smax service\n        listen 443;\n        proxy_pass smax;\n    }\n\n    server {    #listen on port 5443 and proxy to management portal service\n        listen 5443;\n        proxy_pass mng;\n    }\n}</pre>\n<p>Configure all worker nodes you will have, you can also update the Nginx configurations later.</p>\n<h3>(Optional) Set up the load balancer in a DMZ network</h3>\n<p>You may configure the load balancer in a demilitarized zone (DMZ) network as a reverse proxy server. A DMZ is a perimeter network between an organization's internal private network and the external public network, usually the Internet. It isolates and protects the local area network (LAN) from untrusted external traffic, adding an extra layer of security to the organization's network.</p>\n<p>The following diagram illustrates a Service Management Automation deployment in a corporate network with Nginx server configured as the load balancer in a DMZ network.</p>\n<div><a class=\"image\" href=\"/file/images/f/ff/DMZ_Setup_Reverse_Proxy.png\" title=\"/file/images/f/ff/DMZ_Setup_Reverse_Proxy.png\"> <img alt=\"Set up load balancer in a DMZ network\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/f/ff/DMZ_Setup_Reverse_Proxy.png\" height=\"583\" hspace=\"0\" src=\"../../../images/DMZ_Setup_Reverse_Proxy_b4e33a27.png\" style=\"width:800px;height:583px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}