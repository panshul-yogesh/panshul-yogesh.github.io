{
  "title": "Manage Persons API",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The Manage Persons API is designed for the following scenarios:</p>\n<ul>\n<li><strong>Initialization of users and contacts: </strong>Import and synchronize users and contacts from third-party systems, such as LDAP and HR systems</li>\n<li><strong>Incremental updates: </strong>Add or update users and contacts based on data changes in an external system</li>\n<li><strong>User authorization: </strong>Assign users to different groups and roles as required.</li>\n</ul>\n<p>You can use the Manage Persons API for bulk operations when creating, updating, or deleting users or contacts in your tenant. You can create or update both users and contacts in one API call. If the operation involves a user, the changes will automatically be reflected in Suite Administration. Each bulk request can contain multiple records and relationship types, but it can only perform a single type of operation at a time. We recommend creating or updating multiple records in a single API call. The maximum number of records per bulk request is 100. For example, you can create 50 users simultaneously in one API call.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">\n<ul>\n<li>\n<p>A tenant admin role is required to access the Manage Persons API URL.</p>\n</li>\n<li>By default, the maximum number of records for provisioning users is 200,000. If this limit is reached, calling the API will fail with an error. A scheduled job is run daily to delete the records older than 5 days. If needed, you can also manually clean up the <code>ProvisionUsersState_&lt;tenant_id&gt;</code> table in the <strong>xservices_rms</strong> database.</li>\n</ul>\n</div>\n</div>\n<h2><span style=\"color: rgb(22, 22, 22); font-size: clamp(1.59375rem, 18.7895px + 1.39803vw, 2.125rem);\">Manage users</span></h2>\n<p>A \"user\" means that the record will be created or updated in the tenant, Suite Administration, and IdM. For example, if the user is of type DB, after resetting their password, the user can log in to the tenant directly.</p>\n<h3 id=\"ManagePersonsAPIdocDraft-Create/Updateusers\">Create/Update users</h3>\n<p>To create or update users, you can refer to these parameters:</p>\n<ul>\n<li>API URL: <code>https://&lt;External Access Host&gt;/rest/&lt;tenant ID&gt;/ums/managePersons</code></li>\n<li>API Method: POST</li>\n<li>API Request Body: \n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Field</strong></th>\n<th scope=\"col\"><strong>Mandatory</strong></th>\n<th scope=\"col\"><strong>Description</strong> </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>operation</td>\n<td>Y</td>\n<td>\n<p>To create or update users, the operation must be \"CREATE_OR_UPDATE\", and the following rules are applied:</p>\n<ul>\n<li>\n<p>If the user doesn't exist in Suite Administration and the current tenant is public, the API will create the user in Suite Administration and assign the user to all public tenants that belong to the same account.</p>\n</li>\n<li>\n<p>If the user doesn't exist in Suite Administration and the current tenant is private, the API will add the user to Suite Administration and assign the user to the private tenant and all public tenants that belong to the same account.</p>\n</li>\n<li>\n<p>If the user exists in Suite Administration and the current tenant is public, the API will update the user's properties.</p>\n</li>\n<li>If the user exists in Suite Administration and the current tenant is private, the API will assign the user to the private tenant.</li>\n</ul>\n</td>\n</tr>\n<tr role=\"row\">\n<td>users</td>\n<td>Y</td>\n<td>\n<p>The <strong>users </strong>field is an array that can receive multiple records, but a bulk can't contain more than one entry for the same UPN. It includes the following user fields:</p>\n<ul>\n<li><strong>upnDataType</strong>\n<p>This field is meaningful only when the current tenant's <strong>User reconciliation type</strong> is set to Customer UID, the field name should appear as <strong>\"upnDataType\":\"Customer_UID\"</strong>. Otherwise, you can ignore this field.</p>\n<p>If the tenant's <strong>User reconciliation type</strong> is set to Customer UID, Suite Administration will use Email as the login name and UPN as the customer UID in Suite Administration.</p>\n</li>\n<li><strong>properties</strong><br/>\n\t\t\t\t\tThe API supports all the properties of the Person record type. When you create users, you can set ''AuthenticationType'' for each user, and the following four values are supported:\n\t\t\t\t\t<ul>\n<li><strong>DB</strong>: User credentials are stored in IdM. This value is used by default if you don't include the authentication type property in the Create operation.</li>\n<li><strong>LDAP</strong>: User credentials are stored in LDAP servers.</li>\n<li><strong>SAML</strong>: User credentials are stored in federated identity providers that support SAML. You can also use <strong>FEDERATION</strong>, but <strong>SAML </strong>is recommended.</li>\n<li><strong>OAUTH</strong>: User credentials are stored in federated identity providers that support OAuth.</li>\n</ul>\n<b>Note: </b>For one-tier tenancy, <strong>LDAP</strong>, <strong>SAML</strong>, and <strong>OAUTH </strong>will show as <strong>MIX </strong>in the back end. You can also use <strong>MIX </strong>as the value of \"AuthenticationType\".\n\n\t\t\t\t\t<p>The update operation does not support changing the <strong>AuthenticationType </strong>for users.</p>\n<p>Mandatory fields in properties:</p>\n<ul>\n<li>Create operation: Upn/FirstName/LastName/Email</li>\n<li>Update operation: Upn</li>\n</ul>\n</li>\n<li><strong>roles</strong>\n<p>For roles, the <code>ADD</code>, <code>REMOVE</code>, and <code>REPLACE</code> commands are supported.</p>\n<p>The <code>ADD</code> and <code>REMOVE</code> commands can't be used along with the <code>REPLACE</code> command. If you want to add and remove at the same time, we recommend using the <code>REPLACE</code> command<strong> </strong>instead.</p>\n<p>We only support assigning roles that already exist in the tenant to users. For example:</p>\n<pre>            \"roles\": {\n                \"REPLACE\": [\n                    \"role3\",\n                    \"role4\"\n                 ]\n             }</pre>\n</li>\n<li><strong>licenses</strong>\n<p>To assign a license to a user, use the <b>licenses </b>field with the license type and capacity. The <strong>type </strong>and <strong>capacity </strong>fields define the license information. The <b>capacity </b>value must align with the maximum capacity of the licenses allocated to the user. You can find this information in the <strong>License </strong>field on the General tab of the user in the People module. The assignment will fail if the specified license doesn't exist.</p>\n<p>If the tenant includes more than one active license of the same type and capacity, the user will be randomly assigned any of these licenses. For example:</p>\n<pre data-bidi-marker=\"true\">              \"licenses\":{\n\t\t \"ADD\":[{\n                      \"type\": \"Named Users\",\n                      \"capacity\": \"5\",\n            }]\n\t       }</pre>\n</li>\n<li><strong>groups </strong>(functionalGroup/orgGroup)\n\t\t\t\t\t<p>For g<span id=\"cke_bm_14494C\" style=\"display: none;\"> </span>roups, we also support the <code>ADD</code>, <code>REMOVE</code>, and <code>REPLACE</code> commands. There are two options for assigning groups to users:</p>\n<ul>\n<li>You can add organizational groups and functional groups separately by using <strong>orgGroup</strong> and <strong>functionalGroups</strong> respectively for each section. You can assign multiple functional groups but only one organizational group.</li>\n<li>You can add all groups together by using <strong>groups</strong>.</li>\n</ul>\n\t\t\t\t\tThe Manage Persons API uses the group’s UPN when adding a person to this group. You can use the group field to set the organization group, but you can't configure the user organization with properties. If one of the groups is an organizational group, then the users' organization will be automatically set. For example:\n\n\t\t\t\t\t<pre data-bidi-marker=\"true\">             \"orgGroup\": {\n                 \"ADD\": \"GroupA@example.com\"\n             }</pre>\n</li>\n<li><strong>dataDomains</strong>\n<p>For data domains, we also support the <code>ADD</code>, <code>REMOVE</code>, and <code>REPLACE</code> commands.</p>\n<p>You can use the <strong>DataDomains</strong> property or the <strong>dataDomains</strong> field to replace the existing data domains with new values. Regardless of which method you are using, don't use the <strong>DataDomains</strong> property and the <strong>dataDomains</strong> field at the same time. You can assign up to 250 data domains to a user. For example:</p>\n<p>Using the <strong>dataDomains</strong> field:</p>\n<pre data-bidi-marker=\"true\"><code>            \"dataDomains\":{\n                \"ADD\":[\"AM_c\",\"FM_c\"]\n            }</code></pre>\n<p>Using the <strong>DataDomains</strong> property:</p>\n<pre>{\n    \"operation\": \"CREATE_OR_UPDATE\",\n    \"users\": [\n        {\n            \"properties\": {\n                \"Upn\": \"u1234567\",\n                \"DataDomains\":[\"HR_c\", \"IT_c\"]\n            }\n        }\n    ]\n}</pre>\n</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>API request body examples:</p>\n<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Usage</strong></th>\n<th scope=\"col\"><strong>API sample</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Create or update users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"FirstName\": \"Robert\",<br/>\n\t\t\t\t                \"LastName\": \"Johnson\",<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"1234\",<br/>\n\t\t\t\t                \"MobilePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"HomePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"IsMaasUser\": true,<br/>\n\t\t\t\t                \"Upn\": \"u1234567\",<br/>\n\t\t\t\t                \"Manager\": \"susan.white@example.com\",<br/>\n\t\t\t\t                \"Location\": \"Europe\",<br/>\n\t\t\t\t                \"CostCenter\": \"12345678\",<br/>\n\t\t\t\t                \"Email\": \"robert.johnson@example.com\",<br/>\n\t\t\t\t                \"AuthenticationType\": \"LDAP\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Assign roles to users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser@example.com\"<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"roles\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"tenantAdmin\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Assign groups to users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser@example.com\"<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"groups\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"Marketing\",<br/>\n\t\t\t\t                    \"Accounting\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Add licenses to users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser@example.com\"<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"licenses\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    {<br/>\n\t\t\t\t                        \"type\": \"Named Users\",<br/>\n\t\t\t\t                        \"capacity\": \"5\"<br/>\n\t\t\t\t                    }<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Assign data domains to users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"u1234567\"<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"dataDomains\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"HR_c\",<br/>\n\t\t\t\t                    \"IT_c\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Add group/role/data domain/license while creating/updating users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"FirstName\": \"Robert\",<br/>\n\t\t\t\t                \"LastName\": \"Johnson\",<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"1234\",<br/>\n\t\t\t\t                \"MobilePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"HomePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"Upn\": \"u1234567\",<br/>\n\t\t\t\t                \"Manager\": \"susan.white@example.com\",<br/>\n\t\t\t\t                \"Location\": \"Europe\",<br/>\n\t\t\t\t                \"IsMaasUser\": true,<br/>\n\t\t\t\t                \"CostCenter\": \"12345678\",<br/>\n\t\t\t\t                \"Email\": \"robert.johnson@example.com\",<br/>\n\t\t\t\t                \"AuthenticationType\": \"LDAP\",<br/>\n\t\t\t\t                \"DataDomains\":[\"HR_c\", \"IT_c\"]<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"roles\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"role1\",<br/>\n\t\t\t\t                    \"role2\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"licenses\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    {<br/>\n\t\t\t\t                        \"type\": \"Premium edition concurrent user\",<br/>\n\t\t\t\t                        \"capacity\": \"5\"<br/>\n\t\t\t\t                    }<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"groups\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"GroupA@example.com\",<br/>\n\t\t\t\t                    \"GroupB@example.com\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Create or update multiple records at the same time</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"upnDataType\": \"Customer_UID\",<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"FirstName\": \"Robert\",<br/>\n\t\t\t\t                \"LastName\": \"Johnson\",<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"1234\",<br/>\n\t\t\t\t                \"MobilePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"HomePhoneNumber\": \"9876543\",<br/>\n\t\t\t\t                \"Upn\": \"u1234567\",<br/>\n\t\t\t\t                \"Manager\": \"susan.white@example.com\",<br/>\n\t\t\t\t                \"Location\": \"Europe\",<br/>\n\t\t\t\t                \"CostCenter\": \"12345678\",<br/>\n\t\t\t\t                \"IsMaasUser\": true,<br/>\n\t\t\t\t                \"Email\": \"robert.johnson@example.com\",<br/>\n\t\t\t\t                \"AuthenticationType\": \"LDAP\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        },<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"FirstName\": \"Charles\",<br/>\n\t\t\t\t                \"LastName\": \"Walker\",<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"9876\",<br/>\n\t\t\t\t                \"MobilePhoneNumber\": \"\",<br/>\n\t\t\t\t                \"Upn\": \"charles.walker@example.com\",<br/>\n\t\t\t\t                \"Manager\": \"susan.white@example.com\",<br/>\n\t\t\t\t                \"Location\": \"Poland\",<br/>\n\t\t\t\t                \"IsMaasUser\": true,<br/>\n\t\t\t\t                \"CostCenter\": \"12345678\",<br/>\n\t\t\t\t                \"Email\": \"charles.walker@example.com\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h4>Supported language fields</h4>\n<p>You can update the user's tenant login language using the Manage Persons API. The following language fields are supported:</p>\n<ul>\n<li><strong>en</strong>: English</li>\n<li><strong>ar</strong>: Arabic</li>\n<li><strong>zh-CN</strong>: Simplified Chinese</li>\n<li><strong>nl</strong>: Dutch</li>\n<li><strong>fr</strong>: French</li>\n<li><strong>de</strong>: German</li>\n<li><strong>it</strong>: Italian</li>\n<li><strong>ja</strong>: Japanese</li>\n<li><strong>ko</strong>: Korean</li>\n<li><strong>pl</strong>: Polish</li>\n<li><strong>pt-BR</strong>: Portuguese (Brazil)</li>\n<li><strong>ru</strong>: Russian</li>\n<li><strong>es</strong>: Spanish</li>\n<li><strong>tr</strong>: Turkish</li>\n<li><strong>el</strong>: Greek</li>\n<li><strong>da</strong>: Danish</li>\n<li><strong>nb</strong>: Norwegian</li>\n<li><strong>en-GB</strong>: English (UK)</li>\n<li><strong>sv</strong>: Swedish</li>\n<li><strong>he</strong>: Hebrew</li>\n<li><strong>pt-PT</strong>: Portuguese (Portugal)</li>\n</ul>\n<h3 id=\"ManagePersonsAPIdocDraft-Deleteusers\">Convert user to contact</h3>\n<p>To delete users, you can refer to these parameters:</p>\n<ul>\n<li>API URL: <code>https://&lt;External Access Host&gt;/rest/&lt;tenant ID&gt;/ums/managePersons</code></li>\n<li>API Method: POST</li>\n<li>API Request Body: \n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Field</strong></th>\n<th scope=\"col\"><strong>Mandatory</strong></th>\n<th scope=\"col\"><strong>Description</strong> </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>users</td>\n<td>Y</td>\n<td>\n<p>The <strong>users </strong>field is an array that can receive multiple records, but a bulk can't contain more than one entry for the same UPN. It uses the <strong>properties </strong>user field.</p>\n<p>Mandatory field: <strong>Upn</strong></p>\n</td>\n</tr>\n<tr role=\"row\">\n<td>operation</td>\n<td>Y</td>\n<td>\n<p>To delete users, the operation must be \"DELETE\", and the following rules are applied:</p>\n<ul>\n<li>If the current tenant is public and is attached to a private tenant, the deletion will fail.</li>\n<li>If the current tenant is public and is not attached to any private tenant, the API will delete the user in Suite Administration and change the person type to <strong>Contact </strong>in the tenant.</li>\n<li>If the current tenant is private, the API will detach the user from the tenant and change the person type to <strong>Contact </strong>in the tenant, but the user will not be deleted from Suite Administration.</li>\n</ul>\n<p><strong>Note: </strong>If the user is not a DB user, ensure that the user is already deleted from your LDAP or IDP server. Otherwise, the user will be added back to Suite Administration and tenant by LDAP synchronization or on-the-fly creation.</p>\n</td>\n</tr>\n</tbody>\n</table>\n\tAPI request body examples:\n\n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Usage</strong></th>\n<th scope=\"col\"><strong>API sample</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Delete multiple users</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"DELETE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"michael.brown@example.com\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        },<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"lauren.davis@example.com\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h2>Manage contacts</h2>\n<p>A \"contact\" means that the record will only be created or updated in the tenant, and won't be created in either Suite Administration or IdM. This means that unless it is a third-party integrated authentication, this record won't be automatically converted to the user type and can't be logged in directly.</p>\n<h3 id=\"ManagePersonsAPIdocDraft-Create/Updatecontacts\">Create/Update contacts</h3>\n<p>To create or update contacts, you can refer to these parameters:</p>\n<ul>\n<li>API URL: <code>https://&lt;External Access Host&gt;/rest/&lt;tenant ID&gt;/ums/managePersons</code></li>\n<li>API Method: POST</li>\n<li>API Request Body: \n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Field</strong></th>\n<th scope=\"col\"><strong>Mandatory</strong></th>\n<th scope=\"col\"><strong>Description</strong> </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>operation</td>\n<td>Y</td>\n<td>\n<p>To create or update contacts, the operation must be \"CREATE_OR_UPDATE\".</p>\n</td>\n</tr>\n<tr role=\"row\">\n<td>users</td>\n<td>Y</td>\n<td>\n<p>The <b>users </b>field is an array that can receive multiple records, but a bulk can't contain more than one entry for the same UPN. It includes the following user fields: </p>\n<ul>\n<li><strong>properties</strong><br/>\n\t\t\t\t\tMandatory fields include:\n\t\t\t\t\t<ul>\n<li>Create operation: Upn/FirstName/LastName/Email/IsMaasUser. <strong>IsMaasUser </strong>must be set to <strong>false</strong>.</li>\n<li>Update operation: Upn/IsMaasUser. <strong>IsMaasUser </strong>must be set to <strong>false</strong>.</li>\n</ul>\n</li>\n<li><strong>role</strong><br/>\n\t\t\t\t\tYou can assign roles to a contact, but contacts can't be assigned to groups or granted licenses. For more information, refer to <em>Assign role to users</em>.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>API request body examples:</p>\n<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\"><strong>Usage</strong></th>\n<th scope=\"col\"><strong>API sample</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Create multiple contacts</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser@example.com\",<br/>\n\t\t\t\t                \"Email\": \"MyNewUser@example.com\",<br/>\n\t\t\t\t                \"FirstName\": \"My First Name\",<br/>\n\t\t\t\t                \"LastName\": \"My Last Name\",<br/>\n\t\t\t\t                \"Location\": \"London\",<br/>\n\t\t\t\t                \"IsMaasUser\": false,<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"123-4567\",<br/>\n\t\t\t\t                \"EmployeeNumber\": \"0123456789\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        },<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser2@example.com\",<br/>\n\t\t\t\t                \"Email\": \"MyNewUser2@example.com\",<br/>\n\t\t\t\t                \"FirstName\": \"My First Name\",<br/>\n\t\t\t\t                \"LastName\": \"My Last Name\",<br/>\n\t\t\t\t                \"Location\": \"Beijing\",<br/>\n\t\t\t\t                \"IsMaasUser\": false,<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"12345678\",<br/>\n\t\t\t\t                \"EmployeeNumber\": \"1234567890\"<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr role=\"row\">\n<td>Create contact and assign role</td>\n<td>{<br/>\n\t\t\t\t    \"operation\": \"CREATE_OR_UPDATE\",<br/>\n\t\t\t\t    \"users\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"properties\": {<br/>\n\t\t\t\t                \"Upn\": \"MyNewUser@example.com\",<br/>\n\t\t\t\t                \"Email\": \"MyNewUser@example.com\",<br/>\n\t\t\t\t                \"FirstName\": \"My First Name\",<br/>\n\t\t\t\t                \"LastName\": \"My Last Name\",<br/>\n\t\t\t\t                \"Location\": \"London\",<br/>\n\t\t\t\t                \"IsMaasUser\": false,<br/>\n\t\t\t\t                \"OfficePhoneNumber\": \"123-4567\",<br/>\n\t\t\t\t                \"EmployeeNumber\": \"0123456789\"<br/>\n\t\t\t\t            },<br/>\n\t\t\t\t            \"roles\": {<br/>\n\t\t\t\t                \"ADD\": [<br/>\n\t\t\t\t                    \"Role1\"<br/>\n\t\t\t\t                ]<br/>\n\t\t\t\t            }<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h3 id=\"ManagePersonsAPIdocDraft-Deletecontacts\">Delete contacts</h3>\n<p>The Manage Persons API doesn't support deleting contacts.</p>\n<h2 id=\"ManagePersonsAPIdocDraft-GetJobStatus\">Get job status</h2>\n<p>The Manage Persons API is processed asynchronously. This means you won't get the execution result of the API directly, but a <strong>JobId</strong> response. For example:</p>\n<pre>{\n    \"JobId\": \"39739dd3-26cf-433e-a989-04c30fe3dc81\"\n}</pre>\n<p>After a Create, Update, or Delete operation, run the following GET request URI to check the job status:</p>\n<ul>\n<li>API URL: <code>https://&lt;External Access Host&gt;/rest/&lt;tenant ID&gt;/ums/managePersonsJobStatus/&lt;job_id&gt;</code></li>\n<li>API Method: GET</li>\n<li>API Response Body:\n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>BulkStatus</p>\n</td>\n<td>\n<p>The response JSON contains the bulk status. The following are the possible bulk status values:</p>\n<ul>\n<li><strong>RUNNING</strong> or <strong>PENDING</strong>: The API is still in progress.</li>\n<li><strong>SUCCESS</strong>: The API completes successfully. All users are created, updated, or deleted without errors.</li>\n<li><strong>FINISHED WITH ERRORS</strong>: The API completes with at least one error. At least one user is created in Suite Administration.</li>\n<li><strong>FAILED</strong>: The API fails. No users are created, updated, or deleted.</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>Results</td>\n<td>\n<p>For individual users, if created successfully, this field won't be included. If creation or updating fails, the following are the possible status values:</p>\n<ul>\n<li><strong>FINISHED WITH ERRORS</strong>: The user is created in Suite Administration but the record properties, roles, licenses, or groups are not updated.</li>\n<li><strong>FAILED</strong>: The user is not created, updated, or deleted.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n\tAPI response examples:\n\n\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Response type</th>\n<th scope=\"col\">API response sample</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>The license doesn't exist in the tenant</td>\n<td>{<br/>\n\t\t\t\t    \"BulkStatus\": \" FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t    \"Results\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"Upn\": \"charles.walker@example.com\",<br/>\n\t\t\t\t            \"Status\": \" FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t            \"ErrorMessage\": \"Failed to set licenses for the user because a license with type: [Premium edition concurrent user] and capacity: [10] doesn't exist\"<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr>\n<td>Mandatory field is missing</td>\n<td>{<br/>\n\t\t\t\t    \"BulkStatus\": \"FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t    \"Results\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"Upn\": \"charles.walker@example.com\",<br/>\n\t\t\t\t            \"Status\": \"FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t            \"ErrorMessage\": \"The contact was not created due to the following error: [Name should not be empty.].\"<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr>\n<td><strong>upnDataType </strong>mismatches the <strong>User reconciliation type</strong> application setting</td>\n<td>{<br/>\n\t\t\t\t    \"BulkStatus\": \"FAILED\",<br/>\n\t\t\t\t    \"Results\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"Upn\": \"charles.walker@example.com\",<br/>\n\t\t\t\t            \"Status\": \"FAILED\",<br/>\n\t\t\t\t            \"ErrorMessage\": \"User creation failed. The selected Upn data type is customer user ID, but the tenant is configured to use the user's email address as the Upn.\"<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n<tr>\n<td>The role doesn't exist in the tenant</td>\n<td>{<br/>\n\t\t\t\t    \"BulkStatus\": \"FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t    \"Results\": [<br/>\n\t\t\t\t        {<br/>\n\t\t\t\t            \"Upn\": \"charles.walker@example.com\",<br/>\n\t\t\t\t            \"Status\": \"FINISHED_WITH_ERRORS\",<br/>\n\t\t\t\t            \"ErrorMessage\": \"Failed to set roles for the user because one or more of the roles [role1, role2] does not exist.\"<br/>\n\t\t\t\t        }<br/>\n\t\t\t\t    ]<br/>\n\t\t\t\t}</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h2>Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/restapi\" title=\"SMAX:25.1/RESTAPI\">Overview of the REST API</a></li>\n<li><a href=\"/doc/423/26.1/apirestauth\" title=\"SMAX:25.1/ApiRESTAuth\">Authentication endpoint service</a></li>\n<li><a href=\"/doc/423/26.1/queryproperties\" title=\"SMAX:25.1/QueryProperties\">REST API queries</a></li>\n<li><a href=\"/doc/423/26.1/collectqueryprotocol\" title=\"SMAX:25.1/CollectQueryProtocol\">REST API collection query protocol</a></li>\n<li><a href=\"/doc/423/26.1/usecasesimport\" title=\"SMAX:25.1/UseCasesImport\">REST API use case scenario - import REST API</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}