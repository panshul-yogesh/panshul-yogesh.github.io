{
  "title": "The Update button on OMT Management Portal is not working well",
  "content": "<div class=\"mw-parser-output\"><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-MngPortalNotResponsiveWell||N\"></span><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>When you try to perform the suite update on the Management Portal, it takes a long period to respond, or the <strong>Update</strong> button does not work. </p>\n<p>You can run the following command on one of the control plane nodes to check the error messages:</p>\n<pre><code>kubectl get pods -n core |grep portal-ingress-controller</code></pre>\n<p>Your terminal resembles the following:</p>\n<pre><code>[root@sh ~]# kubectl get pods -n core |grep portal-ingress-controller\nportal-ingress-controller-7f8f65f564-kcdnk             2/2     Running   0          27d\n</code></pre>\n<p>Run the following command to check the <code>portal-ingress-controller</code> logs. Replace <code>&lt;portal-ingress-controller&gt;</code> with the pod name you received from the previous step. </p>\n<pre><code>kubectl logs -f &lt;portal-ingress-controller&gt; -n core  -c nginx-ingress-lb</code></pre>\n<p>You may receive error messages that resemble the following:</p>\n<pre><code>server returned error code: 3: name error. conext: ngx.timer\n2020/12/1 12:59:0 [error]] 510#510: *33250 [lua]  dnx.lua:152: dns_lookup(): failed to query the DNS server for suite-upgrade_svc-demo.demo-qppz4.svc.cluster.local:\nserver returned error code: 3: name error. conext: ngx.timer\n2020/12/1 12:59:0 [error]] 508#508: *33253 [lua]  dnx.lua:152: dns_lookup(): failed to query the DNS server for suite-upgrade_svc-demo.demo-qppz4.svc.cluster.local:\n\n\n</code></pre>\n<h2 id=\"Cause\">Cause</h2>\n<p>This issue occurs because the upgrade ingress fails to work well. </p>\n<h2 id=\"Solution\">Solution</h2>\n<ol>\n<li>Log on to one of the control plane nodes. </li>\n<li>Run the following command to back up the suite upgrade ingress (<code>suite-upgrade-ing-core</code>) under the core namespace. If the <code>suite-upgrade-ing-core</code> does not exist, ignore this step.\n\t<pre><code>kubectl get ingress suite-upgrade-ing-core -n core -o yaml &gt; suite-upgrade-ing-core.yaml</code></pre>\n</li>\n<li>Run the following command to delete the suite upgrade ingress in the core namespace. If the <code>suite-upgrade-ing-core</code> does not exist, ignore this step.\n\t<pre><code>kubectl delete ingress suite-upgrade-ing-core -n core </code></pre>\n</li>\n<li>Run the following command to get the name of the suite namespace:\n\t<pre><code>kubectl get ns</code></pre>\n</li>\n<li>Run the following command to back up the suite upgrade ingress under the suite namespace. Replace <code>&lt;suite_name&gt;</code> with the actual suite name and <code>&lt;suite_namespace&gt;</code>with the actual suite namespace.  If the <code>suite-upgrade-ing-&lt;suite_name&gt;</code> does not exist, ignore this step.\n\t<pre><code>kubectl get ingress suite-upgrade-ing-&lt;suite_name&gt; -n &lt;suite_namespace&gt; -o yaml &gt; suite-upgrade-ing-&lt;suite_name&gt;.yaml</code></pre>\n</li>\n<li>Run the following command to delete the suite upgrade ingress in the suite namespace. Replace <code>&lt;suite_name&gt;</code> with the actual suite name and <code>&lt;suite_namespace&gt;</code> with the actual suite namespace. If the <code>suite-upgrade-ing-&lt;suite_name&gt;</code> does not exist, ignore this step.\n\t<pre><code>kubectl delete ingress suite-upgrade-ing-&lt;suite_name&gt; -n &lt;suite_namespace&gt;</code></pre>\n</li>\n<li><span id=\"cke_bm_26066S\" style=\"display: none;\"> </span>Run the following command to back up the suite upgrade ingress (<code>suite-upgrade-svc-core</code>) under the core namespace. If the <code>suite-upgrade-svc-core</code> does not exist, ignore this step.\n\t<pre><code>kubectl get svc suite-upgrade-svc-core -n core -o yaml &gt; suite-upgrade-svc-core.yaml</code></pre>\n</li>\n<li>Run the following command to delete the suite upgrade ingress in the core namespace. If the <code>suite-upgrade-svc-core</code> does not exist, ignore this step.\n\t<pre><code>kubectl delete svc suite-upgrade-svc-core -n core </code></pre>\n</li>\n<li>Run the following command to back up the suite upgrade ingress under the suite namespace. Replace <code>&lt;suite_name&gt;</code> with the actual suite name and <code>&lt;suite_namespace&gt;</code>with the actual suite namespace. If the <code>suite-upgrade-pod-&lt;suite&gt;</code> does not exist, ignore this step.\n\t<pre><code>kubectl get deployment suite-upgrade-pod-&lt;suite&gt; -n &lt;suite_namespace&gt; -o yaml &gt; suite-upgrade-pod-&lt;suite&gt;.yaml</code></pre>\n</li>\n<li>Run the following command to delete the suite upgrade ingress in the suite namespace. Replace <code>&lt;suite_name&gt;</code> with the actual suite name and <code>&lt;suite_namespace&gt;</code> with the actual suite namespace. If the <code>suite-upgrade-pod-&lt;suite&gt;</code> does not exist, ignore this step.\n\t<pre><code>kubectl delete deployment suite-upgrade-pod-&lt;suite&gt; -n &lt;suite_namespace&gt; </code></pre>\n</li>\n</ol>\n<p><br/>\n</p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-MngPortalNotResponsiveWell||N\"></span></div>",
  "modifiedon": "2025-10-24 08:51:12"
}