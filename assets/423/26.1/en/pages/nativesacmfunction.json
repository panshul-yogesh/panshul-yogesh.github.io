{
  "title": "CI type, attribute, and subtype federation",
  "content": "<div class=\"mw-parser-output\">\n<h2>Federated CI types</h2>\n<div>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>There is a known issue with CI type federation between Service Management 25.2 and Universal Discovery and CMDB 24.4 (both Containerized and Classic versions), in which UCMDB CIs of unfederated CI types leak to Service Management. A UCMDB hotfix is available for this issue. If you encounter it, please contact <a href=\"https://www.microfocus.com/support-and-services\" rel=\"nofollow\" target=\"1\" title=\"Support and services\">Support and services</a> for assistance.</div></div></div>\n</div>\n<p>By default, a number of Universal Discovery and CMDB CI types are federated with Service Management SACM record types. Which CI types are federated by default depends on whether you enabled native SACM in Service Management 25.2 (or later) or in an earlier version. You can also federate additional CI types.</p>\n<p>The following table describes which UCMDB CI types are federated with Service Management SACM record types by default. </p>\n<table>\n<tbody>\n<tr>\n<th>SACM record type in Service Management</th>\n<th>UCMDB CI type (SACM enabled before 25.2)</th>\n<th>UCMDB CI type (SACM enabled in 25.2 or later)</th>\n</tr>\n<tr>\n<td>Actual Service</td>\n<td>Service *</td>\n<td>Service *</td>\n</tr>\n<tr>\n<td>Device</td>\n<td>Node *</td>\n<td>Node *<br/>\n<br/>\n\t\t\t(Except ClusterResourceGroup unless corresponding CIs were previously synced from UCMDB to Service Management via an OPB integration)</td>\n</tr>\n<tr>\n<td>Service Component</td>\n<td>Business Application *</td>\n<td>Business Application *</td>\n</tr>\n<tr>\n<td>\n<p>System Element</p>\n<p><strong>Note:</strong> System elements can't be created in Service Management, they can only be synchronized from UCMDB.</p>\n</td>\n<td>\n<ul>\n<li>Application System *</li>\n<li>Running Software *</li>\n<li>Application Resource *</li>\n<li>Cloud Service *</li>\n</ul>\n</td>\n<td>Dynamically determined. CI types will be federated if any corresponding CIs were previously synced from UCMDB to Service Management via an OPB integration. Additionally, the following CI types will be federated if any corresponding CIs were successfully pushed from Service Management to UCMDB during Native SACM migration:\n\t\t\t<ul>\n<li>Running Software\n\t\t\t\t<ul>\n<li>Application Server</li>\n<li>Database</li>\n<li>WebServer</li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p><strong>*</strong> All child CI types are also federated</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>To avoid potential license issues when performing data migration via integration, you can create one or more custom CI types for their non-node devices or resources under the <strong>Node &gt; Net Device</strong> CI type, then CIs of your non-node devices or resources federated via integration will be free of CI Management license. </div></div></div>\n<h3>Federate additional CI types</h3>\n<p>In <strong>Administration</strong> &gt; <strong>Studio</strong>, select the record type that you want to federate, and then select the <strong>SACM settings</strong> tab. In the <strong>CI types</strong> tree, select the CI types that you want to federate, and then click <strong>Save</strong>.</p>\n<p>You can federate the following CI types in addition to those that are federated by default:</p>\n<ul>\n<li>Actual Server, Service Component, and Device: any new child CI type under the peer root (Service, Business Application and Node)</li>\n<li>System Element: any CI type under Infrastructure Element (except Node, Node Element, and IpAddress)</li>\n</ul>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>When you federate additional CI types, bear in mind the following behavior:\n<ul>\n<li>Once a CI type is federated, you cannot unfederate it.</li>\n<li>Synchronizing a large number of CIs at once may cause issues. Be aware how many CIs exist of each CI type you will federate in UCMDB. To learn how to restrict the CI load of a specific CI type from UCMDB to Service Management, see the <a href=\"/doc/423/26.1/nativesacmfunction#CI_synchronization_control_through_Subtype_and_sd_type_mapping\" title=\"CI synchronization control through Subtype and sd_type mapping\">CI synchronization control through Subtype and sd_type mapping</a> section below.</li>\n<li>New CI types (whether custom or OOB) created in UCMDB under the peer root CI types (Service, Business Application, Infrastructure Element, Node) are not federated automatically.</li>\n<li>The CI type tree in Studio displays a maximum of 5 levels of CI types, from the top of Configuration Item. If you federate a fifth-level CI type, any child CI types it has will also be federated.</li>\n</ul>\n</div></div></div>\n<h4>Further configuration required for certain use cases</h4>\n<p>If your business needs include using the newly-federated CI type in any of the following use cases, you must also update some TQLs in UCMDB:</p>\n<ul>\n<li>Display CIs of the newly-federated CI type in the CI topology widget (For more information about the CI topology widget, see <a href=\"/doc/423/26.1/nativesacmcirelation\" title=\"CI topology\">CI topology</a>)</li>\n<li>Include CIs of the newly-federated CI type in a \"Define suggested values for entity link based on filter\" field selection rule (For more information about this type of business rule, see <a href=\"/doc/423/26.1/fieldselectionrulesexamples#Define_suggested_values_for_entity_link_based_on_filter\" title=\"Field selection rule examples\">Field selection rule examples</a>)</li>\n<li>Use business rules to create or delete relationships between CIs of the newly-federated CI type (For more information about this type of business rule, see <a href=\"/doc/423/26.1/nativesacmstudio#Use_business_rules_to_modify_CI_relationships\" title=\"Configure Native SACM with Studio\">Configure Native SACM with Studio</a>)</li>\n</ul>\n<h5>Display CIs of the newly-federated CI type in the CI topology widget</h5>\n<ol>\n<li>In UCMDB Admin UI, click <strong>Modeling Studio</strong>.</li>\n<li>Expand <strong>SMAXTopology</strong>.</li>\n<li>Double-click <strong>SMAX_Generic_Topology</strong>, and then double-click <strong>InputCI</strong> to open the <strong>Query Node Properties</strong> window.</li>\n<li>In the <strong>Query Node Properties</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>In the <strong>CI Types</strong> tree, locate and click the newly-federated CI type. In the <strong>Condition</strong> drop-down list on the right, select <strong>Include</strong> <strong>&lt;newly-federated CI type&gt; in the query</strong>. Make sure the <strong>By CI types</strong> option is selected, and select the <strong>Apply this condition recursively on all subtypes of &lt;newly-federated CI type&gt;</strong> option only if all child CI types of the newly-federated CI type are also federated in Service Management.</li>\n<li>Click <strong>OK</strong> to save the changes.</li>\n<li>Double-click <strong>RelatedCI</strong>, the <strong>Query Node Properties</strong> window opens.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the <strong>RelatedCI</strong> node.</li>\n<li>Double-click the <strong>Virtual_Input_to_related</strong> arrow between <strong>InputCI</strong> and <strong>RelatedCI, </strong>the <strong>Add Compound Relationship</strong> window opens.<strong> </strong></li>\n<li>In the <strong>Add Compound Relationship</strong> window, select the first <strong>ConfigurationItem</strong>.</li>\n<li>Click the pencil icon next to <strong>Apply recursively:Yes</strong> under <strong>Source</strong> to open the <strong>Compound Relationship Condition Definition</strong> window.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"NativeSacmTqlAppResource01.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/c/cd/NativeSacmTqlAppResource01.png\" height=\"71\" hspace=\"0\" src=\"../../../images/NativeSacmTqlAppResource01_a658c9d6.png\" style=\"width:216px;height:71px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"216\"/> </a></li>\n<li>In the <strong>Compound Relationship Condition Definition</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the source of this <strong>ConfigurationItem</strong>.</li>\n<li>Click the pencil icon next to <strong>Apply recursively:Yes</strong> under <b>Target </b>to open the <strong>Compound Relationship Condition Definition</strong> window.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"NativeSacmTqlAppResource02.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/d/d9/NativeSacmTqlAppResource02.png\" height=\"69\" hspace=\"0\" src=\"../../../images/NativeSacmTqlAppResource02_4c751f41.png\" style=\"width:206px;height:69px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"206\"/> </a></li>\n<li>In the <strong>Compound Relationship Condition Definition</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the target of this <strong>ConfigurationItem</strong>.</li>\n<li>In the <strong>Add Compound Relationship</strong> window, select the second <strong>ConfigurationItem</strong>.</li>\n<li>Repeat <em>step 11 </em>to <em>step 16</em> above to make the same changes to the second <strong>ConfigurationItem</strong>.</li>\n<li>Click <strong>OK</strong> to save the changes.</li>\n</ol>\n<h5>Include CIs of the newly-federated CI type in a \"Define suggested values for entity link based on filter\" field selection rule</h5>\n<div>\n<ol>\n<li>In UCMDB Admin UI, click <strong>Modeling Studio</strong>.</li>\n<li>Expand <strong>SMAXTopology</strong>.</li>\n<li>Double-click <strong>SMAX_Filter_Topology</strong>, and then double-click <strong>InputCI</strong> to open the <strong>Query Node Properties</strong> window.</li>\n<li>In the <strong>Query Node Properties</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>In the <strong>CI Types</strong> tree, locate and click the newly-federated CI type. In the <strong>Condition</strong> drop-down list on the right, select <strong>Include</strong> <strong>&lt;newly-federated CI type&gt; in the query</strong>. Make sure the <strong>By CI types</strong> option is selected, and select the <strong>Apply this condition recursively on all subtypes of &lt;newly-federated CI type&gt;</strong> option only if all child CI types of the newly-federated CI type are also federated in Service Management.</li>\n<li>Click <strong>OK</strong> to save the changes.</li>\n<li>Double-click <strong>RelatedCI</strong>, the <strong>Query Node Properties</strong> window opens.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the <strong>RelatedCI</strong> node.</li>\n<li>Double-click the <strong>Virtual_Input_to_related</strong> arrow between <strong>InputCI</strong> and <strong>RelatedCI, </strong>the <strong>Add Compound Relationship</strong> window opens.<strong> </strong></li>\n<li>In the <strong>Add Compound Relationship</strong> window, select the first <strong>ConfigurationItem</strong>.</li>\n<li>Click the pencil icon next to <strong>Apply recursively:Yes</strong> under <strong>Source</strong> to open the <strong>Compound Relationship Condition Definition</strong> window.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"NativeSacmTqlAppResource01.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/c/cd/NativeSacmTqlAppResource01.png\" height=\"71\" hspace=\"0\" src=\"../../../images/NativeSacmTqlAppResource01_a658c9d6.png\" style=\"width:216px;height:71px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"216\"/> </a></li>\n<li>In the <strong>Compound Relationship Condition Definition</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the source of this <strong>ConfigurationItem</strong>.</li>\n<li>Click the pencil icon next to <strong>Apply recursively:Yes</strong> under <b>Target </b>to open the <strong>Compound Relationship Condition Definition</strong> window.<br/>\n<a class=\"image\" href=\"\"> <img alt=\"NativeSacmTqlAppResource02.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/d/d9/NativeSacmTqlAppResource02.png\" height=\"69\" hspace=\"0\" src=\"../../../images/NativeSacmTqlAppResource02_4c751f41.png\" style=\"width:206px;height:69px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"206\"/> </a></li>\n<li>In the <strong>Compound Relationship Condition Definition</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>Repeat <em>step 4</em> to <em>step 6</em> above to make the same changes to the target of this <strong>ConfigurationItem</strong>.</li>\n<li>Click <strong>OK</strong> to save the changes.</li>\n</ol>\n</div>\n<h5>Use business rules to create or delete relationships between CIs of the newly-federated CI type</h5>\n<div>\n<ol>\n<li>In UCMDB Admin UI, click <strong>Modeling Studio</strong>.</li>\n<li>Expand <strong>SMAXTopology</strong>.</li>\n<li>Double-click <strong>SMAX_Direct_Linked_CI</strong>.</li>\n<li>Double-click <strong>Direct_Linked_CI</strong> to open the <strong>Query Node Properties</strong> window.</li>\n<li>In the <strong>Query Node Properties</strong> window, click the <strong>Element Type</strong> tab.</li>\n<li>In the <strong>CI Types</strong> tree, locate and click the newly-federated CI type. In the <strong>Condition</strong> drop-down list on the right, select <strong>Include</strong> <strong>&lt;newly-federated CI type&gt; in the query</strong>. Make sure the <strong>By CI types</strong> option is selected, and select the <strong>Apply this condition recursively on all subtypes of &lt;newly-federated CI type&gt;</strong> option only if all child CI types of the newly-federated CI type are also federated in Service Management.</li>\n<li>Click <strong>OK</strong> to save the changes.</li>\n</ol>\n</div>\n<h2>Federated attributes</h2>\n<p>Along with federated CI types, some of the CI types' attributes are federated with the record type's \"fields\" in Service Management. In Studio, a field of a SACM record type may have some or all of the following three read-only properties:</p>\n<ul>\n<li><strong>Federated Attribute:</strong> If checked, it identifies that this field is in connection with an attribute in UCMDB.</li>\n<li><strong>Editable:</strong> If checked, you are allowed to directly update the federated field/attribute through either the Service Management/UCMDB Local Client or REST calls. If unchecked, this field/attribute can't be updated. The editable flag is set automatically and depends on the UCMDB permissions for the attribute.</li>\n<li><strong>UCMDB Property Name:</strong> The name of the CI type attribute that's federated with this field.</li>\n</ul>\n<p><strong>Note:</strong> Federated attributes are only stored in the UCMDB database instead of in the Service Management database.</p>\n<p>Take the <strong>BiosAssetTag</strong> field of the <strong>Device</strong> record type as an example, in Studio, it has the following three properties:</p>\n<ul>\n<li><strong>Federated Attribute:</strong> Checked, meaning that it's federated with a UCMDB attribute.</li>\n<li><strong>UCMDB Property Name:</strong> <strong>bios_asset_tag</strong>, meaning that it's federated with the <strong>bios_asset_tag</strong> attribute in UCMDB. Any changes made to the <strong>BiosAssetTag</strong> field or the <strong>bios_asset_tag</strong> attribute will be synchronized to the other system instantly.</li>\n<li><strong>Editable:</strong> Checked, meaning that the field/attribute is editable in both Service Management and UCMDB.</li>\n</ul>\n<p>When working with federated attributes, be aware that some attributes can be updated through the Service Management UI, but they can also get updated from the UCMDB side (UCMDB UI or Discovery). This means the displayed data comes from the system that updated an attribute last. </p>\n<p>In case you don't want to allow updating certain UCMDB attributes through the Service Management UI, for example, to prevent discovered data from being overwritten, we recommend that you add Studio business rules to make the Service Management fields read-only.<br/>\n<br/>\nApart from out-of-the-box UCMDB attributes, Native SACM also supports field mapping with customized UCMDB attributes. </p>\n<h3>Simple type attributes</h3>\n<p>Currently, we support the following field types of Service Management for federated simple type attributes.</p>\n<table>\n<tbody>\n<tr>\n<th><strong>Service Management field type</strong></th>\n<th><strong>UCMDB Gateway exposed field type</strong></th>\n<th>UCMDB attribute type</th>\n</tr>\n<tr>\n<td>SMALL_TEXT</td>\n<td>String</td>\n<td>String</td>\n</tr>\n<tr>\n<td>MEDIUM_TEXT</td>\n<td>String</td>\n<td>String</td>\n</tr>\n<tr>\n<td>LARGE_TEXT</td>\n<td>String</td>\n<td>String</td>\n</tr>\n<tr>\n<td>ENUM</td>\n<td>String</td>\n<td>String</td>\n</tr>\n<tr>\n<td>URL</td>\n<td>String</td>\n<td>String</td>\n</tr>\n<tr>\n<td>DATE_TIME</td>\n<td>Date</td>\n<td>Date</td>\n</tr>\n<tr>\n<td>INTEGER</td>\n<td>Integer</td>\n<td>Integer</td>\n</tr>\n<tr>\n<td>BOOLEAN</td>\n<td>Boolean</td>\n<td>Boolean</td>\n</tr>\n<tr>\n<td>DOUBLE</td>\n<td>Number</td>\n<td>Double</td>\n</tr>\n<tr>\n<td>PERCENTAGE</td>\n<td>Number</td>\n<td>Double</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>For MEDIUM_TEXT and LARGE_TEXT field types in Service Management, the corresponding UCMDB attribute type in is VARCHAR2, limited to 4000 bytes. When Service Management runs standalone (without Native SACM), these field types can exceed 4000 bytes. If Native SACM is enabled, MEDIUM_TEXT and LARGE_TEXT's sizes are also limited to 4000 bytes. </div></div></div>\n<h3>Complex type attributes</h3>\n<p>Complex attributes such as a list of CPUs, File Systems, or IP addresses can't be created in Service Management anymore. These details are synchronized directly from UCMDB and shown in Device records. </p>\n<h3>CI Owners and Locations </h3>\n<p>Owner and location attributes in UCMDB are independent of the owner and location data in Service Management. These attributes aren't federated in this release. </p>\n<h3>Business Criticality mapping</h3>\n<p>The <strong>Business Criticality</strong> field in Service Management and the <strong>business_criticality</strong> attribute in UCMDB are federated. They are mapped as shown in the table below.</p>\n<table>\n<tbody>\n<tr>\n<th>\n<p>Service Management</p>\n</th>\n<th>\n<p>UCMDB Server</p>\n</th>\n<th>\n<p>UCMDB Browser</p>\n</th>\n</tr>\n<tr>\n<td>\n<p>NoImpact</p>\n</td>\n<td>\n<p>0</p>\n</td>\n<td>\n<p>No_Impact</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>VeryLow</p>\n</td>\n<td>\n<p>1</p>\n</td>\n<td>\n<p>LOW</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Low</p>\n</td>\n<td>\n<p>2</p>\n</td>\n<td>\n<p>MEDIUM_LOW</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Medium</p>\n</td>\n<td>\n<p>3</p>\n</td>\n<td>\n<p>MEDIUM</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>High</p>\n</td>\n<td>\n<p>4</p>\n</td>\n<td>\n<p>MEDIUM_HIGH</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>VeryHigh</p>\n</td>\n<td>\n<p>5</p>\n</td>\n<td>\n<p>HIGH</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Null</p>\n</td>\n<td>\n<p>Null</p>\n</td>\n<td>\n<p>Null</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>If <strong>business_criticality </strong>is higher than <strong>5</strong>, it will always be <strong>VeryHigh</strong> in Service Management. Likewise, a <strong>business_criticality</strong> lower than <strong>0</strong> will be marked <strong>NoImpact</strong> in Service Management.</p>\n<p>The first time the <strong>Business Criticality </strong>(Service Management) and<strong> </strong><strong>business_criticality </strong>(UCMDB) are federated, the UCMDB value is honored and the Service Management value may cause a change of the <strong>Business Criticality </strong>value in Service Management. For example, a <strong>Medium</strong> record in Service Management will become <strong>High</strong> if its corresponding UCMDB CI has a <strong>business_criticality </strong>of 4.</p>\n<p>We also recommend that you use enrichment rules in UCMDB to set the business criticality attribute of CIs and let it be synchronized to Service Management.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>The business criticality of the traditional OPB-based integration doesn't follow this rule. If you move your environment to Native SACM from an OPB-based integration, the <strong>Business Criticality</strong> value in Service Management will be updated accordingly.</div></div></div>\n<h3>Service Management field and UCMDB attribute mapping</h3>\n<h4>Device &lt;-&gt; Node</h4>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service Management field name</th>\n<th scope=\"col\">UCMDB attribute name</th>\n<th scope=\"col\">UCMDB read-only</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BiosAssetTag</td>\n<td>bios_asset_tag</td>\n<td>N</td>\n</tr>\n<tr>\n<td>BiosSerialNumber</td>\n<td>bios_serial_number</td>\n<td>N</td>\n</tr>\n<tr>\n<td>BiosUUID</td>\n<td>bios_uuid</td>\n<td>N</td>\n</tr>\n<tr>\n<td>BiosVersion</td>\n<td>bios_version</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DefaultGatewayIPAddress</td>\n<td>default_gateway_ip_address</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DisplayLabel</td>\n<td>display_label</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DomainName</td>\n<td>domain_name</td>\n<td>N</td>\n</tr>\n<tr>\n<td>GlobalId</td>\n<td>global_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>MemorySize</td>\n<td>memory_size</td>\n<td>N</td>\n</tr>\n<tr>\n<td>Model</td>\n<td>discovered_model</td>\n<td>N</td>\n</tr>\n<tr>\n<td>NetBiosName</td>\n<td>net_bios_name</td>\n<td>N</td>\n</tr>\n<tr>\n<td>NodeRole</td>\n<td>node_role</td>\n<td>N</td>\n</tr>\n<tr>\n<td>OsDescription</td>\n<td>os_description</td>\n<td>N</td>\n</tr>\n<tr>\n<td>OsType</td>\n<td>os_family</td>\n<td>N</td>\n</tr>\n<tr>\n<td>OsVendor</td>\n<td>os_vendor</td>\n<td>N</td>\n</tr>\n<tr>\n<td>OsName</td>\n<td>discovered_os_name</td>\n<td>N</td>\n</tr>\n<tr>\n<td>OsVersion</td>\n<td>discovered_os_version</td>\n<td>N</td>\n</tr>\n<tr>\n<td>PrimaryDNSName</td>\n<td>primary_dns_name</td>\n<td>N</td>\n</tr>\n<tr>\n<td>SerialNumber</td>\n<td>serial_number</td>\n<td>N</td>\n</tr>\n<tr>\n<td>Vendor</td>\n<td>discovered_vendor</td>\n<td>N</td>\n</tr>\n<tr>\n<td>SubType</td>\n<td>sd_type</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DataDomains</td>\n<td>TenantsUses</td>\n<td>N</td>\n</tr>\n<tr>\n<td>CiType</td>\n<td>root_class</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>HostName</td>\n<td>Name</td>\n<td>N</td>\n</tr>\n<tr>\n<td>BitmapId</td>\n<td>bitmap_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitPosition</td>\n<td>bit_position</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>MetaPhaseName</td>\n<td>metaphase</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DiscoveryState</td>\n<td>discovery_state</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>VirtualDevice</td>\n<td>host_isvirtual</td>\n<td>N</td>\n</tr>\n<tr>\n<td>ProvisionState</td>\n<td>provision_state</td>\n<td>Y</td>\n</tr>\n</tbody>\n</table>\n<h4>System Element &lt;-&gt; Application System/Running Software/Application Resource/Cloud Service</h4>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service Management field name</th>\n<th scope=\"col\">UCMDB attribute name</th>\n<th scope=\"col\">UCMDB read-only</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GlobalId</td>\n<td>global_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DisplayLabel</td>\n<td>display_label</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>SubType</td>\n<td>sd_type</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DataDomains</td>\n<td>TenantsUses</td>\n<td>N</td>\n</tr>\n<tr>\n<td>CiType</td>\n<td>Root_class</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitmapId</td>\n<td>bitmap_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitPosition</td>\n<td>bit_position</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>MetaPhaseName</td>\n<td>metaphase</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DiscoveryState</td>\n<td>discovery_state</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>ProvisionState</td>\n<td>provision_state</td>\n<td>Y</td>\n</tr>\n</tbody>\n</table>\n<h4>Service Component &lt;-&gt; Business Application</h4>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service Management field name</th>\n<th scope=\"col\">UCMDB attribute name</th>\n<th scope=\"col\">UCMDB read-only</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GlobalId</td>\n<td>global_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DisplayLabel</td>\n<td>display_label</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>SubType</td>\n<td>sd_type</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DataDomains</td>\n<td>TenantsUses</td>\n<td>N</td>\n</tr>\n<tr>\n<td>CiType</td>\n<td>Root_class</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitmapId</td>\n<td>bitmap_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitPosition</td>\n<td>bit_position</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>MetaPhaseName</td>\n<td>metaphase</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DiscoveryState</td>\n<td>discovery_state</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>ProvisionState</td>\n<td>provision_state</td>\n<td>Y</td>\n</tr>\n</tbody>\n</table>\n<h4>Actual Service &lt;-&gt; Service</h4>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service Management field name</th>\n<th scope=\"col\">UCMDB attribute name</th>\n<th scope=\"col\">UCMDB read-only</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GlobalId</td>\n<td>global_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DisplayLabel</td>\n<td>display_label</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>SubType</td>\n<td>sd_type</td>\n<td>N</td>\n</tr>\n<tr>\n<td>BusinessCriticality</td>\n<td>business_criticality</td>\n<td>N</td>\n</tr>\n<tr>\n<td>DataDomains</td>\n<td>TenantsUses</td>\n<td>N</td>\n</tr>\n<tr>\n<td>CiType</td>\n<td>Root_class</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitmapId</td>\n<td>bitmap_id</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>BitPosition</td>\n<td>bit_position</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>MetaPhaseName</td>\n<td>metaphase</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>DiscoveryState</td>\n<td>discovery_state</td>\n<td>Y</td>\n</tr>\n<tr>\n<td>ProvisionState</td>\n<td>provision_state</td>\n<td>Y</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>A display label in Service Management can have up to 140 characters. If the display label of a CI has more than 140 characters in UCMDB, it cannot be synchronized to Service Management. </div></div></div>\n<h2>Shared CI history</h2>\n<p>The history of CIs is displayed in both Service Management and UCMDB, regardless of whether events were initiated in Service Management or in UCMDB. For example, when you update a CI in UCMDB, that event is also displayed on the History tab of that CI in Service Management.</p>\n<ul>\n<li>When a user creates or updates a CI in Service Management, the history in UCMDB displays the Service Management user's User Principle Name (UPN). Note that in order to display UPNs created in Simplified Chinese, Japanese, or Korean correctly, you must be running UCMDB 25.1 or a later version. </li>\n<li>When a user creates or updates a CI in UCMDB, the history in Service Management displays the user's user name. If the user exists in both UCMDB and Service Management (for example in a shared IdM), the Service Management user's name is displayed. If the user exists only in UCMDB, the UCMDB user's name is displayed as a text string.</li>\n<li>When a scheduled job or data migration creates or updates a CI in Service Management, the history in UCMDB displays \"System\".</li>\n<li>When a UD discovery job or any other scheduled job creates or updates a CI in UCMDB, the history in Service Management displays \"System\".</li>\n</ul>\n<h2>Use the NativeSACMContext field for restriction business rules</h2>\n<p>On the Service Management side, all SACM record types have a LARGE_TEXT field named NativeSACMContext, which stores the Native-SACM-specific context. The possible values of this field are:</p>\n<ul>\n<li><strong>{\"operation\": \"create\", \"process\": \"notification\", \"lastupdatetime\": %timestamp%}</strong> which indicates that the CI's latest synchronization from UCMDB is a regular <strong>Create</strong> operation.</li>\n<li><strong>{\"operation\": \"update\", \"process\": \"notification\", \"lastupdatetime\": %timestamp%}</strong> which indicates that the CI's latest synchronization from UCMDB is a regular <strong>Update</strong> operation.</li>\n<li><strong>{\"operation\": \"create\", \"process\": \"migration\", \"lastupdatetime\": %timestamp%}</strong> which indicates that the CI's latest synchronization from UCMDB is a <strong>Create</strong> operation as a part of a CI migration.</li>\n<li><strong>{\"operation\": \"update\", \"process\": \"migration\", \"lastupdatetime\": %timestamp%}</strong> which indicates that the CI's latest synchronization from UCMDB is an <b>Update </b>operation as a part of a CI migration.</li>\n</ul>\n<p>To guarantee all CIs are consistent on both Service Management and UCMDB sides, we strongly recommend that you add a condition with the <strong>NativeSACMContext</strong> field when applying <strong>Restrict</strong> and <strong>Read-Only</strong> business rules on federated fields, or <strong>Mandatory</strong> business rules on any SACM CI's fields. By doing this, these business rules can be skipped in CI synchronization from UCMDB to Service Management when enabling or utilizing Native SACM. Without this condition, it is very likely these business rules will block the CI synchronization from UCMDB. For example, you have a <strong>Restrict</strong> business rule applied on the <strong>SerialNumber</strong> field, when a Node CI is created/updated with a new serial number, the <strong>Restrict</strong> business rule doesn't allow the Native SACM mechanism to create/update the corresponding device record on the Service Management side.</p>\n<p>There is a slight difference between using <strong>Restrict</strong> and <strong>Read-Only/Mandatory </strong>business rules. When setting up <strong>Restrict</strong> rules, as it supports restricting multiple fields in one business rule, we recommend that you create separate rules for Native-SACM-federated and non<strong>-</strong>Native-SACM-federated fields. </p>\n<p>For example:</p>\n<div><a class=\"image\" href=\"\"> <img alt=\"NativeSacmBr1.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/6/63/NativeSacmBr1.png\" height=\"54\" hspace=\"0\" src=\"../../../images/NativeSacmBr1_0f1d3391.png\" style=\"width:800px;height:54px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<div><a class=\"image\" href=\"\"> <img alt=\"NativeSacmBr2.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/4/44/NativeSacmBr2.png\" height=\"54\" hspace=\"0\" src=\"../../../images/NativeSacmBr2_5d37a09f.png\" style=\"width:800px;height:54px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<div><a class=\"image\" href=\"\"> <img alt=\"NativeSacmBr3.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/e/e5/NativeSacmBr3.png\" height=\"54\" hspace=\"0\" src=\"../../../images/NativeSacmBr3_c3ecaa72.png\" style=\"width:800px;height:54px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<div><a class=\"image\" href=\"\"> <img alt=\"NativeSacmBr4.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/0/07/NativeSacmBr4.png\" height=\"55\" hspace=\"0\" src=\"../../../images/NativeSacmBr4_45483bd7.png\" style=\"width:800px;height:55px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<h3>Some additional values to parse NativeSACMContext for special use cases</h3>\n<p>As we have json body {\"operation\":\"create\",\"process\":\"notification\",\"lastupdatetime\":\"%timestamp%\"} defined in the <strong>NativeSACMContext</strong> field, we can use the DSL function <strong>extract_property()</strong> to parse the json body for specific use cases. For example,</p>\n<div><a class=\"image\" href=\"\"> <img alt=\"NativeSacmBr5.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/f/f4/NativeSacmBr5.png\" height=\"74\" hspace=\"0\" src=\"../../../images/NativeSacmBr5_7157dad9.png\" style=\"width:800px;height:74px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<p>When Universal Discovery discovers a newly online PostgreSQL instance, it will create the new PostgreSQL CI in UCMDB and have it automatically synced to Service Management. This Service Management business rule will capture this change and automatically send an email to the DBA group for their awareness of corresponding actions. It will only be triggered when the CI is synced from UCMDB and it will ingore any CIs created from the Service Management side or synced during Native SACM migration. </p>\n<h2>Subtype mapping</h2>\n<p>Whereas UCMDB uses the CI Type to classify objects, Service Management uses the Subtype to classify SACM records in less technical terms. Whenever a federated CI/SACM record is created in UCMDB/Service Management, in order for it to be created into a precise category in the other system, the following mapping mechanisms are implemented.</p>\n<p><strong>Note:</strong> The <strong>Subtype</strong> field is federated with the <strong>sd_type</strong> attribute in UCMDB.</p>\n<h3>Service Management Subtype to UCMDB CI type</h3>\n<p>When a user creates a record of a federated SACM record type in Service Management, Subtype is a mandatory field. Based on the selected Subtype, a CI of the corresponding CI type is created in UCMDB. </p>\n<p>In earlier Service Management versions, this mapping is defined by the <code>CITypeMapping.json5</code> mapping file in the <code>dataSource</code> folder of the UCMDB API gateway. However, the use of the <code>CITypeMapping.json5</code> mapping file has its limits:</p>\n<ul>\n<li>The .json5 file is unique to all UCMDB customers in one UCMDB farm, therefore, it cannot support different mapping needs among multiple UCMDB customers.</li>\n<li>It's hard to customize the .json5 file in containerized UD/UCMDB.</li>\n</ul>\n<p>Starting Service Management <code>2022.05</code>, this mapping is defined by a set of business rules. These business rules set the CI type based on conditions like Native SACM status and Subtype. By default, the following basic rules are predefined in the After change sections of Actual Service, Device, Service Component, and System Element record types and cannot be modified:</p>\n<ul>\n<li><strong>For Actual Service</strong>: <code>If ${(tenant_settings.ENABLE_CMSX == true &amp;&amp; entity.Id == null &amp;&amp; (entity.CiType == null || entity.CiType == '')) || (tenant_settings.ENABLE_CMSX != true &amp;&amp; (entity.CiType == null || entity.CiType == ''))} Set CI type to business_service </code></li>\n<li><strong>For Device</strong>:If ${(tenant_settings.ENABLE_CMSX == true &amp;&amp; entity.Id == null &amp;&amp; (entity.CiType == null || entity.CiType == '')) || (tenant_settings.ENABLE_CMSX != true &amp;&amp; (entity.CiType == null || entity.CiType == ''))}<code> Set CI type to node </code></li>\n<li><strong>For Service Component</strong>: If ${(tenant_settings.ENABLE_CMSX == true &amp;&amp; entity.Id == null &amp;&amp; (entity.CiType == null || entity.CiType == '')) || (tenant_settings.ENABLE_CMSX != true &amp;&amp; (entity.CiType == null || entity.CiType == ''))}<code> Set CI type to business_application</code></li>\n<li><strong>For System Element</strong>: <code>If ${tenant_settings.ENABLE_CMSX != true} Set CI type to null</code></li>\n</ul>\n<p>During the creation of CIs in Service Management, these basic rules will specify the default CI type if Subtype is empty or if there's no mapped business rule for the Subtype.</p>\n<p>Other than these four basic rules, for each record type, there are a series of specific out-of-the-box business rules that define CI types based on Subtypes, which otherwise, are customizable. For example, the following business rule in Device maps Service Management SubType <strong>Desktop</strong> with UCMDB CI Type <strong>nt</strong>.</p>\n<p><code>If ${(tenant_settings.ENABLE_CMSX == true &amp;&amp; entity.Id == null &amp;&amp; entity.SubType == 'Desktop')||(tenant_settings.ENABLE_CMSX != true &amp;&amp; entity.SubType == 'Desktop')} Set CI type to nt</code></p>\n<div><a class=\"image\" href=\"\"> <img alt=\"business_rule_subtype_citype1.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/9/9e/business_rule_subtype_citype1.png\" height=\"121\" hspace=\"0\" src=\"../../../images/business_rule_subtype_citype1_4980a6f7.png\" style=\"width:800px;height:121px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<p>In this example, when you create a Device record with the Subtype <strong>Desktop</strong> in Service Management, the value <strong>nt</strong> is saved in the CI type field of the record. Meanwhile, a CI of the <strong>nt</strong> CI type is created in UCMDB. </p>\n<h4>Things to be aware of</h4>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> When you have a customized Subtype, make sure you have it mapped with a UCMDB CI type through a business rule. Also, if you have customized mapping (subtype - CItype) in CITypemapping.json5 before, you must reconfigure them through business rules after a Service Management upgrade.</div></div></div>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> In Service Management versions earlier than <code>2021.02</code>, a custom Subtype created in Service Management always has a suffix <strong>_c</strong>, the corresponding <strong>sd_type</strong> in UCMDB doesn't have the suffix <strong>_c</strong>. Starting Service Management <code>2021.02</code>, this behavior has changed to avoid query failures. For example:\n\n<ul>\n<li>In Service Management 2020.11, if you create a subtype <strong>Tablet</strong>, the Subtype name in Service Management is <strong>Tablet_c</strong>, and the corresponding <strong>sd_type</strong> in UCMDB is <strong>Tablet</strong>, without<strong> </strong>the suffix<strong> _c</strong>.</li>\n<li>In Service Management 2021.02, if you create a <strong>Tablet</strong>, the Subtype name in Service Management is <strong>Tablet_c</strong>, and the corresponding <strong>sd_type</strong> in UCMDB is <strong>Tablet_c</strong>, exactly the same.</li>\n</ul>\nBecause of this change, if you have upgraded Service Management from a version earlier than 2021.02, you need to use UCMDB enrichment rules to manually update the existing <strong>sd_type</strong> names that were already federated with Service Management Subtypes. In the example above, after you upgrade Service Management to 2021.02, run a UCMDB enrichment rule to replace the existing <strong>Tablet</strong> sd_type with <strong>Tablet_c</strong>.</div></div></div>\n<h3>UCMDB CI type to Service Management Subtype</h3>\n<p>When a CI of a federated CI type is created or discovered in UCMDB, another group of Service Management <strong>Set Subtype</strong> business rules take effect and will initialize the Subtype according to CI type. For Devices, the subtype will also be determined by NodeRole and OSType. </p>\n<p>Take Device CIs as an example:</p>\n<ul>\n<li>\n<pre>If ${tenant_settings.ENABLE_CMSX == true &amp;&amp; (entity.SubType == null || entity.SubType == '' || entity.SubType == 'Other') &amp;&amp; is_ci_type_of(entity.CiType, 'host_node') == true}\n\nSet Subtype to Server</pre>\n\tIf there hasn't been a genuine SubType for a Device CI and the CI is a \"host_node\" or a child of the \"host_node\" in UCMDB, this rule sets the Subtype to \"Server.\"</li>\n<li>\n<pre>If ${tenant_settings.ENABLE_CMSX == true &amp;&amp; (entity.SubType == null || entity.SubType == '' || entity.SubType == 'Other') &amp;&amp; is_ci_type_of(entity.CiType, 'node') == true &amp;&amp; indexof(entity.NodeRole, 'firewall') &gt;=0}\nSet Subtype to Firewall</pre>\n\tIf there hasn't been a genuine SubType for a Device CI, the CI is a \"node\" or a child of the \"node\" in UCMDB, and its NodeRole is \"firewall,\" this rule sets the Subtype to \"Server.\"</li>\n<li>\n<pre>If ${tenant_settings.ENABLE_CMSX == true &amp;&amp; (entity.SubType == null || entity.SubType == '' || entity.SubType == 'Other') &amp;&amp; is_ci_type_of(entity.CiType, 'node') == true &amp;&amp; entity.OsType == 'Windows'}\nSet Subtype to Server</pre>\n\tIf there hasn't been a genuine SubType for a Device CI, the CI is a \"node\" or a child of the \"node\" in UCMDB, and its OsType is \"Windows,\" this rule sets the Subtype to \"Server.\"</li>\n<li>\n<pre>If ${tenant_settings.ENABLE_CMSX == true &amp;&amp; (entity.SubType == null || entity.SubType == '')}\n\nSet Subtype to Other</pre>\n\tIf there hasn't been a genuine SubType for a Device CI and none of the rules above have been triggered, this rule sets the Subtype to \"Other.\"</li>\n</ul>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> In Studio, the order of business rules represents priorities. In this scenario, if a higher rule is triggered to initialize the SubType, the lower rules will not be triggered as the conditions are not met any more. The OOTB <strong>Set Subtype</strong> rules are designed with considerations in order for the CI's Subtype mapping to be as accurate as possible. All <strong>Set Subtype</strong> rules work as a whole, the rules listed above are merely examples and can't be taken out of context. </div></div></div>\n<h3>How to reset Subtypes for existing CIs</h3>\n<p>If you want to completely reset the Subtypes for existing CIs, you can set all CI's Subtype to Other or blank as a temporary state, and then the <strong>Set Subtype</strong> business rules will start over and grant genuine values for them.</p>\n<ul>\n<li>For Devices/System Elements, you can trigger the business rules to reset Sub Types by setting the Subtype to “Other” (if not \"Other\"). Or, you can set Subtypes to blank (if already set as \"Other\") via mass update.</li>\n<li>For Actual Services/Service Components, as there is no \"Other\" for the Subtype, you can set the Subtype to blank via mass update. This will trigger the <strong>Set Subtype</strong> business rules as well.</li>\n</ul>\n<p>As mass update can only update 500 records each time, if you need to use mass update for more than 500 records, either run multiple mass updates in Service Management or define UCMDB enrichment rules (with related queries) to update related CIs' SD type to \"Other\" or blank. This can re-trigger Service Management business rules to reset SubTypes. </p>\n<h2>CI synchronization control through Subtype and sd_type mapping</h2>\n<p>It's common to have the requirement to control the CIs to be synchronized from UCMDB to Service Management. In fact, not all CIs, especially certain CIs discovered by Universal Discovery, are of interest to Service Management users. Starting Service Management <code>2021.05</code>+UCMDB <code>2021.05</code>, you can use the Service Management Subtype and UCMDB sd_type mapping to control the CIs to be synchronized to Service Management.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>This feature works for all federated CI types excluding Service Management complex types (IpAddress, File System, Disk Device, Network Card, CPU, and Running Software).</div></div></div>\n<p>In general, when a CI's sd_type is set to <strong>not-applicable</strong> in UCMDB, it doesn't get synchronized to Service Management. The following table lists the scenarios of how this value controls CI synchronization from UCMDB.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> This <strong>not-applicable</strong> value is only applicable for the \"new\" CI scenario in UCMDB. That is, when a CI is newly created or discovered in UCMDB, its <strong>sd_type</strong> can be set to <strong>not-applicable</strong>, so that it will not be synced to Service Management. It doesn't support the \"update\" CI scenario that updates an existing UCMDB CI's <strong>sd_type</strong> to <strong>not-applicable</strong>. As an existing valid CI has been synced to Service Management already, changing it to <strong>not-applicable</strong> doesn't impact the Service Management CI. Instead, the Service Management CI will become a shadow CI and dirty data appears as the side effect. In case a shadow CI appears in Service Management, we suggest to delete them on both sides and then re-create or re-discover it in UCMDB after properly setting <strong>not-applicable</strong> as the default <strong>sd_type</strong> or in a UD normalization rule.</div></div></div>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<th>Scenario</th>\n<th>Synchronization</th>\n</tr>\n<tr>\n<td>During data migration before enabling Native SACM in Suite Administration</td>\n<td>\n<ul>\n<li>CIs with valid sd_type or empty sd_type<strong> </strong>get synchronized to Service Management.</li>\n<li>CIs with <strong>not-applicable</strong> or invalid sd_type values are not synchronized. </li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>With Native SACM enabled, a new CI is created in UCMDB</td>\n<td>\n<ul>\n<li>A CI with a valid or empty sd_type gets created in Service Management.</li>\n<li>A CI with <strong>not-applicable</strong> or invalid sd_type is not created in Service Management.</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>With Native SACM enabled, the sd_type of a CI is updated in UCMDB</td>\n<td>\n<ul>\n<li>If the sd_type is changed from <strong>not-applicable</strong> or an invalid value to a valid or empty value, a CI is created in Service Management</li>\n<li>If the sd_type is changed from a valid or empty value to <strong>not-applicable</strong>, nothing happens to the SACM record in Service Management (the record becomes a shadow CI).</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>With Native SACM enabled, a CI is updated in UCMDB (the sd_type doesn't change)</td>\n<td>\n<ul>\n<li>If the sd_type is valid or empty, the update also happens in Service Management.</li>\n<li>If the sd_type is <strong>not-applicable</strong> or invalid, nothing happens in Service Management.</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>With Native SACM enabled, a CI is deleted in UCMDB</td>\n<td>\n<ul>\n<li>If the sd_type is valid or invalid, the SACM record is deleted in Service Management.</li>\n<li>If the sd_type is <strong>not-applicable</strong>, nothing happens in Service Management.</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>With Native SACM enabled, in the CI Topology widget or the Impact widget</td>\n<td>\n<ul>\n<li>If the sd_type is valid or invalid, a CI is shown in the widget.</li>\n<li>If the sd_type is <strong>not-applicable</strong>, a CI is not shown in the widget.</li>\n<li>If one CI is <strong>not-applicable</strong> but its directly linked CIs are valid or empty, a dotted link will show up between its directly linked CIs in the widgets.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h3>Recommendations for controlling CI synchronization through Subtype and sd_type mapping</h3>\n<p>We recommend that you always manage the CI synchronization using one of the following methods:</p>\n<p>For CIs of a given CI type that you don't want in Service Management, set the default value of the sd_type attribute to <strong>not-applicable</strong> in UCMDB. Typical steps are as follows:</p>\n<ol>\n<li>In UCMDB Local Client, go to <strong>Modeling</strong> &gt; <strong>CI Type Manager</strong>, select the desired CIT in the CI Types pane.</li>\n<li>Go to the <strong>Attributes </strong>tab page for the selected CIT, locate the <strong>SD_Type</strong> attribute and double-click it.</li>\n<li>In the Edit Attribute dialog, on the Details tab, select the <strong>Enable default value</strong> checkbox, and specify the <strong>Default Value</strong> as <strong>not-applicable</strong>.</li>\n<li>Click <strong>OK</strong>.</li>\n<li>Click <strong>Save </strong>in the <strong>CI Types</strong> pane. <br/>\n\t </li>\n</ol>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div> Don't set the default sd_type of a root CI type such as Node to <strong>not-applicable</strong>, only do so for sub CI types. In addition, UCMDB OOB enrichment rules cannot change the sd_type from <strong>not-applicable</strong> to a valid value. In order to do this, you will have to customize an enrichment rule.</div></div></div>\n<p>Alternatively, if you are able to determine unwanted CIs by patterns, you can set sd_type to not-applicable in a normalization rule. This method works for CIs discovered by Universal Discovery. For details, see <a href=\"/doc/403/25.4/adptrulesyntax\" title=\"Discovery rules syntax\">Discovery rules syntax</a>. </p>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}