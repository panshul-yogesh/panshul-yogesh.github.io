{
  "title": "\"NodeInstanceRole is not authorized to perform\" error during the installation on AWS",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>You fail to provision the Application Load Balancer by using the AWS Load Balancer Controller. When running the <code>kubectl logs aws-load-balancer-controller-xxx </code><code>-n kube-system</code> command, you see the following error message:</p>\n<pre>{\"level\":\"error\",\"ts\":xx.xx,\"logger\":\"controller\",\"msg\":\"Reconciler error\",\"controller\":\"ingress\",\"name\":\"meic-loadbalancer\",\n\"namespace\":\"\",\"error\":\":sts::xx:assumed-role/meic-eks-NodeInstanceRole-xx/i-xx is not authorized to perform: elasticloadbalancing:DescribeTargetGroupsst id: xx\"}</pre>\n<p>Additionally, when you run the <code>kubectl get sa aws-load-balancer-controller -n kube-system -o yaml</code> command, the annotation section is not included in the results. The annotation section looks as below:</p>\n<pre>eks.amazonaws.com/role-arn: arn:aws:iam::111122223333:role/AmazonEKSLoadBalancerControllerRole</pre>\n<h2 id=\"Cause\">Cause</h2>\n<p>You didn't delete the <code>ServiceAccount</code> section in the YAML file as requested.</p>\n<h2 id=\"Solution\">Solution</h2>\n<p>Create an IAM role and annotate the Kubernetes service account that's named <code>aws-load-balancer-controller</code> in the <code>kube-system</code> namespace for the AWS Load Balancer Controller using <code>eksctl</code> or the AWS Management Console and <code>kubectl</code> by following the AWS document <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html\">https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html</a>.</p>\n<h2 id=\"Related_topics\">Related topics</h2>\n<p><a href=\"/doc/423/26.1/eksbootstrapcdf#Prepare_Application_Load_Balancer\">Deploy bootstrap</a></p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}