{
  "title": "Offering business rules",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>You can define business rules within a specific offering. The rules run in the request workflow for request records in which the offering is selected as the Catalog offering. These business rules can be used to make a user option mandatory, hidden, or to control values displayed in the user option fields and any fields in the requests based on the offering. For example, you can use this feature to display a state field if United States is selected as the country field.</p>\n<p>You can define the rules to run in connection with one of the following process events:</p>\n<table>\n<tbody>\n<tr>\n<th>Process event</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Before change</td>\n<td>The rule is run before the data is updated.</td>\n</tr>\n<tr>\n<td>After change</td>\n<td>The rule is run after the data is updated.</td>\n</tr>\n<tr>\n<td>Rendering forms</td>\n<td>The rule is run when a form is opened.</td>\n</tr>\n<tr>\n<td>After applying changes</td>\n<td>The rule is run after the change is committed.</td>\n</tr>\n<tr>\n<td>SLT Event</td>\n<td>\n<p>The rule is run when the Service Level target duration reaches the 0%, 50%, 75%, 90%, or 100% level of the target, as defined by the rule.</p>\n<p>For information on defining business rules under the SLT Event process event, see <a href=\"/doc/423/26.1/addslteventrules\" title=\"SMAX:25.1/AddSLTEventRules\">How to add Service Level Target event business rules</a>.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>In each process event, you can define the rule to run either before or after the general record business rules.</p>\n<p>To add an offering business rule</p>\n<ol>\n<li>Select the required offering record and select the <b>Rules</b> tab.</li>\n<li>Select the required process event and click one of the links to add a rule.\n\t<ul>\n<li>Click the <a class=\"image\" href=\"/file/images/6/64/2018.08_Helpcenter/Resources/Images/Icons/PlusIcon.png\" title=\"/file/images/6/64/2018.08_Helpcenter/Resources/Images/Icons/PlusIcon.png\"> <img alt=\"PlusIcon.png\" data-file-height=\"22\" data-file-width=\"24\" height=\"22\" src=\"../../../images/PlusIcon_8ed60e27.png\" width=\"24\"/> </a> button next to <b>Add a rule to run before request record rules</b> to add a business rule that will run before the general record business rules in this process event.</li>\n<li>Click the <a class=\"image\" href=\"/file/images/6/64/2018.08_Helpcenter/Resources/Images/Icons/PlusIcon.png\" title=\"/file/images/6/64/2018.08_Helpcenter/Resources/Images/Icons/PlusIcon.png\"> <img alt=\"PlusIcon.png\" data-file-height=\"22\" data-file-width=\"24\" height=\"22\" src=\"../../../images/PlusIcon_8ed60e27.png\" width=\"24\"/> </a> button next to <b>Add a rule to run after request record rules</b> to add a business rule that will run after the general record business rules in this process event.</li>\n</ul>\n</li>\n<li>Select a rule template and add a business rule. For more information, see <a href=\"/doc/423/26.1/addbizrule\" title=\"SMAX:25.1/AddBizRule\">How to add a business rule</a>.<br/>\n<strong>Note:</strong> Aviod using the many-to-many (M2M) fields when you add a business rule for offering records. For example, the <code>Set Comments to ${concat(entity.ProblemCausedByRequest.Id)}</code> rule will cause an error when a Service Portal user edits the cart item. This is because when the user edits the cart item, the rule which includes the M2M field will be triggered, but this field is missing as M2M fields can't be copied from the Request records to the CartItem records.</li>\n<li>When more than one business rule is defined for a process event, you can click in the left margin to display the arrow buttons <a class=\"image\" href=\"/file/images/c/c6/2018.08_Helpcenter/Resources/Images/EM/emRulesArrows.png\" title=\"/file/images/c/c6/2018.08_Helpcenter/Resources/Images/EM/emRulesArrows.png\"> <img alt=\"emRulesArrows.png\" data-file-height=\"72\" data-file-width=\"38\" height=\"72\" src=\"../../../images/emRulesArrows_4ea8b4c2.png\" width=\"38\"/> </a> which enable you to change the order of the rules or to move a rule from before the general record business rules to after or vice versa. Alternatively, you can drag and drop a rule to the desired location.</li>\n<li>Click  <a class=\"image\" href=\"/file/images/6/66/2018.08_Helpcenter/Resources/Images/Icons/SaveIcon.png\" title=\"/file/images/6/66/2018.08_Helpcenter/Resources/Images/Icons/SaveIcon.png\"> <img alt=\"Save\" data-file-height=\"21\" data-file-width=\"20\" height=\"21\" src=\"../../../images/SaveIcon_5eb13ed6.png\" width=\"20\"/> </a>  <b>Save</b> on the toolbar.</li>\n</ol>\n<p>For an example, see <a href=\"/doc/423/26.1/offeringspricing#Businessrulespricingexample\" title=\"SMAX:25.1/OfferingsPricing\">Business rules pricing example</a>.</p>\n<p>For another example, if you want to set the subscription end date as 7 days after the start date, you may add the following business rule in the “Before change” process event:<br/>\n<a class=\"image\" href=\"/file/images/a/af/SetSubscriptionEndDate7DaysAfterStartDate_.png\" title=\"/file/images/a/af/SetSubscriptionEndDate7DaysAfterStartDate_.png\"> <img alt=\"\" border=\"0\" file=\"/mediawiki/images/a/af/SetSubscriptionEndDate7DaysAfterStartDate_.png\" height=\"305\" hspace=\"0\" src=\"../../../images/SetSubscriptionEndDate7DaysAfterStartDate__dd31a012.png\" vspace=\"0\" width=\"800\"/> </a></p>\n<div class=\"Admonition_Note\">\n<p><span class=\"autonumber\">Note</span>  </p>\n<ul>\n<li>If you select a different offering as the basis for a request record, the business rules of the new offering apply to the request record.</li>\n<li>If you modify the business rules of an offering , existing request records based on the offering aren't affected (they retain the original rules of the offering).</li>\n</ul>\n</div>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/buildcatalog\" title=\"SMAX:25.1/BuildCatalog\">How to build the Service Catalog</a></li>\n<li><a href=\"/doc/423/26.1/designcategorytiles\" title=\"SMAX:25.1/DesignCategoryTiles\">How to design category tiles for the Service Portal</a></li>\n<li><a href=\"/doc/423/26.1/updatecatalog\" title=\"SMAX:25.1/UpdateCatalog\">How to edit the Service Catalog</a></li>\n<li><a href=\"/doc/423/26.1/createofferings\" title=\"SMAX:25.1/CreateOfferings\">How to create an offering</a></li>\n<li><a href=\"/doc/423/26.1/fulfillmentplan\" title=\"SMAX:25.1/FulfillmentPlan\">How to create or edit a fulfillment plan</a></li>\n<li><a href=\"/doc/423/26.1/localizecatalog\" title=\"SMAX:25.1/LocalizeCatalog\">How to localize the Service Catalog</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}