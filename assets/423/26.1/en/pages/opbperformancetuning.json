{
  "title": "On-Premises Bridge task performance tuning",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To improve performance and keep your On-Premises Bridge (OPB) tasks running at peak potential, consider the following methods:</p>\n<ul>\n<li>Enable OPB task cleanup job.</li>\n<li>Database tuning of indexing the <code>OpbTaskDataJSON</code> table.</li>\n</ul>\n<h3>Enable OPB task cleanup job</h3>\n<p>Enable a scheduled job to clean up historical data of completed OPB tasks when the number of task records exceeds a predefined threshold. See <a href=\"/doc/423/26.1/appsettings#Clean_up_historical_OPB_task_data_from_database\" title=\"Clean up historical OPB task data from database\">Clean up historical OPB task data from database</a>.</p>\n<h3>Database tuning</h3>\n<p>The following section contains information for tuning the Postgres database.</p>\n<div class=\"Admonition_Important\"><span class=\"autonumber\">Important</span>: Perform these steps for each existing and all newly added tenant as they are added.</div>\n<h4>Indexing the OpbTaskDataJSON table</h4>\n<p>Check your query to see if you find similar queries like:</p>\n<pre>SELECT body FROM \"OpbTaskDataJSON_850280433\" WHERE (body-&gt;'Task'@&gt;'{\"TaskId\":\"837d7c42-d5c6-4461-a134-dd2a00d8192f\"}'::jsonb) ORDER BY id LIMIT 2000</pre>\n<p>If a similar query exists, use the steps below to index the <code>OpbTaskDataJSON </code>table:</p>\n<ol>\n<li>Create a new index for the OpbTaskDataJSON with the following command:\n\t<pre>\\c xservices_rms create index \"ops_OpbTaskDataJSON_850280433_TaskID\" on \"OpbTaskDataJSON_850280433\" using gin (((body -&gt; 'Task'::text)));</pre>\n</li>\n<li>Test the new index with the following command:\n\t<pre>explain analyze SELECT body FROM \"OpbTaskDataJSON_850280433\" WHERE (body-&gt;'Task'@&gt;'{\"TaskId\":\"837d7c42-d5c6-4461-a134-dd2a00d8192f\"}'::jsonb) ORDER BY id LIMIT 2000;\n</pre>\n<p>It should return:</p>\n<pre>… Index Scan using ops_OpbTaskDataJSON_850280433_TaskID …</pre>\n</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}