{
  "title": "Perform post-upgrade tasks as the suite admin",
  "content": "<div class=\"mw-parser-output\">\n<p>After you upgrade the suite to this version, the suite admin needs to perform the following tasks.</p>\n<h2 id=\"AWS_specific_tasks\"><a id=\"AWS-specific-tasks\" name=\"AWS-specific-tasks\" title=\"AWS specific tasks\"></a><a id=\"AWS_specific_tasks\" name=\"AWS_specific_tasks\" title=\"AWS specific tasks\"></a>AWS specific tasks</h2>\n<p>If your suite is deployed on AWS, make sure you complete the following AWS specific tasks. </p>\n<h3 id=\"Recreate_bastion_instance\"><a id=\"Recreate_worker_nodes_running_on_AL2\" name=\"Recreate_worker_nodes_running_on_AL2\" title=\"Recreate worker nodes running on AL2\"></a><a id=\"Recreate-bastion-instance\" name=\"Recreate-bastion-instance\" title=\"Recreate bastion instance\"></a><a id=\"Recreate_bastion_instance\" name=\"Recreate_bastion_instance\" title=\"Recreate bastion instance\"></a>Recreate worker nodes running on AL2</h3>\n<div>\n<p>If your worker or bastion nodes are running on Amazon Linux 2 (AL2), we recommend upgrading the nodes to to Amazon Linux 2023. For instuctions to upgrade, refer to the official AWS documenation - <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/al2023.html\" title=\"Upgrade from Amazon Linux 2 to Amazon Linux 2023\">Upgrade from Amazon Linux 2 to Amazon Linux 2023</a>.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">To recreate the bastion or worker nodes using the lastest <strong>cloudformation </strong>script, see <a href=\"/doc/423/26.1/eksbastion\" title=\"Configure bastion\">Configure bastion</a> </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">To enable the OMT Tools capability on the bastion or worker nodes, see <a href=\"/doc/406/26.1/enabletoolscapabilitybastion\" title=\"Enable OMT capabilities Tools on a new bastion node\">Enable the Tools capability on a new bastion node</a>. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">To save cost, you may delete the old bastion or worker nodes.</li></ol>\n</div>\n<h2><a id=\"Clean-up-unused-images\" name=\"Clean-up-unused-images\" title=\"Clean up unused images\"></a><a id=\"Clean_up_unused_images\" name=\"Clean_up_unused_images\" title=\"Clean up unused images\"></a><span>Clean up unused images</span></h2>\n<p>The instructions in this section are specific to suite deployments in an embedded Kubernetes environment. If your suite is deployed in a managed Kubernetes environment such as GCP, AWS, or Azure, refer to the official documentation for instructions.</p>\n<p><u><strong>Clean up unused images on nodes</strong></u></p>\n<p>From release to release, OMT pulls the images from the private registry (NFS) to the worker nodes and control plane nodes to start the containers. However, it doesn't clean up unused images from older releases. This may cause the docker storage to become full, resulting in upgrade failure when the containers try to pull images to the worker nodes or control plane nodes.</p>\n<p>To avoid this issue, clean up unused images by running the following commands on each worker node. This will also clean up old images with Log4j vulnerability issue on each worker node:</p>\n<pre><code>crictl rmi --prune\n${CDF_HOME}/bin/kube-start.sh\n</code></pre>\n<p><u><strong>Clean up unused images on the registry</strong></u></p>\n<p>If the NFS server is running on any of the control plane nodes or worker nodes, you can also perform the following steps to free the disk space:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the <strong>cleanRegistry</strong> script under <strong>$CDF_HOME/scripts</strong> to clean up the images in the local registry. The script will free the disk space on the NFS server. For tool usage, run the command:\n\n\t<pre>./cleanRegistry --help</pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Remove the log files on the NFS server. For example:\n\t<pre>cd /var/vols/itom/core\nfind -name \"*.log\" | xargs -i rm -f {}</pre>\n</li></ol>\n<p>For details on how to use these scripts, see <a href=\"/doc/406/25.4/cleanimages\" title=\"Clean up local registry images\">Delete unwanted images</a>.</p>\n<h2><a id=\"Remove-temporary-worker-node\" name=\"Remove-temporary-worker-node\" title=\"Remove temporary worker node\"></a><a id=\"Remove_temporary_worker_node\" name=\"Remove_temporary_worker_node\" title=\"Remove temporary worker node\"></a>Remove temporary worker node</h2>\n<p>The instructions in this section are specific to suite deployments in an embedded Kubernetes environment. If your suite is deployed in a managed Kubernetes environment such as GCP, AWS, or Azure, refer to the official documentation for instructions.</p>\n<p>Once you upgrade the suite to the new version, ensure that you remove the temporary worker node that you added before the OMT upgrade. Complete the following steps to remove the temporary worker node.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Use the <strong>podReScheduler.sh</strong> script and run the following command on a control plane node or worker node, where <em>&lt;target-nodeName&gt;</em> is the FQDN of the worker node you have to remove:\n\n\t<pre> podReScheduler.sh &lt;target-nodeName&gt;\n</pre>\n\tYou should have already downloaded the SMA Operation Toolkit package from the <a href=\"https://marketplace.opentext.com/itom/content/service-management-automation-operation-toolkit\" rel=\"nofollow\" target=\"1\" title=\"ITOM Marketplace\">ITOM Marketplace</a> and found this script from the <strong>upgrade</strong> folder in the package.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">From <b>CLUSTER &gt; Nodes</b>, click <b>Delete</b> for the worker node that you want to delete.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Enter the username of the worker node. For example, enter <b>root</b> or a sudo user with the required installation permission.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select 'Password or Key-based' as the secret mode.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Enter the user's password or upload a private key file.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>DELETE</b> to confirm the deletion.<br/>\n\tThe following message shows up: \"Deleted the node successfully.\"</li></ol>\n<h2><a id=\"Upgrade-Suite-Support-Assistant\" name=\"Upgrade-Suite-Support-Assistant\" title=\"Upgrade Suite Support Assistant\"></a><a id=\"Upgrade_Suite_Support_Assistant\" name=\"Upgrade_Suite_Support_Assistant\" title=\"Upgrade Suite Support Assistant\"></a>Upgrade Suite Support Assistant</h2>\n<p>If you've installed SMA Support Assistant of a previous release, you need to download the latest compatible version from the <a href=\"https://marketplace.opentext.com/itom/content/service-management-automation-support-assistant\" title=\"ITOM Marketplace\">ITOM Marketplace</a> and install it by following the instructions <a href=\"/doc/423/26.1/tookitcontainer#Install_the_runtime_platform\" title=\"here\">here</a>. The old version will be deleted automatically after you install a new one.</p>\n<h2 id=\"Upgrade_language_pack\"><a id=\"Upgrade-the-language-pack\" name=\"Upgrade-the-language-pack\" title=\"Upgrade the language pack\"></a><a id=\"Upgrade_the_language_pack\" name=\"Upgrade_the_language_pack\" title=\"Upgrade the language pack\"></a>Upgrade the language pack</h2>\n<p>If you localized the suite using Openl10n, you must download the language pack for the new version from the Openl10n website, then re-implement the translation and redeploy it. For details, see <a href=\"/doc/423/26.1/localizeusingopenl10n\" title=\"Localize the suite by using Openl10n\">Localize the suite by using Openl10n</a>. If you skip this step, the newly introduced string labels in this release could be missing.</p>\n<h2 id=\"Scale_Smart_Analytics_replicas\"><a id=\"Dev2Prod_package_export_issue\" name=\"Dev2Prod_package_export_issue\" title=\"Dev2Prod package export issue\"></a>Dev2Prod package export issue</h2>\n<div>There is a known issue with exporting the Dev2Prod package related to the Entity Change Model on upgrading to version 25.3. The UUID is not updated in the entities table for all existing Entity Models if the UUID does not exist. To resolve this issue, implement the recommended workaround outlined on the Troubleshooting page</div>\n<div>\n<p>✅ <strong>Run the Troubleshooting Steps If:</strong></p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">You upgraded from <strong>version 25.2 → 25.3 → 25.4 -&gt; 26.1</strong> <strong>and</strong></li><li style=\"margin-left: 28px; position: relative;\">You <strong>did not run</strong> the troubleshooting steps during the upgrade to <strong>25.3 or 25.4</strong></li></ul>\n<p>In this case, you should run the steps <strong>after upgrading to 26.1</strong> to ensure proper UUID updates. See the troubleshooting page for the <a href=\"/doc/423/26.1/afterupgrade253notexportchangemodel\" title=\"workaround\">workaround</a>.</p>\n<p>❌ <strong>Do Not Run the Troubleshooting Steps If:</strong></p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">You <strong>already ran</strong> the troubleshooting steps during the upgrade to <strong>25.3 or 25.4</strong></li><li style=\"margin-left: 28px; position: relative;\">You are upgrading <strong>directly from version 25.2 -&gt; 25.4 -&gt;  26.1</strong></li></ul>\n</div>\n</div>",
  "modifiedon": "2025-12-16 07:01:50"
}