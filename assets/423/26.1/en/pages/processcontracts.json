{
  "title": "Contract process - Business rules",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>In the out-of-the-box Contract workflow, the following business rules apply to the indicated metaphase or phase.</p>\n<h2 class=\"mw-headline\" id=\"Contract_process_-_all_phases\">Contract process - all phases</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td rowspan=\"8\">After change</td>\n<td><b>Id</b> isn't empty</td>\n<td><b>Name</b> = <i>mandatory</i></td>\n</tr>\n<tr>\n<td><b>Id</b> isn't empty</td>\n<td><b>Contract number</b> = <i>mandatory</i></td>\n</tr>\n<tr>\n<td><b>Start date</b> isn't empty, and <b>End date</b> isn't empty</td>\n<td>Validate: <b>End date</b> ≥ <b>Start date</b></td>\n</tr>\n<tr>\n<td><b>Price</b> isn't empty, and <b>Currency</b> is empty</td>\n<td><b>Currency</b> = <i>US$</i></td>\n</tr>\n<tr>\n<td><b>Price</b> is empty, and <b>Currency</b> isn't empty</td>\n<td><b>Currency</b> = null</td>\n</tr>\n<tr>\n<td><b>Vendor</b> is changed</td>\n<td><b>Vendor contact</b> = null</td>\n</tr>\n<tr>\n<td>\n<ul>\n<li><b>Cost type</b> isn't empty</li>\n<li>Parent contract is changed</li>\n<li><b>Cost type</b> of the parent contract isn't empty</li>\n</ul>\n</td>\n<td><b>Cost type</b> = <i>Cost type of the parent contract</i></td>\n</tr>\n<tr>\n<td>\n<ul>\n<li><b>Cost center</b> isn't empty</li>\n<li>Parent contract is changed</li>\n<li><b>Cost center</b> of the parent contract isn't empty</li>\n</ul>\n</td>\n<td><b>Cost center</b> = <i>Cost center of the parent contract</i></td>\n</tr>\n<tr>\n<td rowspan=\"4\">Rendering forms</td>\n<td>None</td>\n<td>\n<ul>\n<li>Show the <b>Vendor contact</b> list with filter:\n\t\t\t\t<ul>\n<li><b>Company</b> = <i>Contract vendor</i></li>\n</ul>\n</li>\n<li>Show the <b>Parent contact</b> list with the exclusion of:\n\t\t\t\t<ul>\n<li><i>Current contract</i></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>Vendor</b> is empty</td>\n<td><b>Vendor contact</b> = <i>read-only</i></td>\n</tr>\n<tr>\n<td>None</td>\n<td>Show only active cost centers in the <b>Cost center</b> drop-down list</td>\n</tr>\n<tr>\n<td>None</td>\n<td>Show only active cost centers in the <b>Cost type</b> drop-down list</td>\n</tr>\n<tr>\n<td rowspan=\"2\">Entering</td>\n<td><b>Notify before (days)</b> is empty</td>\n<td><b>Notify before (days)</b> = <i>60</i></td>\n</tr>\n<tr>\n<td><b>Then notify before (days)</b> is empty</td>\n<td><b>Then notify before (days)</b> = <i>30</i></td>\n</tr>\n<tr>\n<td rowspan=\"2\">After applying changes</td>\n<td><b>Phase ID</b> is changed to <em>Execute</em></td>\n<td>Generate expense lines based on the configured cost allocation rules</td>\n</tr>\n<tr>\n<td><b>Phase ID</b> is changed to <em>Close</em></td>\n<td>Stop generating new expense lines and delete the generated expense lines that are in Projected status</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Draft_metaphase\">Draft metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td><b>Active</b> = <i>true</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Create_phase\">Create phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Start date</b> isn't empty</td>\n<td>Validate: <b>Start date</b> ≥ <i>now</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close reason</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Suspended</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Review_phase\">Review phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Start date</b> isn't empty</td>\n<td>Validate: <b>Start date</b> ≥ <i>now</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close reason</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Suspended</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Sign_phase\">Sign phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Start date</b> isn't empty</td>\n<td>Validate: <b>Start date</b> ≥ <i>now</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close reason</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Suspended</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Active_metaphase\">Active metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td><b>Active</b> = <i>true</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Execute_phase\">Execute phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td><b>Close code</b> is <i>ended</i> or empty</td>\n<td><b>Close reason</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td>\n<ul>\n<li><b>Vendor</b> = <i>mandatory</i></li>\n<li><b>Effective from</b> = <i>mandatory</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td></td>\n<td>\n<ul>\n<li><b>End date</b> is changed and isn't empty, or</li>\n<li>Phase is changed, the previous phase isn't <b>Execute</b>, and <b>End date</b> isn't empty</li>\n</ul>\n</td>\n<td>Validate: <b>End date</b> ≥ <i>now</i></td>\n</tr>\n<tr>\n<td>Per schedule</td>\n<td><b>Notify before (days)</b> and <b>End date</b> are both not empty</td>\n<td>\n<ol>\n<li>Set scheduler on <b>End date</b>-<b>Notify before (days)</b></li>\n<li>Once triggered, send notification email to <i>Administrator</i></li>\n</ol>\n</td>\n</tr>\n<tr>\n<td></td>\n<td><b>Then notify before (days)</b> and <b>End date</b> are both not empty</td>\n<td>\n<ol>\n<li>Set scheduler on <b>End date</b>-<b>Then notify before (days)</b></li>\n<li>Once triggered, send notification email to <i>Administrator</i></li>\n</ol>\n</td>\n</tr>\n<tr>\n<td></td>\n<td><b>End date</b> isn't empty</td>\n<td>\n<ol>\n<li>Set scheduler on <b>End date</b></li>\n<li>Once triggered, set <b>Close code</b> = <i>ended</i></li>\n</ol>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Done_metaphase\">Done metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td><b>Active</b> = <i>false</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Close_phase\">Close phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Suspended</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td></td>\n<td><b>Close code</b> is <i>ended</i> or empty</td>\n<td><b>Close reason</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>Entering</td>\n<td>None</td>\n<td>Send notification email to Administrator</td>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td>\n<ul>\n<li><b>Vendor</b> = <i>mandatory</i></li>\n<li><b>Effective from</b> = <i>mandatory</i></li>\n<li>If <b>Close code</b> = <i>Terminate by us</i> or <i>Terminate by vendor</i>, validate: <b>Close reason</b> isn't empty</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Abandon_phase\">Abandon phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td>\n<ul>\n<li><b>Close code</b> = <i>hidden</i></li>\n<li><b>Close reason</b> = <i>hidden</i></li>\n<li><b>Suspended</b> = <i>hidden</i></li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/contractswflw\" title=\"SMAX:25.1/contractsWflw\">Contract workflow</a></li>\n<li><a href=\"/doc/423/26.1/workingwithprocesses\" title=\"SMAX:25.1/WorkingWithProcesses\">Working with processes</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}