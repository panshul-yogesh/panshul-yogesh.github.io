{
  "title": "Device process - Business rules",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The device workflow relies on a few simple business rules. Rules repeat from one phase to another when the end user can make a change to a field affected by a business rule during that phase.</p>\n<p>All processes</p>\n<p>In the out-of-the-box device workflow, the rules detailed for each of the following events apply to all processes.</p>\n<h2 class=\"mw-headline\" id=\"Before_change\">Before change</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td>If <b>InitialPhase</b> is empty</td>\n<td>Set <b>InitialPhase</b> to <i>In use</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"After_change\">After change</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td>None</td>\n<td>\n<p>Set <b>Display label</b> to the first (in the order listed) of the following that's not blank:</p>\n<ul>\n<li>Host name</li>\n<li>Primary DNS name</li>\n<li>Asset tag</li>\n<li>Barcode</li>\n<li>BIOS asset tag</li>\n<li>Global ID</li>\n<li>BIOS UUID</li>\n<li>Subtype</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Reserved</b> is empty or not true</td>\n<td><b>Reserved</b> = <i>false</i></td>\n</tr>\n<tr>\n<td>If <b>Missing</b> is true</td>\n<td>\n<ul>\n<li>Add comment to record that the device is missing</li>\n<li>Send email to Owner that the device is missing</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Phase ID</b> is <i>In Stock</i> and <b>Stockroom entry date</b> has not been set</td>\n<td>Set <b>Stockroom entry date</b> to <i>now</i></td>\n</tr>\n<tr>\n<td>If <b>Phase ID</b> isn't <i>In Stock</i></td>\n<td>Set <b>Stockroom entry date</b> to null</td>\n</tr>\n<tr>\n<td>If <b>Located in stock</b> isn't empty</td>\n<td>Set <b>Location</b> to <i>Located in stock</i></td>\n</tr>\n<tr>\n<td>If <b>Subtype</b> is changed</td>\n<td>Set <b>Asset model</b> to null</td>\n</tr>\n<tr>\n<td>If <b>Subtype</b> is empty, and <b>Asset model</b> isn't empty</td>\n<td>Set <b>Subtype</b> to its asset model's device subtype</td>\n</tr>\n<tr>\n<td>If <b>Default warranty contract</b> is changed</td>\n<td>\n<p>Set <b>Warranty end date</b> to the first (in the order listed) of the following that's not blank:</p>\n<ul>\n<li>Default warranty contract end date</li>\n<li>Warranty end date</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Default maintenance contract</b> is changed</td>\n<td>\n<p>Set <b>Maintenance end date</b> to the first (in the order listed) of the following that's not blank:</p>\n<ul>\n<li>Default maintenance contract end date</li>\n<li>Maintenance end date</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Cost center</b> is empty, <b>Owner</b> is changed, and the device owner has a cost center</td>\n<td>Set <b>Cost center</b> to the <i>Cost center</i> of the device owner</td>\n</tr>\n<tr>\n<td>If <b>Cost type</b> is empty, <b>Asset model</b> is changed, and the asset model has a cost type</td>\n<td>Set <b>Cost type</b> to the <i>Cost type</i> of the asset model</td>\n</tr>\n<tr>\n<td>If <b>Model</b> is changed, <b>Total amount</b> of the asset model isn't empty, and <b>Total amount</b> is empty</td>\n<td>Set <b>Currency</b> to the <i>Currency</i> of the asset model</td>\n</tr>\n<tr>\n<td>If <b>Model</b> is changed, <b>Brand</b> of the asset model isn't empty, and <b>Brand</b> is empty</td>\n<td>Set <b>Brand</b> to the <i>Brand</i> of the asset model</td>\n</tr>\n<tr>\n<td>If <b>Model</b> is changed, <b>Total amount</b> of the asset model isn't empty, and <b>Total amount</b> is empty</td>\n<td>Set <b>Total amount</b> to the <i>Total amount</i> of the asset model</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Rendering\">Rendering</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td>None</td>\n<td><b>Display label</b> = <i>read-only</i></td>\n</tr>\n<tr>\n<td>If <b>Virtual device</b> is <i>true</i></td>\n<td>\n<ul>\n<li><b>Resale</b> section = <i>hidden</i></li>\n<li><b>Fixed assets</b> section = <i>hidden</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Phase ID</b> isn't <i>In Stock</i></td>\n<td>\n<ul>\n<li><b>Stockroom entry date</b> = <i>hidden</i></li>\n<li><b>Reserved</b> = <i>hidden</i></li>\n<li><b>Stockroom</b> = <i>hidden</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Phase ID</b> isn't <i>End</i>, or <b>Close code</b> isn't <i>Retired</i></td>\n<td>\n<ul>\n<li><b>Retirement date</b> = <i>hidden</i></li>\n<li><b>Retirement reason</b> = <i>hidden</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Located in stock</b> isn't null</td>\n<td><b>Location</b> = <i>read-only</i></td>\n</tr>\n<tr>\n<td>If <b>Subtype</b> is empty</td>\n<td>\n<p>Show <b>Asset model</b> list with filter:</p>\n<ul>\n<li><b>Is category</b> = <i>false</i></li>\n<li><b>Phase</b> = <i>active</i></li>\n<li><b>Asset type</b> = <i>Device</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Acquisition type</b> is <b>Rental</b> or <i>Lease</i> or <i>Loan</i></td>\n<td>\n<ul>\n<li><b>Total amount</b> = <i>hidden</i></li>\n<li><b>Currency</b> = <i>hidden</i></li>\n<li><b>Tax rate</b> = <i>hidden</i></li>\n<li><b>Payment terms</b> = <i>hidden</i></li>\n<li><b>Payment date</b> = <i>hidden</i></li>\n<li><b>External PO Number</b> = <i>hidden</i></li>\n<li><b>Invoice number</b> = <i>hidden</i></li>\n<li><b>Resale</b> section (in <b>Finance</b> tab) = <i>hidden</i></li>\n<li><b>Fixed assets</b> section (in <b>Finance</b> tab) = <i>hidden</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Subtype</b> isn't empty</td>\n<td>\n<ul>\n<li>Show <b>Asset model</b> list with filter:\n\t\t\t\t<ul>\n<li><b>Is category</b> = <i>false</i></li>\n<li><b>Phase</b> = <i>active</i></li>\n<li><b>Asset type</b> = <i>Device</i></li>\n<li><b>Asset model</b> subtype = <i>Subtype</i></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>None</td>\n<td>\n<ul>\n<li>Show <b>Default warranty contract</b> list with filter:\n\t\t\t\t<ul>\n<li><b>Contract type</b> = <i>Warranty</i></li>\n<li><b>Contract</b> = <i>Contract that covers this device</i></li>\n</ul>\n</li>\n<li>Show <b>Default maintenance contract</b> list with filter:\n\t\t\t\t<ul>\n<li><b>Contract type</b> = <i>Maintenance</i></li>\n<li><b>Contract</b> = <i>Contract that covers this device</i></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>If <b>Virtual device</b> = <i>true</i></td>\n<td><b>Acquisition</b> = <i>hidden</i></td>\n</tr>\n<tr>\n<td>None</td>\n<td>Show only active cost centers in the <b>Cost center</b> drop-down list</td>\n</tr>\n<tr>\n<td>None</td>\n<td>Show only active cost types in the <b>Cost type</b> drop-down list</td>\n</tr>\n</tbody>\n</table>\n<h2>After applying change</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td><b>Phase ID</b> is changed to <em>Receive</em></td>\n<td>Generate expense lines based on the configured cost allocation rules</td>\n</tr>\n<tr>\n<td><b>Phase ID</b> is changed to <i>In use</i></td>\n<td>Generate expense lines based on the configured cost allocation rules</td>\n</tr>\n<tr>\n<td><b>Phase ID</b> is changed to <em>Prepare </em>or<em> Retire </em>from<em> In use</em></td>\n<td>Stop generating new expense lines and delete the generated expense lines that are in Projected status</td>\n</tr>\n</tbody>\n</table>\n<p>Metaphases and phases</p>\n<p>In the out-of-the-box device workflow, the following rules apply to the indicated metaphase or phase.</p>\n<h2 class=\"mw-headline\" id=\"Unavailable_metaphase\">Unavailable metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"New_phase\">New phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td>If <b>OS name</b> is empty</td>\n<td><b>OS name</b> = <i>OS type</i></td>\n</tr>\n<tr>\n<td>After change</td>\n<td>If <b>InitialPhase</b> = <i>In stock</i></td>\n<td><b>Stockroom</b> = <i>mandatory</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Available_metaphase\">Available metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"In_stock_phase\">In stock phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>Entering</td>\n<td>None</td>\n<td>Delete all relationships of user list</td>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td><b>Stockroom</b> = <i>mandatory</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td>Expand <b>Details</b> section</td>\n</tr>\n<tr>\n<td>Leaving</td>\n<td>None</td>\n<td>\n<ul>\n<li><b>Stockroom</b> = <i>null</i></li>\n<li><b>Location</b> = <i>null</i></li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"In_use_metaphase\">In use metaphase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"In_use_phase\">In use phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td rowspan=\"2\">After change</td>\n<td>None</td>\n<td><b>Reserved</b> = <i>false</i></td>\n</tr>\n<tr>\n<td>If <b>First installation date</b> is empty</td>\n<td><b>First installation date</b> = <i>now</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>If <b>Managed externally</b> = <i>true</i></td>\n<td>\n<p>Set these fields to be read-only:</p>\n<ul>\n<li>BIOS asset tag</li>\n<li>BIOS serial number</li>\n<li>BIOS UUID</li>\n<li>BIOS version</li>\n<li>Default gateway IP address</li>\n<li>Domain name</li>\n<li>Global ID</li>\n<li>Host name</li>\n<li>Inventoried manufacturer</li>\n<li>Inventoried model</li>\n<li>Memory size</li>\n<li>NetBIOS name</li>\n<li>OS description</li>\n<li>OS name</li>\n<li>OS type</li>\n<li>OS version</li>\n<li>Primary DNS name</li>\n<li>Serial number</li>\n<li>SNMP name</li>\n<li>Subtype</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Retire_phase\">Retire phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Ended\">Ended</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td rowspan=\"2\">Entering</td>\n<td>None</td>\n<td>Remove device from IDOL index</td>\n</tr>\n<tr>\n<td>None</td>\n<td>Delete all relationships of user list</td>\n</tr>\n<tr>\n<td>After change</td>\n<td>None</td>\n<td><b>Close code</b> = <i>mandatory</i></td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td>Expand <b>Retirement</b> section</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Canceled\">Canceled</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Action</th>\n</tr>\n<tr>\n<td>Entering</td>\n<td>None</td>\n<td>Remove device from IDOL index</td>\n</tr>\n<tr>\n<td>Rendering</td>\n<td>None</td>\n<td><b>Close code</b> = <i>hidden</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/sacmdevices\" title=\"SMAX:25.1/sacmDevices\">Devices</a></li>\n<li><a href=\"/doc/423/26.1/devicewflw\" title=\"SMAX:25.1/DeviceWflw\">Device workflow</a></li>\n<li><a href=\"/doc/423/26.1/processes\" title=\"SMAX:25.1/Processes\">Processes and Rules</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p>\n<p class=\"mw-empty-elt\"></p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}