{
  "title": "Reservation process - Business rules",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>All processes</p>\n<p>In the out-of-the-box reservations workflow, the rules detailed for each of the following events apply to all processes.</p>\n<h2 class=\"mw-headline\" id=\"Before_change\">Before change</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i>, and <b>Reserved device</b> isn't empty</td>\n<td><b>Device Phase</b> = <i>Prepare</i></td>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i>, and <b>Reserved infrastructure &amp; peripheral</b> isn't empty</td>\n<td><b>Infrastructure &amp; peripheral Phase</b> = <i>Prepare</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"After_change\">After change</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i>, and <b>Reserved device</b> isn't empty</td>\n<td><b>Device Phase</b> = <i>In use</i></td>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i>, and <b>Reserved infrastructure &amp; peripheral</b> isn't empty</td>\n<td><b>Infrastructure &amp; peripheral Phase</b> = <i>In use</i></td>\n</tr>\n<tr>\n<td><b>Reserved for</b> is empty</td>\n<td>\n<p><b>Reserved for</b> = the first (in the order listed) of the following that isn't empty:</p>\n<ul>\n<li><i>Requested for</i> of <i>Request</i></li>\n<li>Current user</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i> or <i>Cancel</i>, and <b>Reserved device</b> isn't empty</td>\n<td><b>Reserved device</b> = <i>false</i></td>\n</tr>\n<tr>\n<td><b>Phase</b> is <i>Close</i> or <i>Cancel</i>, and <b>Reserved infrastructure &amp; peripheral</b> isn't empty</td>\n<td><b>Reserved infrastructure &amp; peripheral</b> = <i>false</i></td>\n</tr>\n<tr>\n<td><b>Display label</b> is empty, and <b>For Request</b> isn't empty</td>\n<td><b>Display label</b> = <i>Reservation For Request</i> + <i>Request ID</i> + <i>Request Display label</i></td>\n</tr>\n<tr>\n<td>Another infrastructure &amp; peripheral is selected</td>\n<td><b>Reserved device</b> = false</td>\n</tr>\n<tr>\n<td>Another device is selected</td>\n<td><b>Reserved infrastructure &amp; peripheral</b> = <i>false</i></td>\n</tr>\n<tr>\n<td><b>Start date</b> is empty</td>\n<td><b>Start date</b> = <i>now</i></td>\n</tr>\n<tr>\n<td><b>End date</b> is empty</td>\n<td><b>End date</b> = <i>now + 30 days</i></td>\n</tr>\n<tr>\n<td>None</td>\n<td>Validate: either (but not both) <b>Reserved device</b> = <i>true</i>, or <b>Reserved infrastructure &amp; peripheral</b> = <i>true</i></td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Rendering\">Rendering</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td>None</td>\n<td>\n<p>Show <b>Device list</b> with these filters:</p>\n<ul>\n<li><b>Phase</b> = <i>In stock</i></li>\n<li><b>Reserved</b> = <i>false</i></li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>None</td>\n<td>\n<p>Show <b>infrastructure &amp; peripheral list</b> with these filters:</p>\n<ul>\n<li><b>Phase</b> = <i>In stock</i></li>\n<li><b>Reserved</b> = <i>false</i></li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"After_applying_changes\">After applying changes</h2>\n<table>\n<tbody>\n<tr>\n<th>Condition</th>\n<th>Service Management actions</th>\n</tr>\n<tr>\n<td>\n<p>All of the following are true:</p>\n<ul>\n<li><b>Phase</b> = Active</li>\n<li><b>Reserved for</b> isn't empty</li>\n<li><b>Reserved device</b> isn't empty</li>\n<li><b>Start date</b> isn't empty</li>\n<li><b>End date</b> isn't empty</li>\n</ul>\n</td>\n<td>Send notification to <i>Reserved for</i></td>\n</tr>\n<tr>\n<td>\n<p>All of the following are true:</p>\n<ul>\n<li><b>Phase</b> = Canceled</li>\n<li><b>Reserved for</b> isn't empty</li>\n<li><b>Reserved device</b> isn't empty</li>\n<li><b>Start date</b> isn't empty</li>\n<li><b>End date</b> isn't empty</li>\n</ul>\n</td>\n<td>Send notification to <i>Reserved for</i></td>\n</tr>\n<tr>\n<td>\n<p>All of the following are true:</p>\n<ul>\n<li><b>Phase</b> = Active</li>\n<li><b>Reserved for</b> isn't empty</li>\n<li><b>Reserved infrastructure &amp; peripheral</b> isn't empty</li>\n<li><b>Start date</b> isn't empty</li>\n<li><b>End date</b> isn't empty</li>\n</ul>\n</td>\n<td>Send notification to <i>Reserved for</i></td>\n</tr>\n<tr>\n<td>\n<p>All of the following are true:</p>\n<ul>\n<li><b>Phase</b> = Canceled</li>\n<li><b>Reserved for</b> isn't empty</li>\n<li><b>Reserved infrastructure &amp; peripheral</b> isn't empty</li>\n<li><b>Start date</b> isn't empty</li>\n<li><b>End date</b> isn't empty</li>\n</ul>\n</td>\n<td>Send notification to <i>Reserved for</i></td>\n</tr>\n</tbody>\n</table>\n<p>Metaphases and phases</p>\n<p>In the out-of-the-box reservations workflow, the following rules apply to the indicated metaphase or phase.</p>\n<h2 class=\"mw-headline\" id=\"Active_phase\">Active phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Reserved device</b> isn't empty</td>\n<td><i>Reserved</i> = <i>true</i> for requested device</td>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Reserved infrastructure &amp; peripheral</b> isn't empty</td>\n<td><i>Reserved</i> = <i>true</i> for requested infrastructure &amp; peripheral</td>\n</tr>\n<tr>\n<td>Per schedule</td>\n<td><b>End date</b> isn't empty</td>\n<td>Automatically cancel reservation when <b>End date</b> is reached</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Ended_phase\">Ended phase</h2>\n<table>\n<tbody>\n<tr>\n<th>Event</th>\n<th>Condition</th>\n<th>Service Management action</th>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Reserved device</b> isn't empty</td>\n<td>Create a relationship between the values of <b>Reserved device</b> and <b>Reserved for</b> fields</td>\n</tr>\n<tr>\n<td>After change</td>\n<td><b>Reserved infrastructure &amp; peripheral</b> isn't empty</td>\n<td>Create a relationship between the values of <b>Reserved infrastructure &amp; peripheral</b> and <b>Reserved for</b> fields</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"mw-headline\" id=\"Related_topics\">Related topics</h2>\n<ul>\n<li><a href=\"/doc/423/26.1/reservations\" title=\"SMAX:25.1/Reservations\">Reservations</a></li>\n<li><a href=\"/doc/423/26.1/reservationswflw\" title=\"SMAX:25.1/ReservationsWflw\">Reservations workflow</a></li>\n<li><a href=\"/doc/423/26.1/processes\" title=\"SMAX:25.1/Processes\">Processes and Rules</a></li>\n</ul>\n<p class=\"mw-empty-elt\"></p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}