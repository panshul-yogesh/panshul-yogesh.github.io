{
  "title": "Performance optimization by adjusting indexes on the system level",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>This topic gives general recommendations for adjusting indexes in order to improve the SQL query performance on the system level.</p>\n<p>We recommend that you create indexes for the following fields.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Record type</th>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Index type</th>\n<th scope=\"col\">Action</th>\n<th scope=\"col\">Use the upper function (for string fields only)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Incident</td>\n<td>Active</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Incident</td>\n<td>PhaseId</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>PhaseId</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>Active</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>RequestedByPerson</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>RequestedForPerson</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>AssignedToGroup</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Request</td>\n<td>AssignedToPerson</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Change</td>\n<td>PhaseId</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Task</td>\n<td>ParentEntityId</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create index\">Create index</a></td>\n<td>Yes</td>\n</tr>\n</tbody>\n</table>\n<p>In addition, we recommend that you create indexes with the B-tree engine in the following table.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Table</th>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Index type</th>\n<th scope=\"col\">Action</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>transaction_context_&lt;TenantId&gt;</td>\n<td>transaction_timestamp</td>\n<td>B-tree</td>\n<td><a href=\"/doc/423/26.1/recommendationsindexcreation#Create_B-tree_indexes_for_the_transaction_timestamp_field\" title=\"Create index\">Create index</a></td>\n</tr>\n<tr>\n<td>ReportRuntime_&lt;TenantId&gt;</td>\n<td>ReportRuntimeId, Key</td>\n<td>gin</td>\n<td><a href=\"/doc/423/26.1/recommendationsindexcreation#Create_B-tree_indexes_for_the_name_field_in_the_complex_type_descriptor_table\" title=\"Create index\">Create index</a></td>\n</tr>\n<tr>\n<td>ReportConfig_&lt;TenantId&gt;</td>\n<td>MetaData</td>\n<td>gin</td>\n<td><a href=\"/doc/423/26.1/recommendationsindexcreation#Create_B-tree_indexes_for_the_name_field_in_the_complex_type_descriptor_table\" title=\"Create index\">Create index</a></td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-tip-icon\"></div>\n<div class=\"admonition-content admonition-tip-content\">\n<ul>\n<li>The Admin user needs to test the scripts first before actually applying changes in the production environment. </li>\n<li>Try to avoid business hours when applying changes in the production environment. Otherwise, database tables may be locked for some time, resulting in an impact on the business.</li>\n</ul>\n</div>\n</div>\n<h2>Create B-tree indexes for fields of a record type</h2>\n<p>For details about how to create a specific B-tree index for a field with the B-tree engine, see <a href=\"/doc/423/26.1/createbtreeindexes#Create_an_index_for_the_field_with_the_B-tree_engine\" title=\"Create an index for the field with the B-tree engine\">here</a>.</p>\n<h2>Create B-tree indexes for the transaction_timestamp field</h2>\n<p>To create B-tree indexes for the transaction_timestamp field in the transaction_context_&lt;TenantId&gt; table, run the following SQL command:</p>\n<p><code>CREATE INDEX CONCURRENTLY IF NOT EXISTS transaction_context_&lt;TenantId&gt;<tenantid>_transaction_timestamp</tenantid><tenantid> ON transaction_context_&lt;TenantId&gt;<tenantid> USING btree (transaction_timestamp);</tenantid></tenantid></code></p>\n<p>For example, to create the index:</p>\n<p><code>CREATE INDEX CONCURRENTLY IF NOT EXISTS transaction_context_100000002_transaction_timestamp ON transaction_context_100000002 USING btree (transaction_timestamp);</code></p>\n<h2>Create gin indexes for the ReportRuntimeId field in the ReportRuntime_&lt;TenantId&gt; table</h2>\n<p>To create gin indexes for the ReportRuntimeId field in the ReportRuntime_&lt;TenantId&gt; table, run the following SQL command:</p>\n<p><code>CREATE INDEX CONCURRENTLY IF NOT EXISTS \"ops_ReportRuntime_</code>&lt;TenantId&gt;<code>_ReportRuntimeId_Key\" ON \"ReportRuntime_</code>&lt;TenantId&gt;<code>\" USING gin ((body-&gt;'ReportRuntimeId') jsonb_path_ops, (body-&gt;'Key') jsonb_path_ops);</code></p>\n<h2>Create gin indexes for the MetaData field in the ReportConfig_&lt;TenantId&gt; table</h2>\n<p>To create gin indexes for the MetaData field in the ReportConfig_&lt;TenantId&gt; table, run the following SQL command:</p>\n<p><code>CREATE INDEX CONCURRENTLY IF NOT EXISTS \"ops_ReportConfig_</code>&lt;TenantId&gt;<code>_MetaData_jsonb\" ON \"ReportConfig_</code>&lt;TenantId&gt;<code>\" USING gin ((body-&gt;'MetaData') jsonb_path_ops) ;</code></p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}