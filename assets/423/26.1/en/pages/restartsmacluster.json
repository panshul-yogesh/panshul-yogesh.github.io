{
  "title": "Restart the cluster hosts",
  "content": "<div class=\"mw-parser-output\">\n<div></div>\n<p>To restart the cluster hosts, perform the following steps:</p>\n<p><b>Note</b>: replace <code>&lt;namespace&gt; in</code> the following steps with your suite namespace. </p>\n<ol>\n<li>Log in to one of the control plane nodes as root or a sudo user.</li>\n<li>Navigate to the <code>$CDF_HOME/scripts</code> directory, and then stop the suite pods in the suite namespace:\n\t<pre>cd <code>$CDF_HOME/scripts</code>\n./cdfctl.sh runlevel set -l DOWN -n &lt;namespace&gt;</pre>\n<p><b>Note</b>: The last character in <code>runlevel set -l</code> is lowercase letter <b>L</b>.</p>\n<p>You can use the global option <code>-f</code> to show more logs during the stop process.</p>\n</li>\n<li>Run the following commands on each worker node. When you have finished, run the same commands on each control plane node:\n\t<pre>cd $CDF_HOME/bin\n./kube-stop.sh</pre>\n</li>\n<li>Reboot all of the control plane node and worker node VMs.</li>\n<li>Run the following commands on a control plane node to check the cluster status:\n\t<pre>cd $CDF_HOME/bin\n./kube-status.sh</pre>\n</li>\n<li>If all of the cluster nodes are running, skip this step; otherwise, run the following commands on each control plane node. When you have finished, run the same commands on each worker node:\n\t<pre>cd $CDF_HOME/bin\n./kube-start.sh</pre>\n</li>\n<li>Run the following command on the control plane node to check the cluster status:\n\t<pre>cd $CDF_HOME/bin\n./kube-status.sh</pre>\n</li>\n<li>On a control plane node, navigate to the <code>$CDF_HOME/scripts</code> directory, and then start the suite pods:\n\t<pre>cd <code>$CDF_HOME/scripts</code>\n./cdfctl.sh runlevel set -l UP -n &lt;namespace&gt;</pre>\n<p>You can use the global option <code>-f</code> to show more logs during the start process.</p>\n</li>\n<li>The following pods can't be restarted by the <code>cdfctl.sh</code> script:\n\t<ul>\n<li>itom-ingress-controller</li>\n<li>demo-daemonset</li>\n<li>itom-throttling-controller</li>\n</ul>\n\tYou need to manually restart them as follows:\n\n\t<ol>\n<li>On a control plane node, run the following commands to obtain the pod names:\n\t\t<pre>kubectl get pods -n &lt;namespace&gt; | grep itom-ingress-controller\nkubectl get pods -n &lt;namespace&gt; | grep demo-daemonset\nkubectl get pods -n &lt;namespace&gt; | grep itom-throttling-controller</pre>\n</li>\n<li>Run the following command for each pod to delete the pods:\n\t\t<pre>kubectl delete pod &lt;pod name&gt; -n &lt;namespace&gt;</pre>\n<p>Where: <code>&lt;pod name&gt;</code> is each pod name that you obtained in the previous step. For example, if the pod name is <b>demo-daemonset-b752l</b> and the namespace is <b>itsma1</b>:</p>\n<pre>kubectl delete pod demo-daemonset-b752l -n itsma1</pre>\n</li>\n</ol>\n</li>\n</ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}