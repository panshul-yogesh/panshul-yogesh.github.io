{
  "title": "Configurations",
  "content": "<div class=\"mw-parser-output\">\n<p>The <strong>Configurations</strong> page allows you to complete the administrative settings for the SAM services.</p>\n<h2>Normalization rules</h2>\n<p>The product family imported from UCMDB might contain products that have different naming styles for their attributes but actually belong to the same product. This will affect the accuracy of the compliance reports in SAM. To solve this issue, you can use the normalization rules to further standardize such products and group them into one. Then, by configuring a license rule and maintaining the compatibility matrix, you can get a compliance report against the normalized product. This will help you manage software compliance more efficiently.</p>\n<p>The following are some cases where you can use the normalization rules:</p>\n<ul>\n<li>The product version number might consist of the major version, minor version, and patch number, which isn't useful from the license management perspective. Generally, SAM will group such products into the major version.</li>\n<li>If various publisher names or product names are used in the product list imported from UCMDB, SAM will build different product families for the same product. As a result, the compliance reports might be inaccurate.</li>\n</ul>\n<p>Note that the normalization rules work for the installed software only.</p>\n<h3>Create a normalization rule</h3>\n<p>From the normalization rule card, you can see the total number of normalization rules you have. Click the card to enter the configuration page.</p>\n<ol>\n<li>Click <strong>New</strong>.</li>\n<li>In the dialog box that appears, set the following fields:\n\t<ul>\n<li>Name: Specify the name into which you want the different products to be normalized.</li>\n<li>Code: Enter a unique code for the new normalization rule.</li>\n<li>Type: The method SAM uses for normalization. Currently, only <strong>Dictionary</strong> is available.</li>\n</ul>\n</li>\n<li>Click <strong>SAVE</strong>.</li>\n</ol>\n<h3>Edit a normalization rule</h3>\n<ol>\n<li>Click the name of the required normalization rule to enter its General tab.</li>\n<li>In the <strong>Overview</strong> section, change the rule name and code if needed.</li>\n<li>In the <strong>Imported product list</strong> section, click  <a class=\"image\" href=\"\"> <img alt=\"SAMSelect\" border=\"0\" file=\"/mediawiki/images/4/43/SAMSelect.png\" height=\"25\" hspace=\"0\" src=\"../../../images/SAMSelect_ea2e2673.png\" style=\"width:25px;height:25px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"25\"/> </a> to select the products you want to normalize.</li>\n<li>In the <strong>Normalized properties</strong> section, search for the desired name for the <strong>Publisher</strong>, <strong>Product</strong>, and <strong>Version</strong> fields and add it as the normalized property.<br/>\n\tYou can also enter a new name for these fields. When you are typing, an option with the <strong>(new)</strong> suffix will appear at the top. If you create a new name for the <strong>Publisher</strong> field, you'll need to manually enter a name for the <strong>Product</strong> and <strong>Version</strong> fields. If you create a new name for the <strong>Product</strong> field, you'll need to manually enter a name for the <strong>Version</strong> field.<br/>\n\tTo add the product edition information, attach the edition next to the version number in the <strong>Version</strong> field, such as 2012 Ent. The following table lists the text that SAM can recognize as product edition.\n\t<table>\n<tbody>\n<tr>\n<td>\n<p>Ent</p>\n</td>\n<td>\n<p>Enterprise</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Ent Plus</p>\n</td>\n<td>\n<p>Enterprise Plus</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Std</p>\n</td>\n<td>\n<p>Standard</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Ult</p>\n</td>\n<td>\n<p>Ultimate</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Pre</p>\n</td>\n<td>\n<p>Premium</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Bra</p>\n</td>\n<td>\n<p>Branch</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Pro Plus</p>\n</td>\n<td>\n<p>Professional Plus</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Pro</p>\n</td>\n<td>\n<p>Professional</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>BI</p>\n</td>\n<td>\n<p>Business Intelligence</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>DC</p>\n</td>\n<td>\n<p>Datacenter</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Adv</p>\n</td>\n<td>\n<p>Advanced</p>\n</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <strong>Save</strong>.<br/>\n\tIf you go to the <strong>Products</strong> page and select the normalized product to enter its General tab, you'll see the list of imported products is also updated.</li>\n<li>Go to the <strong>Products</strong> page and click <strong>Sync from </strong><b>UCMDB</b>.<br/>\n\tYou'll find that data for the previous products (before normalization) are aggregated for the normalized one. Then, you can configure the license rule and maintain the license compatibility matrix to get the correct report for this normalized product.</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">\n<p>If UD discovers a new product version that's not covered by the normalization rule you configured earlier, SAM won't automatically standardize this product version as you expect. In this case, go to the <strong>Products</strong> page and select the required product to open its <strong>Details</strong> tab. In the <strong>Imported product list</strong> section, check if all the product versions you want to include in the normalization rule are in the list. If not, update the normalization rule as needed.</p>\n</div>\n</div>\n<h2>Queries</h2>\n<p>Query is used to federate hardware, software, and licenses for compliance calculation. In some cases, you can use the query to federate the non-OOTB attributes or filter the wanted records for compliance calculation. The newly retrieved attributes will be passed into the license rules for compliance calculation. For more information about how to access the custom attributes in the license rule script, see <a href=\"/doc/423/26.1/samprgmruleextensibility#Part_5/_Implement_the_license_rule\" title=\"SAM license rule APIs\">SAM license rule APIs</a>. </p>\n<p>You can click the Query card to enter its main page where you can customize the queries for different record types as needed. After you select a specific record type, you can customize its attributes and filter as well as run a test. </p>\n<h3>Customize the attributes</h3>\n<p>In the <strong>Attributes</strong> section, you'll see a list of attributes available for selection, as well as the their data sources and types. Attributes that are necessary for compliance calculation are checked by default.</p>\n<p>To customize the attributes, you can follow the steps:</p>\n<ol>\n<li>Select the attribute names you want to customize.\n\t<ul>\n<li>Note that the system OOTB attributes for each record type are checked by default and are not editable.</li>\n<li>Currently, you can only add up to 20 custom attributes besides the system OOTB attributes.</li>\n</ul>\n</li>\n<li>Save the custom attributes.</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">\n<ul>\n<li>The attributes for <strong>Asset Model</strong> and <strong>License </strong>will not be passed into the license rules.</li>\n<li>You can choose the new attributes added in UCMDB as the new attributes, which can be synced to UCMDB Gateway in minutes.</li>\n<li>After a new field or record type is added to a Service Management record type, the system will automatically refresh the data every 24 hours (while the localized labels are refreshed every 1 hour). If you want to sync the data immediately, you may manually select the record type and reload the data model when you have activated Native SACM solution.</li>\n</ul>\n</div>\n</div>\n<h3>Customize the query filter</h3>\n<p>In the <strong>Filter</strong> section, you can either use the filter that is out of the box or customize your own filter as needed. If the custom filter isn't configured, the out-of-the-box filter will be used. The filter definition is used to query records from UCMDB or Service Management. You can only define attributes for the top-level object rather than the nested ones. Note that currently only the following record types support the customization of query filter: <strong>Asset Model, Installed Software, License, Node </strong>and<strong> Running Software</strong>. </p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">For the <strong>Asset Model</strong> and<strong> License</strong> record types, the \"Contains\" operator will be transferred to \"Starts with\".</div>\n</div>\n<p>The following table lists the OOTB filters for each record type:</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">\n<p>Record type</p>\n</th>\n<th scope=\"col\">\n<p>OOTB filters</p>\n</th>\n<th scope=\"col\">\n<p>Filter conditions</p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p><strong><span style=\"background-color: transparent;\">Asset Model</span></strong></p>\n</td>\n<td>\n<p><code><span style=\"background-color: transparent;\">(AssetType = License AND PhaseId &lt;&gt; Inactive)</span></code></p>\n</td>\n<td>\n<p><strong>AssetType</strong> field is \"License\", and <strong>PhaseId </strong>field is<em> not</em> \"Inactive\".</p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong><span style=\"background-color: transparent;\">Installed Software</span></strong></p>\n</td>\n<td>\n<p><code><span style=\"background-color: transparent;\">(name is not empty AND discovered_vendor is not empty)</span></code></p>\n</td>\n<td>\n<p><span style=\"background-color: transparent;\"><strong>Name</strong> and <strong>discovered_vendor</strong> fileds are<em> not</em> empty.</span></p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>License</strong></p>\n</td>\n<td><code>((Phase Id = pPrepare OR Phase Id = pPool OR Phase Id = pReceive) AND License class = PurchasedLicense)</code></td>\n<td>\n<p><strong>PhaseId</strong> field is \"pPrepare\", \"pPool\", or \"pReceive\" and <strong>License class</strong> field is \"PurchasedLicense\".</p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong><span style=\"background-color: transparent;\">Node</span></strong></p>\n</td>\n<td>\n<p><code><span style=\"background-color: transparent;\">NOT ((metaphase = mpEndOfLife OR (discovery_state = Purgeable AND metaphase &lt;&gt; mpInUse AND metaphase &lt;&gt; mpRetiring)))</span></code></p>\n</td>\n<td>\n<p>The devices that meet the following conditions will be excluded from calculation:</p>\n<ul>\n<li><strong>metaphase</strong> field is \"End of Life\";</li>\n<li>\n<p><strong>discovery_state</strong> field is \"Purgeable\", and <strong>metaphase</strong> field is <em>not</em> \"In use\" or \"Retiring\".</p>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong><span style=\"background-color: transparent;\">Running Software</span></strong></p>\n</td>\n<td>\n<p><code><span style=\"background-color: transparent;\">(vendor is not empty AND discovered_product_name is not empty)</span></code></p>\n</td>\n<td>\n<p><strong>Vendor</strong> and<strong> </strong><span style=\"background-color: transparent;\"><strong>discovered_product_name</strong> fields are<em> not</em> empty.</span></p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>To customize the query filter, you can either edit based on the OOTB template or manually set the fields from scratch.</p>\n<p>If you want to edit the custom filter based on the OOTB template, do the following:</p>\n<ol>\n<li>Click  <a class=\"image\" href=\"\"> <img align=\"bottom\" alt=\"Snipaste_clonefromootb\" border=\"0\" file=\"/mediawiki/images/e/e1/Snipaste_clonefromootb.png\" height=\"26\" hspace=\"0\" src=\"../../../images/Snipaste_clonefromootb_240f01be.png\" style=\"width:135px;height:26px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;vertical-align:bottom;border:0px solid black;\" vspace=\"0\" width=\"135\"/> </a> , and the OOTB filter template will be copied. <br/>\n\tThe out-of-the-box filter is not editable, and filter rules can be previewed as human strings on the right.</li>\n<li>In the cloned OOTB filter, you can have a number of customization operations such as editing the OOTB filter template, adding a rule/group, and deleting a rule/group.</li>\n</ol>\n<ul>\n<li>Add a single rule by clicking <strong>Add rule </strong>at the upper-right corner.</li>\n<li>Add a set of rules by clicking <strong>Add group </strong>at the upper-right corner.</li>\n<li>Delete a rule/group by clicking the  <a class=\"image\" href=\"\"> <img align=\"bottom\" alt=\"dustbin\" border=\"0\" file=\"/mediawiki/images/4/45/dustbin.png\" height=\"28\" hspace=\"0\" src=\"../../../images/dustbin_46a81cf0.png\" style=\"width: 30px; height: 28px; margin: 0px; vertical-align: bottom; border: 0px solid black;\" vspace=\"0\" width=\"30\"/> </a>  on the right side.</li>\n</ul>\n<ul>\n</ul>\n<p>If you want to manually configure the custom filter, follow the steps of how to add and delete a rule/group mentioned above. </p>\n<h3>Run the test</h3>\n<p>After you finish the attributes and filter customization, you could run a test. The returned test response is based on the<strong> Attributes</strong> and <strong>Filter</strong> you define. To be specific, the chekced <strong>Attributes </strong>decide the parameters of the returned JSON payload, and only the records that meet the <strong>Filter</strong> rules will be returned.</p>\n<ol>\n<li>Click <strong> <a class=\"image\" href=\"\"> <img align=\"bottom\" alt=\"Snipaste_testing\" border=\"0\" file=\"/mediawiki/images/c/c4/Snipaste_testing.png\" height=\"21\" hspace=\"0\" src=\"../../../images/Snipaste_testing_fe23db80.png\" style=\"width:53px;height:21px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;vertical-align:bottom;border:0px solid black;\" vspace=\"0\" width=\"53\"/> </a> </strong>.</li>\n<li>In the pop-up window of <strong>Test response</strong>, input the number of <strong>Maximum number of top-level objects returned </strong>based on your needs.<br/>\n\tNote that the valid range is 1-100, otherwise the <strong>Run</strong> operation is invalid.</li>\n<li>Click <strong>Run</strong>.</li>\n<li>Then, the total number of top-level objects is calculated, and the text box will return the JSON payload according to the number of top-level objects you entered.</li>\n</ol>\n<h2>Organization compliance scopes</h2>\n<p>By default, SAM performs compliance calculations globally. While in many business scenarios, licenses are centrally purchased but allocated to different organizations. Asset mangers would like to know the license usage per organization in order to adjust license allocation across different organizations for internal license management purpose.</p>\n<p>In addition to the default global scope, you can further create scopes under <b>Organization compliance scopes</b>, which can be created either by location, cost center, or custom criteria, so SAM can calculate compliance results and generate reports based on these custom-defined scopes.</p>\n<p>If you want to create multiple scopes at once, you may click the   <a class=\"image\" href=\"\"> <img alt=\"more_action_button.png\" height=\"19\" src=\"../../../images/more_action_button_c4e4562a.png\" width=\"25\"/> </a>  icon, and then select <b>Bulk create scopes by location</b> or <b>Bulk create scopes by cost center</b>. If a compliance scope of the same name (case-insensitive) already exists, the newly created scope will overwrite the existing scope.</p>\n<p>After you maintained your organization compliance scopes, you need to define <strong>Compliance scope type</strong> in the <a href=\"/doc/423/26.1/samproducts\" title=\"Products\">Products</a> page. </p>\n<ul>\n<li>\n<p>For on-premises products, you may set the organization compliance scope in the <b>Compliance calculation settings</b> tab.</p>\n</li>\n<li>\n<p>For SaaS products, you may set the organization compliance scope in the <b>Settings</b> tab.</p>\n</li>\n</ul>\n<h3>Define a compliance scope</h3>\n<h4>General section</h4>\n<ul>\n<li><b>Name</b>: The name of the scope</li>\n<li><b>Description</b>: Description for the scope</li>\n<li><strong>Active</strong>: Enable this option to apply the scope</li>\n</ul>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">If you delete a compliance scope, the past compliance calculation records of the scope will also be deleted; If you un-check the <strong>Active </strong>option but not delete the scope, then the past compliance calculation records are still available.</div>\n</div>\n<h4>Compliance section</h4>\n<ul>\n<li><strong>By location</strong>: The location records in Service Management are displayed. You may select one or multiple locations as required.</li>\n<li><strong>By cost center</strong>: The cost center records in Service Management are displayed. You may select one or multiple cost centers as required. </li>\n<li><strong>By custom criteria</strong>: In case you want to define compliance scopes based on custom fields instead of OOTB location and cost center, you can use the <strong>By custom criteria</strong> option to define queries for <strong>License </strong>and <strong>Device </strong>records.\n\t<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"> </div>\n<div class=\"admonition-content admonition-note-content\">When you define the custom criteria, if you select a newly created custom field or record type from a license or device, SAM will automatically reload the changes every 24 hours. If you want to sync the changes immediately, you may manually reload the license or node record types in <strong>Configuration &gt; Query</strong>. See the <strong>Query </strong>section for details.</div>\n</div>\n</li>\n</ul>\n<h2>Related topics</h2>\n<p><a href=\"/doc/423/26.1/samproducts\" title=\"Products\">Products</a></p>\n<div> </div>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}