{
  "title": "License rules",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><div id=\"tag-premium\"></div>\n<p>SAM provides OOTB license rules for Microsoft, Oracle, and some other publishers. For more information, see <a href=\"/doc/423/26.1/samsoftwaretitles\">Supported software titles</a>.</p>\n<p>To manage license rules, go to the <b>License Rules</b> page:</p>\n<ul>\n<li>The <b>System</b> item indicates that the license rule is OOTB and can't be edited, deleted, or unpublished.</li>\n<li>The <b>Published</b> item indicates whether the license rule is available and visible in license rule settings. If you disable this switch, the license rule is in development status.</li>\n<li>Each license rule is a groovy script. You can view the code in the script by clicking <b>Edit Script</b>.</li>\n</ul>\n<h2 class=\"mw-headline\" id=\"Create_a_license_rule\">Create a license rule</h2>\n<p>To create a license rule, follow these steps:</p>\n<ol>\n<li>\n<p>Click <b>New</b> to create license metadata and a rule script.</p>\n</li>\n<li>\n<p>In the <b>New License Rule</b> dialog box that appears, set all required fields.</p>\n<table>\n<tbody>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Name</td>\n<td>The name of the license rule.</td>\n</tr>\n<tr>\n<td>Code</td>\n<td>\n<p>A unique string to identify the license rule. We recommend that you specify it as <i>&lt;Publisher&gt;</i>_ <i>&lt;License metric&gt;</i>_<i>&lt;License rule name&gt;</i>.</p>\n<p><b>Notes:</b></p>\n<ul>\n<li>Only alphanumeric characters and underscores (_) are allowed.</li>\n<li>Don't use <b>SYS</b> as the prefix for the value of the <b>Code</b> field.</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>Publisher</td>\n<td>Select a publisher from the drop-down list.</td>\n</tr>\n<tr>\n<td>Metric</td>\n<td>Select a license metric under the selected publisher.</td>\n</tr>\n<tr>\n<td>Description</td>\n<td>Describes the license rule.</td>\n</tr>\n<tr>\n<td>Reference</td>\n<td>Provides a link to the vendor page explaining the license calculation details.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>To save only the license rule metadata, click <b>SAVE</b>.</p>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Duplicate_a_license_rule\">Duplicate a license rule</h2>\n<p>To duplicate a license rule with both the metadata and rule script:</p>\n<ol>\n<li>Select a license rule.</li>\n<li>Click <b>Clone</b>.</li>\n<li>In the <b>Clone License Rule </b>dialog box that appears, validate the parameter values, and then click <b>Clone</b>.\n\t<p>The value of the <b>Name </b>and <b>Code</b> fields must be unique.</p>\n</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Edit_a_license_rule\">Edit a license rule</h2>\n<p>The OOTB license rules in SAM aren't editable. You can only edit a custom license rule.</p>\n<ol>\n<li>Select a custom license rule.</li>\n<li>To change the license rule metadata, click <b>Edit</b> in the side pane on the right.<br/>\n\tNote that updating the <strong>Metric</strong> field with a different calculation unit will change the in-parameter that the license rule accepts. See the <i>Part 4: Parameter ParamPerUnit</i> section in <a href=\"/doc/423/26.1/samprgmruleextensibility\">SAM license rule API</a>.<br/>\n\tThe <b>Published</b> switch indicates whether you want to publish or unpublish a license rule.\n\t<ul>\n<li>After testing the license rule script, you can apply a published license rule to a product.</li>\n<li>Unpublishing an in-use license rule might affect the product compliance calculation if the updated rule doesn't pass the test. After you unpublish a license rule, you can start editing the license rule script.</li>\n</ul>\n</li>\n<li>Save your changes.</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Edit_a_license_rule_script\">Edit a license rule script</h2>\n<ol>\n<li>Select a license rule.</li>\n<li>Click <b>Edit Script</b> to open the script editor.\n\t<p>The script editor allows you to write and test your own license rule, ensuring that it works as expected.</p>\n</li>\n<li>To test the rule script, perform the required operations.</li>\n</ol>\n<p>The rule script editor has four tabs:</p>\n<h3 class=\"mw-headline\" id=\"SCRIPT_VALIDATION\">SCRIPT VALIDATION</h3>\n<p>On this tab page, you can verify the script by clicking <b>VALIDATE SCRIPT</b> in the lower-right corner. SAM parses the script, verifies it, and then generates the result in the <b>SCRIPT VALIDATION</b> window.</p>\n<p>For security, you can only use the allowlisted objects in the script. Objects such as I/O and Thread operations are disabled. Some customer-defined objects aren't analyzed until the system running time. You can check the script issues raised during system running in the <b>TEST LOG</b> window. For more information about the allowlist of SAM, see the <a href=\"/doc/423/26.1/samprgmruleextensibility#Class_allowlist_for_scripting\" title=\"SMAX:25.1/SAMPrgmRuleExtensibility\">Class allowlist for scripting</a> section.</p>\n<h3 class=\"mw-headline\" id=\"CONFIGURATION\">CONFIGURATION</h3>\n<p>On this tab page, you can configure the test context by setting all required fields.</p>\n<table>\n<tbody>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Product</td>\n<td>From the drop-down list box, select a product for which you want to test the rule script.</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>From the drop-down list box, select one or multiple product versions for which you want to test the rule script. If you leave this field blank, SAM tests all versions of the selected product at the back end.</td>\n</tr>\n<tr>\n<td>Device</td>\n<td>\n<p>Specifies the physical devices by using the IPv4 address or hostname. Use commas (,) to separate multiple values.</p>\n<p><b>Note:</b> IP ranges and wildcards aren't supported.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>After you configure the test context, click <b>TEST</b> to run the license rule script and wait for the result.</p>\n<p><strong>Note:</strong> Currently, user-based license rules don't support script testing.</p>\n<h3 class=\"mw-headline\" id=\"TEST_RESULT\">TEST RESULT</h3>\n<p>This tab page summarizes the compliance calculation result. After the calculation is complete, a blue bubble appears.</p>\n<p>The result includes the following information:</p>\n<table>\n<tbody>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Status</td>\n<td>The value can be <b>UNKNOWN</b>, <b>IN PROGRESS</b>, <b>SUCCESSFUL</b>, or <b>FAILED</b>.</td>\n</tr>\n<tr>\n<td>Device</td>\n<td>The number of physical devices involved in the calculation. If a physical device or a virtual machine running on a physical device has the product versions installed, the machine is counted in the calculation.</td>\n</tr>\n<tr>\n<td>Virtual instance</td>\n<td>The number of virtual machines that host the product versions involved in the calculation.</td>\n</tr>\n<tr>\n<td>Software instance</td>\n<td>The number of software instances involved in the calculation.</td>\n</tr>\n<tr>\n<td>Product</td>\n<td>The product versions that are discovered.</td>\n</tr>\n<tr>\n<td>Consumption</td>\n<td>The number of licenses consumed by the selected product versions.</td>\n</tr>\n<tr>\n<td>Compliance result details</td>\n<td>\n<p>Click to view detailed information at the physical device level:</p>\n<ul>\n<li><b>HOST DETAIL INFORMATION</b>: Displays the basic host information such as the model and processor type.</li>\n<li><b>CONSUMPTION RESULT</b>: Displays the number of license points that are consumed by this physical device.</li>\n<li><b>DEPLOYMENT ON HOST</b>: Displays information on the physical machines that are installed with the selected product.</li>\n<li><b>DEPLOYMENT ON VIRTUAL MACHINES</b>: Displays information on the virtual machines that are installed with the selected product.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<h3 class=\"mw-headline\" id=\"TEST_LOG\">TEST LOG</h3>\n<p>This tab page displays debugging information. SAM logs the following information:</p>\n<ul>\n<li>Retrieving CIs from UD/UCMDB</li>\n<li>Issues occurred during license consumption calculation</li>\n<li>Exceptions occurred during groovy script running</li>\n</ul>\n<p>Only license rules that pass the test can be published.</p>\n<h2 class=\"mw-headline\" id=\"Delete_a_license_rule\">Delete a license rule</h2>\n<p>If the license rule isn't applied to a product:</p>\n<ol>\n<li>\n<p>Select a license rule.</p>\n</li>\n<li>\n<p>Click <b>Delete</b>.</p>\n<p>This removes the metadata and script of a license rule.</p>\n</li>\n</ol>\n<p>If the license rule is applied to a product:</p>\n<ol>\n<li>\n<p>Go to the <b>Products</b> page, locate the product versions that are using this license rule, and then decouple the relationships.</p>\n</li>\n<li>\n<p>Select a license rule.</p>\n</li>\n<li>\n<p>Click <b>Delete</b>.</p>\n</li>\n</ol>\n<h2>Related topics</h2>\n<p>For more information about how to extend SAM's license rules through programming, see <a href=\"/doc/423/26.1/samprgmruleextensibility\">SAM license rule APIs</a>.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}