{
  "title": "Import tenant fails",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The tenant import fails, and you can find \"Calling migration user API failed.\" in the Operation history.</p>\n<h2>Cause</h2>\n<p>This issue happens due to the API call timeout.</p>\n<p>Follow these steps to determine the cause:</p>\n<ol>\n<li>Log in to a control plane node or the bastion node as root or a sudo user, and run the following command to get the pod name of xruntime-gateway:<br/>\n<code>kubectl get pods -n &lt;namespace&gt; | grep itom-xruntime-gateway</code></li>\n<li>Open the log file <code>localhost_access_log.0.txt</code> in &lt;suite global NFS volume&gt;/logs/xservices/gateway/&lt;xruntimegateway pod name&gt;, check the job status and duration.</li>\n<li>If the value of status is 500 and the duration is larger than 18000, open the log file <code>gateway_error.log</code> in &lt;suite global NFS volume&gt;/logs/xservices/gateway/&lt;xruntimegateway pod name&gt;/mass, you can find \"Read timed out\" in the error.<br/>\n\tHere is a log example:<br/>\n<code>05-20-2021 18:04:36.551 ip=xx.xxx.xxx.xxx status=500 tenant=50xxxxxxx user=xxxxx@xxx.com correlationId=RID-f617e029-11a5-4c02-8871-d2c8f3cd56ae request=\"POST /rest/508284964/ums/migrateUsers HTTP/1.0\" userType=unknown requestInfo=- duration=182089 bytes=106 thread=https-jsse-nio-8443-exec-37 service=ums itemType=migrateUsers itemOperation=N-A dataLayer=N-A incomingItemCnt=- outgoingItemCnt=-</code></li>\n</ol>\n<h2>Solution</h2>\n<ol>\n<li>Log in to a control plane node as root or a sudo user, and run the following command to edit itom-xruntime-gateway deployment:<br/>\n<code>kubectl edit deployment itom-xruntime-gateway -n &lt;namespace&gt;</code></li>\n<li>Add the following environment variable:<br/>\n<code>- name: httpClientSocketTimeoutMillis<br/>\n\tvalue: \"1800000\"</code></li>\n<li>Save the file and exit.</li>\n<li>Wait for the xruntime-gateway pod to be restarted, and then re-import the tenant in Suite Administration.</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}