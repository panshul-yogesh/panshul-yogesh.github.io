{
  "title": "How to set up custom synchronization with UCMDB through OPB",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>In custom synchronization mode, you need to manually create an endpoint, download a UCMDB push adapter package and upload it to UCMDB, set up and customize the integration point, and pull data from UCMDB to Service Management. In this mode, you can customize TQLs, mappings, and synchronization jobs as needed. You can also customize your own synchronization schedules.</p>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Note</span><br/>\nIf you have customized content, don't run the automatic synchronization, which will overwrite your customized content. When a new version of the custom mode adapter is published, you must manually merge the updated content of the new adapter with your customized content and then run the custom synchronization only. </div>\n<p>The following steps describe how to set up custom synchronization with UCMDB.</p>\n<h2 class=\"mw-headline\" id=\"Step_1:_Set_up_Service_Management_for_integration_with_UCMDB\">Step 1: Set up Service Management for integration with UCMDB</h2>\n<p>For details, see <a href=\"/doc/423/26.1/integexternalucmdb\" title=\"SMAX:25.1/IntegExternalUCMDB\">Integrate with external UCMDB</a>.</p>\n<h2 class=\"mw-headline\" id=\"Step_2:_Deploy_the_UCMDB_push_adapter_in_UCMDB\">Step 2: Deploy the UCMDB push adapter in UCMDB</h2>\n<p>Each SMAX tenant has a unique UCMDB push adapter, which you must download from SMAX and then deploy it in UCMDB.</p>\n<ol>\n<li>In the SMAX agent interface, navigate to <b>Administration</b> &gt; <b>Utilities</b> &gt; <b>Integration</b> &gt; <b>Endpoints</b>.</li>\n<li>Click the UCMDB push adapter download link on the right-side pane to download the adapter file (manualPushAdapter_&lt;Tenant ID&gt;.zip) to your local drive.</li>\n<li>Log in to UCMDB as <b>admin</b>, navigate to <b>Administration</b> &gt; <b>Package Manager</b>, click the <b>Deploy packages to server (from local disk)</b> icon, and then click <b>Deploy</b> to install the package. A message is displayed when the package is successfully deployed. You can then find the package <b>manualPushAdapter_&lt;Tenant ID&gt;</b> in Package Manager.</li>\n<li>To view the adapter information, go to <b>Data Flow Management</b> &gt; <b>Adapter Management</b> &gt; <b>manualPushAdapter_&lt;Tenant ID&gt;</b>.</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Step_3:_Customize_the_mapping_files\">Step 3: Customize the mapping files</h2>\n<p>You can customize the mapping files under the <b>Configuration Files</b> folder as needed. For more information, see <a href=\"/doc/423/26.1/tailorcustomsync\" title=\"SMAX:25.1/TailorCustomSync\">How to tailor custom synchronization</a>.</p>\n<h2 class=\"mw-headline\" id=\"Step_4:_Create_an_integration_point_in_UCMDB\">Step 4: Create an integration point in UCMDB</h2>\n<p>To set up custom synchronization, you need to manually create an integration point using the UCMDB push adapter that you have manually deployed.</p>\n<ol>\n<li>Log in to UCMDB as <b>admin</b>.</li>\n<li>Go to <b>Data Flow Management</b> &gt; <b>Integration Studio</b>.</li>\n<li>\n<p>Click <b>New</b> and enter the following information in the window displayed.</p>\n<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Integration Name</td>\n<td>\n<p>Enter the name of the integration point. Make sure it's the same as the UCMDB endpoint name in Service Management.</p>\n</td>\n</tr>\n<tr>\n<td>Integration Description</td>\n<td>Enter a description that captures the integration details.</td>\n</tr>\n<tr>\n<td>Adapter</td>\n<td>Select the UCMDB Push Adapter that was installed in step 2 under <b>HP Software Products</b>. The adapter name should be in the following format: <b>MANUAL_&lt;Tenant ID&gt;_SACM Push adapter</b>.</td>\n</tr>\n<tr>\n<td>Is Integration Activated</td>\n<td>Select the checkbox to activate the integration point.</td>\n</tr>\n<tr>\n<td>Protocol</td>\n<td>Select <b>HTTPS</b> or <b>HTTP</b>, depending on whether SSL is enabled on the UCMDB server.</td>\n</tr>\n<tr>\n<td>Hostname/IP</td>\n<td>Enter the FQDN or IP address of the UCMDB instance.</td>\n</tr>\n<tr>\n<td>Port</td>\n<td>Enter the port number of the UCMDB instance.</td>\n</tr>\n<tr>\n<td>Credentials ID</td>\n<td>\n<p>Click ... to create a credential ID. You should enter the credentials of a user with UCMDB-Admin permission.</p>\n<p>To create a credential ID:</p>\n<ol>\n<li>Click <b>New</b>.</li>\n<li>Enter a user label in the General section.</li>\n<li>Enter a user name and password in the Generic section.</li>\n<li>Click <b>OK</b>.</li>\n</ol>\n</td>\n</tr>\n<tr>\n<td>Client Name</td>\n<td>Enter a name for the client.</td>\n</tr>\n<tr>\n<td>Data Context</td>\n<td>Enter the data context.\n\t\t\t\t<div class=\"Admonition_Note\"><span class=\"autonumber\">Important</span><br/>\n\t\t\t\tMake sure it's the same as the Integration Name field for this integration point.</div>\n</td>\n</tr>\n<tr>\n<td>Data Flow Probe</td>\n<td>Select a data flow probe.</td>\n</tr>\n<tr>\n<td>Additional Probes</td>\n<td>Enter any additional data flow probes.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <b>Test connection</b> to make sure that the connection has been successfully created.<br/>\n<a class=\"image\" href=\"/file/images/8/83/SMA_ucmdbintg_intgpoint.png\" title=\"/file/images/8/83/SMA_ucmdbintg_intgpoint.png\"> <img alt=\"SMA ucmdbintg intgpoint.png\" data-file-height=\"613\" data-file-width=\"651\" height=\"613\" src=\"../../../images/SMA_ucmdbintg_intgpoint_0a6b03a5.png\" width=\"651\"/> </a></li>\n<li>Click <b>OK</b>.</li>\n</ol>\n<h2 class=\"mw-headline\" id=\"Step_5:_Create_an_integration_job_for_the_integration_point\">Step 5: Create an integration job for the integration point</h2>\n<ol>\n<li>Go to <b>Data Flow Management &gt; Integration Studio</b>.</li>\n<li>From the left pane, select the integration point that you created in the previous step.</li>\n<li>From the right pane, click <b>New</b> to start creating a new job.</li>\n<li>\n<p>In the <b>New Integration Job</b> window, enter the following information, and click <b>OK</b>.</p>\n<div class=\"table-wrap\">\n<table>\n<tbody>\n<tr>\n<th>Field</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>Name</td>\n<td>Enter a name for the integration job.</td>\n</tr>\n<tr>\n<td>Job Definition</td>\n<td>\n<p>Defines the job of the integration. Select the TQL queries that you want to run.</p>\n<ol>\n<li>Click <b>Add</b> and navigate to <b>Root &gt; Integration &gt; Service Management Automation &gt; SACM</b>.</li>\n<li>\n<p>Select the TQL queries that you want to run in the subfolders. Press <b>Ctrl</b> to select multiple queries.</p>\n<p><span>All TQLs generated by a manual push follow this naming pattern: </span><b>MANUAL_<i>&lt;Tenant_ID&gt;</i>_<i>&lt;TQL_query&gt;</i></b><span>. If there are TQL queries for both manual and automatic pushes, make sure you select only those that start with the </span><b>MANUAL</b><span>.</span></p>\n</li>\n<li>Click <b>OK</b>.</li>\n</ol>\n<p>For more information on mapping customization, see <a href=\"/doc/423/26.1/tailorcustomsync\" title=\"SMAX:25.1/TailorCustomSync\">How to tailor custom synchronization</a>.</p>\n</td>\n</tr>\n<tr>\n<td>Scheduler Definition</td>\n<td>\n<p>Defines the schedule of the integration job for both incremental and full synchronization.</p>\n<ol>\n<li>\n<p>Define a schedule for delta synchronization.</p>\n<ol>\n<li>Click the <b>Delta Synchronization</b> tab.</li>\n<li>Select the <b>Scheduler enabled</b> option.</li>\n<li>Select the scheduling options you want to use.</li>\n</ol>\n</li>\n<li>\n<p>Click the <b>Full Synchronization</b> tab and select the scheduling options you want to use.</p>\n</li>\n<li>\n<p>Click <b>OK</b>.</p>\n</li>\n</ol>\n<div class=\"Admonition_Note\"><span class=\"autonumber\">Notes</span>\n<ul>\n<li class=\"Admonition_Note\">This scheduler defines only the internal at which UCMDB pushes data to the staging area in UCMDB (see <a href=\"/doc/423/26.1/syncoverview\">Synchronization</a>). If you don't define a scheduler, you can trigger a data push manually by clicking the full synchronization or delta synchronization button in UCMDB. </li>\n<li class=\"Admonition_Note\">Service Management triggers a delta data synchronization task once an hour to let the OPB agent pull data from the UCMDB staging area. Note that this interval isn't user-configurable. You can also click <b>Sync now</b> <span>in </span>Service Management to let the OPB agent pull data immediately from the UCMDB staging area. </li>\n</ul>\n\t\t\t\t </div>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</li>\n<li>Click  <a class=\"image\" href=\"/file/images/5/5d/SaveIcon.png\" title=\"/file/images/5/5d/SaveIcon.png\"> <img alt=\"SaveIcon.png\" data-file-height=\"21\" data-file-width=\"20\" height=\"21\" src=\"../../../images/SaveIcon_5eb13ed6.png\" width=\"20\"/> </a> to save the changes to the new integration point.</li>\n</ol>\n<p>For more information on UCMDB configuration, refer to the UCMDB documentation.</p>\n<h2 class=\"mw-headline\" id=\"Step_5:_Run_custom_synchronization\">Step 5: Run custom synchronization</h2>\n<ol>\n<li>\n<p>Go back to Service Management and click <b>Request full sync</b> on the <b>Endpoints</b> tab.</p>\n<p>Data is synchronized to the staging area. This is equivalent to running the integration job within UCMDB.</p>\n<p>If you refresh the Local Client, you can find the status is changed to <b>Running</b>.</p>\n</li>\n<li>\n<p>After the integration job status in UCMDB is changed to <b>Completed successfully</b>, go back to Service Management and click <b>Sync now</b> on the <b>Endpoints</b> tab to synchronize data to Service Management.</p>\n<p>When the synchronization is completed, the job status is updated to <b>Success</b> on the <b>Endpoints</b> tab.</p>\n</li>\n<li>\n<p>View broken relationships.</p>\n<p>A broken relationship occurs when the relationship was synchronized before data about one or both of its ends was available. The relationship is automatically synchronized to Service Management, once the missing data arrives.</p>\n<p>To view the broken relationships from your synchronization, follow these steps:</p>\n<ol>\n<li>On the <b>Endpoints</b> tab, select the endpoint used in your synchronization.</li>\n<li>Click <b>More &gt; View broken relationships</b>. The table displays the broken relationships.</li>\n<li>If you don't expect a relationship to be synchronized, you can dismiss it. Select the relationships to dismiss and click <b>Dismiss from list</b>.</li>\n<li>To view details about a broken relationship, click the <b>Show details</b> link in the <b>Details</b> column.</li>\n</ol>\n</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}