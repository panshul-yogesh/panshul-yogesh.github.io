{
  "title": "Sizing guide for OData integration",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>Before starting to use the OData integration, read this page to determine if you need additional Datahub pods, read-only platform pods, and additional worker nodes accordingly.</p>\n<h2>Configuration recommendations</h2>\n<p>The configuration recommendations are as follows:</p>\n<ul>\n<li>We strongly recommend that you deploy OData pods (read-only platform and datahub) on dedicated worker nodes. If you choose to use shared worker nodes, make sure hardware resources are sufficient to avoid competition and overlapping with other pods for OData performance, which may cause a downgrade of the system performance.</li>\n<li>Suppose each worker node's hardware configuration is 8 CPU cores and 32 GiB RAM, deploy OData pods based on the following guidelines.\n\t<ul>\n<li>The maximum deployment recommended on a worker node is 3 datahub pods, or 2 read-only platform pods, or 1 datahub pod plus 1 read-only platform pod.</li>\n<li>Datahub pods and read-only platform pods should be matched one-to-one.</li>\n<li>A read-only platform pod and a datahub pod can support up to 4 consecutive OData API calls and throughput is about 160000 records/minute.</li>\n<li>Change delay time to 0ms in the <strong>OData settings</strong> section in Suite Administration.</li>\n</ul>\n</li>\n</ul>\n<h2>Determine hardware requirements for the OData integration</h2>\n<p>Use the table below to plan for additional hardware resources per farm.</p>\n<p><span id=\"cke_bm_2025S\" style=\"display: none;\"> </span><span id=\"cke_bm_2025E\" style=\"display: none;\"> </span></p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n</thead>\n<tbody>\n<tr>\n<td><strong>Concurrent API Calls</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Additional worker node</strong></td>\n</tr>\n<tr>\n<td><strong> Quantity</strong></td>\n<td><strong>Quantity</strong></td>\n<td><strong>Quantity</strong></td>\n<td><strong>Configuration</strong></td>\n<td><strong>Storage</strong></td>\n<td><strong>Quantity</strong></td>\n</tr>\n<tr>\n<td>1 ~ 4</td>\n<td>1</td>\n<td>1</td>\n<td>8 CPU/32 G RAM</td>\n<td>100 G</td>\n<td>1</td>\n</tr>\n<tr>\n<td>5 ~ 8</td>\n<td>2</td>\n<td>2</td>\n<td>8 CPU/32 G RAM</td>\n<td>100 G</td>\n<td><br/>\n\t\t\t2</td>\n</tr>\n<tr>\n<td>9 ~ 16</td>\n<td>3 ~ 4</td>\n<td>3 ~ 4</td>\n<td>8 CPU/32 G RAM</td>\n<td>100 G</td>\n<td>4</td>\n</tr>\n<tr>\n<td>17 ~ 32</td>\n<td>5 ~ 8</td>\n<td>5 ~ 8</td>\n<td>8 CPU/32 G RAM</td>\n<td>100 G</td>\n<td>5 ~ 7</td>\n</tr>\n<tr>\n<td>33 ~ 50</td>\n<td>9 ~ 13</td>\n<td>9 ~ 13</td>\n<td>8 CPU/32 G RAM</td>\n<td>100 G</td>\n<td>8 ~ 11</td>\n</tr>\n</tbody>\n</table>\n<p>We suggest that you monitor all CPU cores consumed by Datahub and read-only platform pods. Before the overall CPU cores are overloaded, you need to add a new worker node and start additional Datahub and read-only platform pods accordingly to balance the CPU load. </p>\n<p>The table below shows the hardware usage and data retrieval throughput per user when the OData full table search uses the timestamp filter or doesn't use any filter, and the delay time is set to 2000ms. Please note that different data structures and hardware configurations may have different performance results, the average record size in this test is about 2.55 KB.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Concurrent API Call</strong></td>\n<td colspan=\"1\" rowspan=\"2\"><strong>Throughput<br/>\n\t\t\trecords/minute</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>CPU (vCores)</strong><br/>\n\t\t\t </td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Memory (GiB)</strong></td>\n</tr>\n<tr>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n</tr>\n<tr>\n<td>1</td>\n<td> 35000</td>\n<td>0.3</td>\n<td>0.8</td>\n<td> 0.05  </td>\n<td>0.4</td>\n<td> 0.8</td>\n<td>&lt;0.01</td>\n</tr>\n</tbody>\n</table>\n<p>The table below shows the hardware usage and data retrieval throughput per user when the OData full table search uses the timestamp filter or doesn't use any filter, and the delay time is set to 0ms. Please note that different data structures and hardware configurations may have different performance results, the average record size in this test is about 2.55 KB.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Concurrent API Call</strong></td>\n<td colspan=\"1\" rowspan=\"2\"><strong>Throughput<br/>\n\t\t\trecords/minute</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>CPU (vCores)</strong><br/>\n\t\t\t </td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Memory (GiB)</strong></td>\n</tr>\n<tr>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n</tr>\n<tr>\n<td>1</td>\n<td>40000</td>\n<td>0.4</td>\n<td>1</td>\n<td>0.05</td>\n<td>0.4</td>\n<td> 1</td>\n<td>&lt;0.01</td>\n</tr>\n</tbody>\n</table>\n<h2>Plan additional hardware resources for the DB server</h2>\n<p>If you use query fields that are not indexed or have complex filter conditions, database resource usage may increase, thus reducing the query throughput.</p>\n<ul>\n<li>You need to add more CPU resources for the database server because OData may consume more CPU resources. For example, if the filter condition includes priority (Priority eq 'MediumPriority'), the CPU consumption of the DB server with 32 concurrent OData API Calls is 11.5 cores.</li>\n<li>If you want better OData performance, you can add additional indices on the DB server according to your filter condition.</li>\n</ul>\n<h2>A performance reference based on AWS testing results</h2>\n<p>This section gives test results on AWS and is for reference only, different data structures and hardware configurations may have different performance results. In this test, worker nodes are m5.2xlarge (8 cores, 32 G RAM).</p>\n<p>The table below shows the hardware usage and data retrieval throughput per user when the OData full table search uses the timestamp filter or doesn't use any filter, and the delay time is set to 2000ms.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Concurrent API Call</strong></td>\n<td colspan=\"1\" rowspan=\"2\"><strong>Throughput records/minute</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>CPU (vCores)</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Memory (GiB)</strong></td>\n<td colspan=\"2\" rowspan=\"1\"><strong>Pod quantity</strong></td>\n</tr>\n<tr>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n</tr>\n<tr>\n<td>1</td>\n<td>44917</td>\n<td>0.25</td>\n<td>0.6</td>\n<td>1</td>\n<td>1.77</td>\n<td>3.7</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>8</td>\n<td>287468</td>\n<td>2</td>\n<td>6.5</td>\n<td>1</td>\n<td>3.6</td>\n<td>12</td>\n<td>1</td>\n<td>2</td>\n<td>2</td>\n</tr>\n<tr>\n<td>16</td>\n<td>495635</td>\n<td>4.6</td>\n<td>15</td>\n<td>1</td>\n<td>6.5</td>\n<td>24</td>\n<td>1</td>\n<td>4</td>\n<td>4</td>\n</tr>\n<tr>\n<td>32</td>\n<td>1034058</td>\n<td>10</td>\n<td>28</td>\n<td>1.1</td>\n<td>14</td>\n<td>48</td>\n<td>1</td>\n<td>8</td>\n<td>8</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1565050</td>\n<td>16.6</td>\n<td>43.6</td>\n<td>2</td>\n<td>22</td>\n<td>78</td>\n<td>1</td>\n<td>13</td>\n<td>13</td>\n</tr>\n</tbody>\n</table>\n<p>The table below shows the hardware usage and data retrieval throughput per user when the OData full table search uses the timestamp filter or doesn't use any filter, and the delay time is set to 0ms.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Concurrent API Call</strong></td>\n<td colspan=\"1\" rowspan=\"2\"><strong>Throughput records/minute</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>CPU (vCores)</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Memory (GiB)</strong></td>\n<td colspan=\"2\" rowspan=\"1\"><strong>Pod quantity</strong></td>\n</tr>\n<tr>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n</tr>\n<tr>\n<td>1</td>\n<td>67040</td>\n<td>0.4</td>\n<td>0.75</td>\n<td>&lt; 1</td>\n<td> 1.68</td>\n<td>4.12</td>\n<td>&lt; 1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>8</td>\n<td>317996</td>\n<td>2.6</td>\n<td>8</td>\n<td>&lt; 1</td>\n<td>3.45</td>\n<td>12</td>\n<td>&lt; 1</td>\n<td>2</td>\n<td>2</td>\n</tr>\n<tr>\n<td>16</td>\n<td>572646</td>\n<td>5.9</td>\n<td>14</td>\n<td>&lt; 1</td>\n<td>7</td>\n<td>24</td>\n<td>&lt; 1</td>\n<td>4</td>\n<td>4</td>\n</tr>\n<tr>\n<td>32</td>\n<td>1127326</td>\n<td>13</td>\n<td>30</td>\n<td>1.5  </td>\n<td>14  </td>\n<td> 48</td>\n<td>&lt; 1</td>\n<td>8</td>\n<td>8</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1796675</td>\n<td>18</td>\n<td>48</td>\n<td>2.3</td>\n<td>22.5</td>\n<td>78</td>\n<td>&lt; 1</td>\n<td>13</td>\n<td>13</td>\n</tr>\n</tbody>\n</table>\n<p>The table below shows the hardware usage and data retrieval throughput per user when the OData full table search uses priority filter condition search (filter condition: Priority eq 'MediumPriority'&amp;$count=true), and the delay time is set to 2000ms.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<tbody>\n<tr>\n<td colspan=\"1\" rowspan=\"2\"><strong>Concurrent API Call</strong></td>\n<td colspan=\"1\" rowspan=\"2\"><strong>Throughput records/minute</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>CPU (vCores)</strong></td>\n<td colspan=\"3\" rowspan=\"1\"><strong>Memory (GiB)</strong></td>\n<td colspan=\"2\" rowspan=\"1\"><strong>Pod quantity</strong></td>\n</tr>\n<tr>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n<td><strong>DB server</strong></td>\n<td><strong>Datahub pod</strong></td>\n<td><strong>Read-only platform pod</strong></td>\n</tr>\n<tr>\n<td>32</td>\n<td>877262</td>\n<td>13</td>\n<td>30</td>\n<td> 11.5</td>\n<td> 14</td>\n<td>48</td>\n<td>1</td>\n<td>8</td>\n<td>8</td>\n</tr>\n</tbody>\n</table>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}