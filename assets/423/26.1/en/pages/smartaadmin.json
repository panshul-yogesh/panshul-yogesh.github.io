{
  "title": "Administer Smart Analytics",
  "content": "<div class=\"mw-parser-output\">\n<p>This topic describes how to administer Smart Analytics, including scaling content groups, managing system components, and using available tools to maintain and troubleshoot Smart Search performance.</p>\n<p><br/>\n<span style=\"color: rgb(22, 22, 22); font-size: clamp(1.59375rem, 18.7895px + 1.39803vw, 2.125rem);\">Content Group Scaling</span></p>\n<p>If the Smart Search performance isn't good enough, you can easily add content for Smart Search to balance the search requests by using more content servers.</p>\n<p>Before adding content groups, check the number of existing Persistent Volume Claims (PVC):</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the control plane node and run the following command to get the list of pvc pods:\n\n\t<pre><code>kubectl get pvc -n &lt;namespace&gt; -o wide | grep saw-con</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Configure the Persistent Volume and content group settings to ensure the deployment has the required storage resources. See <em>Persistent Volume and Content Group configuration</em>.\n\t<div>\n<div>\n<div>\n<div>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>If you use dynamic persistent volume (PV) creation, skip this step. Make sure that the storage back-end has sufficient available capacity for PVs that would be created. For more details on storage space requirements of PVs for content groups, <a href=\"/doc/423/26.1/managestoragesuite\" title=\"Manage persistent storage for the suite\">Manage persistent storage for the suite</a>.</div></div></div>\n</div>\n</div>\n</div>\n</div>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n\t</style>\n<div>Create the Smart Analytics content groups using either the<strong> Suite administration UI </strong>or the<strong> CLI:</strong></div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n\t\t</style>\n<div>If using the Suite administration UI:</div>\n<ol start=\"1\" style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 61px; position: relative;\">\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n\t\t\t</style>\n<div>Open the <strong>Suite administration UI.</strong></div>\n</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 65px; position: relative;\">\n<div>Select <strong>CONFIGURATIONS </strong>&gt;<strong> Smart Analytics </strong>&gt;<strong> Go to Smart Analytics</strong>.</div>\n</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 65px; position: relative;\">\n<div>Select <strong>Add New Content Group</strong>.</div>\n</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 65px; position: relative;\">\n<div>\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n\t\t\t</style>\n<div>Review the notice that appears and select <strong>Yes</strong>.</div>\n</div>\n</li></ol>\n</li><li style=\"margin-left: 40px; position: relative;\">\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n\t\t</style>\n<div>If using the CLI:</div>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 61px; position: relative;\">Create a new YAML file named <strong>smarta-replicas.yaml</strong> with the following content:\n\n\t\t\t<pre>smarta:\n  saw-content-a:\n    replicas: &lt;number&gt;\n  saw-content:\n    replicas: &lt;number&gt;</pre>\n</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 65px; position: relative;\">Run the follow commands to apply the update in the smarta-replicas.yaml file:\n\t\t\t<pre>helm get values &lt;releaseName&gt; -n &lt;namespace&gt; my-values.yaml\nhelm upgrade &lt;releaseName&gt; &lt;esm_helm_chart_path_with_chart_file&gt; -n &lt;namespace&gt; -f my-values.yaml -f smarta-replicas.yaml</pre>\n</li></ol>\n</li></ul>\n</li></ol>\n<p>If you encounter any errors when adding a new content group, see<a href=\"/doc/423/26.1/smartatroubleshooting\" title=\"SMAX:25.1/SmartATroubleshooting\"> Troubleshoot Smart Analytics</a>.</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-caution-icon\"></div><div class=\"admonition-content admonition-caution-content\"><div>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">When the system successfully adds a content group, Distributed Action Handler (DAH) will restart so that the Smart Search feature stops working until the process is finished. If the system fails to add a new content group, the DAH will not restart and you can continue to use Smart Search without any downtime.</li><li style=\"margin-left: 28px; position: relative;\">Don't include more than 2 million documents in one content group. If your number of documents exceeds 2 million, add more content groups.</li></ul>\n</div></div></div>\n<h2><a id=\"Persistent_Volume_and_Content_Group_configuration\" name=\"Persistent_Volume_and_Content_Group_configuration\" title=\"Persistent Volume and Content Group configuration\"></a>Persistent Volume and Content Group configuration</h2>\n<div>\n<style type=\"text/css\">a {\n    text-decoration: none;\n    color: #464feb;\n}\ntr th, tr td {\n    border: 1px solid #e6e6e6;\n}\ntr th {\n    background-color: #f5f5f5;\n}\n</style>\n<div>By default, Smart Analytics creates six<strong> </strong>Persistent Volumes (PVs) for content groups. These PVs are numbered <strong>0 through 5</strong> and follow the naming pattern:</div>\n<pre>itsma-itsma-smarta-saw-con-&lt;index&gt;</pre>\n<p>This default configuration supports up to six content groups without requiring additional setup.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Check the available Persistent Volumes (PVs) by running the following command:\n\n\t<pre>kubectl get pv -n itsma | grep -i saw-con-a | wc -l\n</pre>\n<p>The expected output is <b>six</b>, confirming that the default PV configuration is in place.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Check the currently used Persistent Volume Claims (PVCs) by running the following command:\n\t<pre>kubectl get pvc -n &lt;namespace&gt; | grep -i saw-con-a | grep bound | wc -l</pre>\n<p>Use the result to determine how many content groups are actively using storage.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Verify if the default configuration is sufficient by confirming that six PVs are available. The PVs exist up to:\n\t<pre>itsma-itsma-smarta-saw-con-5</pre>\n<p>If your deployment uses six or fewer content groups, no manual action is required.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Determine if manual configuration is required based on your scaling needs. Manual provisioning is only required if you plan to use more than six content groups. In this case, the total number of PVs must match the configured scaling value.</p>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Ensure that the total number of PVs matches the configured scaling value, then manually create the required PVs and PVCs by following the steps in the <a href=\"/doc/423/26.1/pvcontent\" title=\"Create PV and PVC for Content Group\">Create PV and PVC for Content Group</a> documentation.</p>\n</li></ol>\n</div>\n<h2 class=\"mw-headline\" id=\"Smart_Analytics_Assistant\"><a id=\"Smart_Analytics_Assistant\" name=\"Smart_Analytics_Assistant\" title=\"Smart Analytics Assistant\"></a>Smart Analytics Assistant</h2>\n<p>Smart Analytics Assistant is a tool that enables administrators to perform IDOL administrative actions in Smart Analytics. This tool provides a command line in the user interface and enables the administrator to send IDOL actions to Smart Analytics components. For example, you can use this tool for content server maintenance, to check the system status, and for troubleshooting.</p>\n<p>To use Smart Analytics Assistant, follow these steps:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Double-click a Smart Analytics component in the <b>Smart Analytics Components</b> list.\n\n\t<table>\n<tbody>\n<tr>\n<th>Name</th>\n<th>Host</th>\n<th>TLS port</th>\n<th>Component description</th>\n</tr>\n<tr>\n<td>XService DAH 0</td>\n<td>smarta-saw-dah-0</td>\n<td>1443</td>\n<td>\n<p>Supports querying records for Smart Search.</p>\n<p>By default, all the queries will be sent to this component. However, if you select the <b>Include older records</b> option on the Service Management search UI, the query requests will be sent to the <strong>XService Archive DAH</strong> component. See <a href=\"/doc/423/26.1/globalsearch#Global_search\" title=\"Global search\">Global search</a>.</p>\n</td>\n</tr>\n<tr>\n<td>XService DIH</td>\n<td>smarta-saw-dih-svc</td>\n<td>1443</td>\n<td>\n<p>Supports indexing records for Smart Search.</p>\n<p>For requests and incidents, the component indexes all the open records and those closed in the past 6 months. See <a href=\"/doc/423/26.1/globalsearch#Global_search\" title=\"Global search\">Global search</a>.</p>\n</td>\n</tr>\n<tr>\n<td>XService Content 0</td>\n<td>smarta-saw-con-0</td>\n<td>1443</td>\n<td>\n<p>Stores indexed records for Smart Search.</p>\n<p>For requests and incidents, the component stores all the open records and those closed in the past 6 months.</p>\n\t\t\t\tThe data is distributed evenly across Content 0 to Content <i>n</i> depending on the number of content and the data is mirrored in one content group (Content <i>n</i> and Content a-<i>n</i>).\n\n\t\t\t\t<p>For example, if there are three content groups in the suite, the data is distributed evenly across Content o to Content 2 and the data in Content 0 is identical to the data in Content a-0.</p>\n</td>\n</tr>\n<tr>\n<td>XService Content a-0</td>\n<td>smarta-saw-con-a-0</td>\n<td>1443</td>\n<td>\n<p>Stores indexed records for Smart Search.</p>\n<p>For requests and incidents, the component stores all the open records and those closed in the past 6 months.</p>\n</td>\n</tr>\n<tr>\n<td>XService Archive DAH 0</td>\n<td>smarta-sawarc-dah-0</td>\n<td>1443</td>\n<td>\n<p>Supports querying records for Smart Search.</p>\n<p>If you select the <b>Include older records</b> option on the Service Management search UI, the query requests will be sent to this component.</p>\n</td>\n</tr>\n<tr>\n<td>XService Archive DIH</td>\n<td>smarta-sawarc-dih-svc</td>\n<td>1443</td>\n<td>Supports indexing all the records for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Archive Content 0</td>\n<td>smarta-sawarc-con-0</td>\n<td>1443</td>\n<td>Stores all indexed records for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Archive Content a-0</td>\n<td>smarta-sawarc-con-a-0</td>\n<td>1443</td>\n<td>Stores all indexed records for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Metadata DAH 0</td>\n<td>smarta-sawmeta-dah-0</td>\n<td>1443</td>\n<td>Supports query metadata records for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Metadata DIH</td>\n<td>smarta-sawmeta-dih-svc</td>\n<td>1443</td>\n<td>Supports index metadata records for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Metadata Content 0</td>\n<td>smarta-sawmeta-con-0</td>\n<td>1443</td>\n<td>Stores indexed metadata for Smart Search.</td>\n</tr>\n<tr>\n<td>XService Metadata Content a-o</td>\n<td>smarta-sawmeta-con-a-0</td>\n<td>1443</td>\n<td>Stores indexed metadata for Smart Search.</td>\n</tr>\n<tr>\n<td>SmartTicketX Agentstore</td>\n<td>smarta-stx-agent-svc</td>\n<td>1443</td>\n<td>Store agents and profiles.</td>\n</tr>\n<tr>\n<td>SmartTicketX Category</td>\n<td>smarta-stx-category-svc</td>\n<td>1443</td>\n<td>Support categorize action for Smart Ticket.</td>\n</tr>\n<tr>\n<td>SmartTicketX Media Server</td>\n<td>smarta-stx-media-svc</td>\n<td>1443</td>\n<td>Analyzes and extracts content in image.</td>\n</tr>\n</tbody>\n</table>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Select an action from the drop-down list. The system automatically populates the &lt;Host&gt; and &lt;port&gt; values in the action examples with the corresponding values that you can find from the <b>Service Management Components</b> list.</p>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>Run</b>.</li></ol>\n<p>Note that some action commands only work with certain Smart Analytics components in the suite. Refer to the following table for detailed descriptions.</p>\n<table class=\"contenttable\">\n<tbody>\n<tr>\n<th>Action name</th>\n<th>Action example</th>\n<th>Description</th>\n<th>Allowed component</th>\n<th>Allowed port</th>\n</tr>\n<tr>\n<td>View Status</td>\n<td>https://&lt;Host&gt;:&lt;port&gt;/action=GetStatus</td>\n<td>Requests details of all components. Checks whether all components are up and running; checks how many documents are in each database.</td>\n<td>all</td>\n<td>&lt;Host&gt;:&lt;ACI_Port&gt;</td>\n</tr>\n<tr>\n<td>View Action History</td>\n<td>https://&lt;Host&gt;:&lt;port&gt;/action=GRL&amp;format=xml</td>\n<td>Displays a log of requests, including the date and time that a request was made, the client IP address that made the request, and the internal thread that handled the action.</td>\n<td>all</td>\n<td>&lt;Host&gt;:&lt;ACI_Port&gt;</td>\n</tr>\n<tr>\n<td rowspan=\"2\">View Index Status</td>\n<td rowspan=\"2\">https://&lt;Host&gt;:&lt;port&gt;/action=indexerGetStatus</td>\n<td rowspan=\"2\">Checks the status of index actions in the Smart Analytics index queue.</td>\n<td>dih</td>\n<td>smarta-&lt;*&gt;-dih-svc:1443</td>\n</tr>\n<tr>\n<td>content</td>\n<td>&lt;CONTENT_SERVICE&gt;:1443</td>\n</tr>\n<tr>\n<td>View Root Category Detail</td>\n<td>https://&lt;Host&gt;:&lt;port&gt;/action=CategoryGetHierDetails</td>\n<td>Displays the root categories after training.</td>\n<td>category</td>\n<td>smarta-stx-category-svc:1443</td>\n</tr>\n<tr>\n<td rowspan=\"2\">Back up Component</td>\n<td rowspan=\"2\">https://&lt;Host&gt;:&lt;port&gt;/action=BackupServer&amp;path=/var/backup</td>\n<td rowspan=\"2\">Creates a backup that can be used to restore the component’s state. You can use this action for the Content, Category, and components. The backup file is stored in the path you specified.</td>\n<td>content</td>\n<td>&lt;CONTENT_SERVICE&gt;:1443</td>\n</tr>\n<tr>\n<td>category</td>\n<td>smarta-stx-category-svc:1443</td>\n</tr>\n<tr>\n<td>Restore Content Server</td>\n<td>https://&lt;Host&gt;:&lt;port&gt;/action=RestoreServer&amp;filename=/var/\n\t\t\t<p>backup/***.zip</p>\n</td>\n<td>Restores the content of a content server that was previously backed up.</td>\n<td>content</td>\n<td>&lt;CONTENT_SERVICE&gt;:1443</td>\n</tr>\n<tr>\n<td>Synchronize Category</td>\n<td>https://&lt;Host&gt;:&lt;MainProxyACIPort&gt;/action=CategorySyncCatDRE</td>\n<td>Synchronizes and builds the category after you restore the Category component.</td>\n<td>category</td>\n<td>smarta-stx-category-svc:1443</td>\n</tr>\n<tr>\n<td rowspan=\"2\">Back up Database</td>\n<td rowspan=\"2\">https://&lt;Host&gt;:&lt;indexPort&gt;/DREEXPORTIDX?filename=\n\t\t\t<p>c:/BackupFolderName/FilePrefix&amp;DatabaseMatch=&lt;Database_name&gt;&amp;HostDetails=true</p>\n</td>\n<td rowspan=\"2\">Exports all the index documents for a database from the Smart Analytics content server to a series of compressed files in the defined backup directory. This action backs up individual databases. If you want to back up all databases on a content server, use the action Backup Component as mentioned above.</td>\n<td>dih</td>\n<td>smarta-&lt;*&gt;-dih-svc:1443</td>\n</tr>\n<tr>\n<td>content</td>\n<td>&lt;CONTENT_SERVICE&gt;:1443</td>\n</tr>\n<tr>\n<td rowspan=\"2\">Restore Database</td>\n<td rowspan=\"2\">https://&lt;MainProxyHost&gt;:&lt;IndexPort&gt;/DREADD?FileName=\n\t\t\t<p>/var/backup/***.idx&amp;DREDbName=***&amp;CreateDatabase=True</p>\n</td>\n<td rowspan=\"2\">Restores the index IDX exported before. If no DREDbName is specified, the dbname of the indexed file is used.</td>\n<td>dih</td>\n<td>smarta-&lt;*&gt;-dih-svc:1443</td>\n</tr>\n<tr>\n<td>content</td>\n<td>&lt;CONTENT_SERVICE&gt;:1443</td>\n</tr>\n</tbody>\n</table>\n<p>As the Suite Administrator, you can also perform the following administration tasks for Smart Analytics.</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/scaleoutdahserver\" title=\"SMAX:25.1/ScaleOutDAHServer\">Scale out DAH server</a></li><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/pvcontent\" title=\"SMAX:25.1/PVContent\">Create PV and PVC for content group</a></li><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/stopwordssynonyms\" title=\"SMAX:25.1/StopWordsSynonyms\">Update Smart Analytics stop words</a></li><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/fullreindex\" title=\"SMAX:25.1/FullReindex\">Perform a full reindex for Smart Analytics</a></li><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/scheduleindexcompact\" title=\"SMAX:25.1/ScheduleIndexCompact\">Schedule the IDOL index compaction</a></li><li style=\"margin-left: 28px; position: relative;\"><a href=\"/doc/423/26.1/enhacesearchdbcs\" title=\"(Optional) Improve search accuracy for double-byte character set\">(Optional) Improve search accuracy for double-byte character set</a></li></ul>\n<p>For the tenants in Japanese, you need to perform the following procedures:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the control plane node or bastion node as root or a sudo user.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to change the config map: \n\t<pre><code>kubectl edit cm itom-sma-smarta-common-configuration-cm -n &lt;suite_namespace&gt;</code></pre>\n\tFor example:\n\n\t<pre><code>edit cm itom-sma-smarta-common-configuration-cm -n itsma-1dmwm</code></pre>\n<br/>\n\tChange the detect_language_type to false.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command to display all content files:\n\t<pre><code>kubectl get po -n &lt;suite_namespace&gt; | grep con-</code></pre>\n<br/>\n\tFor example:\n\t<pre><code>kubectl get po -n itsma-1dmwm | grep con-</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">\n<p>Log in to the NFS server and add the following parameters to all content files:</p>\n<pre><code>[LanguageTypes]\n......\nTransliteration=false\nNgram=2\nNgramorientalonly=true\nHyphenchars=none\nPropernames=0\nAugmentseparators=-‘.\nStoplists=international.dat</code></pre>\n<p>See the following table for the configuration file locations.</p>\n<table>\n<tbody>\n<tr>\n<th>NAME</th>\n<th>Configuration file location</th>\n</tr>\n<tr>\n<td>smarta-sawarc-con-0</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-sawarc-con-0/smarta-sawarc-con-0/config/Content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawarc-con-1</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-sawarc-con-1/smarta-sawarc-con-1/config/Content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-0</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-saw-con-0/smarta-saw-con-0/config/Content.cfg</td>\n</tr>\n<tr>\n<td>smarta-saw-con-1</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-saw-con-1/smarta-saw-con-1/config/Content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-0</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-sawmeta-con-0/smarta-sawmeta-con-0/config/Content.cfg</td>\n</tr>\n<tr>\n<td>smarta-sawmeta-con-1</td>\n<td>&lt;NFS folder&gt;/itsma-smarta-sawmeta-con-1/smarta-sawmeta-con-1/config/Content.cfg</td>\n</tr>\n</tbody>\n</table>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Restart the content pods and smarta-search pod using command:\n\t<pre><code>kubectl delete pod &lt;podname&gt; -n &lt;suite_namespace&gt;</code></pre>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Perform a full reindex</li></ol>\n</div>",
  "modifiedon": "2026-02-20 07:35:27"
}