{
  "title": "Subject Name Identification (SNI) failures",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>When sending http client requests to servers that host multiple websites on the same hostname and port common name or subject name, identification issues may occur, failing to identify the correct subject name. The result of such failures could be an error similar to: <code>Error while executing http request: Certificate for &lt;server_host&gt; doesn't match any of the subject alternative names:[list_of_subject_alternative_names]</code> even though the certificates seem correct.</p>\n<p>Known situations where this issue has been encountered include but are not limited to performing Azure resource sync calls or obtaining a SMAX authentication token.</p>\n<h2>Cause </h2>\n<p>In such situations, the Java implementation of subject name identification can fail to correctly identify and navigate to the correct site.</p>\n<h2>Solutions</h2>\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Aptos,sans-serif\">Starting with 24.4.1 the Java SNI usage is controllable. To change the Java SNI usage:</span></span></p>\n<p>For <strong>Internal RAS</strong>:</p>\n<ol>\n<li>Perform a GET API call to the <strong>oo/rest/v1/{tenant_id}/fleetProperties/jsse.enableSNIExtension</strong> endpoint to see the current SNI extension property value.</li>\n<li>Perform a PUT API call to the <span lang=\"EN-GB\" style=\"font-size:11.0pt\"><span style='font-family:\"Aptos\",sans-serif'><strong>oo/rest/v1/{tenant_id}/fleetProperties/jsse.enableSNIExtension</strong> </span></span>endpoint with the body:\n\t<pre>{ \"propertyName\":\"jsse.enableSNIExtension\", \"propertyValue\":\"false\" }</pre>\n<p>replacing the property value with <strong>true </strong>or <strong>false </strong>to be the opposite of the currently running value.</p>\n</li>\n<li><span style=\"font-size:11pt\"><span style=\"font-family:Aptos,sans-serif\">Monitor the GET API call until the body returns the value <strong>true </strong>for the applied property.</span></span></li>\n</ol>\n<p>For <strong>External RAS</strong>:</p>\n<ol>\n<li>Open the <strong>ras-wrapper.conf</strong> file located in the <strong>ras/conf</strong> folder.</li>\n<li>Locate the key \n\t<pre>wrapper.java.additional.XX=-Djsse.enableSNIExtension=</pre>\n</li>\n<li>Change the value from <strong>true </strong>to <strong>false </strong>or vice versa.</li>\n<li>Save and restart the OO RAS service.</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}