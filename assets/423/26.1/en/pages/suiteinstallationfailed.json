{
  "title": "Suite installation failed",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>The suite installation failed. Additionally, when you locate the failed pod and then enter the pod log, the following error appears:</p>\n<pre>- Failed to execute statement: REVOKE CONNECT ON DATABASE xservices_rms FROM public; ALTER DATABASE xservices_rms CONNECTION LIMIT 0; SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'xservices_rms' and pid &lt;&gt; pg_backend_pid(); connected with db=maas_admin user: maas_admin   ERROR: must be a superuser to terminate superuser process\norg.postgresql.util.PSQLException: ERROR: must be a superuser to terminate superuser process</pre>\n<p>or</p>\n<pre>org.springframework.jdbc.UncategorizedSQLException: StatementCallback; uncategorized SQLException for SQL [CREATE DATABASE \"xservices_rms\" ENCODING = 'UTF8' TEMPLATE = maas_template LC_COLLATE = 'en_US.UTF-8' LC_CTYPE = 'en_US.UTF-8' CONNECTION LIMIT = -1]; SQL state [55006]; error code [0]; ERROR: source database \"maas_template\" is being accessed by other users\n\nDetail: There is 1 other session using the database.; nested exception is org.postgresql.util.PSQLException: ERROR: source database \"maas_template\" is being accessed by other users\n\nDetail: There is 1 other session using the database.</pre>\n<p>Note: use the following commands to locate the failed pod and then enter the pod to view the log:</p>\n<pre>kubectl get pods --all-namespaces --show-all|grep xruntime\nkubectl logs -f itom-xruntime-&lt;podname&gt; -n &lt;namespace&gt;\n</pre>\n<h2 class=\"mw-headline\" id=\"Cause\">Cause</h2>\n<p>This issue occurs because other activities are using the database.</p>\n<h2 class=\"mw-headline\" id=\"Solution\">Solution</h2>\n<p>Follow these steps to solve this issue:</p>\n<ol>\n<li>\n<p>Connect to the PostgreSQL using <code>postgres</code> as the username and password, and run the following SQL command:</p>\n<p><code>select * from pg_stat_activity where datname in ('xservices_ems','xservices_mng','xservices_rms','xie','scheduler','maas_admin','maas_template')</code></p>\n</li>\n<li>\n<p>If you see activities that belong to usernames other than maas_admin, uninstall the suite.</p>\n</li>\n<li>Connect to the PostgreSQL again and run the following SQL command:<br/>\n<code>select * from pg_stat_activity where datname in ('xservices_ems','xservices_mng','xservices_rms','xie','scheduler','maas_admin','maas_template')</code></li>\n<li>Kill all activities and then reinstall the suite.</li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}