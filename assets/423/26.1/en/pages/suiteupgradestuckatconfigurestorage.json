{
  "title": "Suite upgrade gets stuck at the storage configuration step",
  "content": "<div class=\"mw-parser-output\">\n<div></div>\n<p>The suite version update process gets stuck at the Configure storage screen:</p>\n<div><a class=\"image\" href=\"\"> <img alt=\"\" border=\"0\" file=\"/mediawiki/images/b/bd/suite_upgrade_stuck_config_storage.png\" hspace=\"0\" src=\"../../../images/suite_upgrade_stuck_config_storage_555cd685.png\" style=\"width: 800px; height: 497px; margin: 0px; border: 0px solid black;\" vspace=\"0\"/> </a></div>\n<p>If you run the <strong>kubectl logs suite-conf-pod-itsma-xxxxxxx -n core</strong> command on a control plane node (on-premises) or the bastion node (managed Kubernetes), you can see many \"Operation not permitted\" errors.</p>\n<h2><a id=\"Cause\" name=\"Cause\" title=\"Cause\"></a>Cause</h2>\n<p>The suite-conf-pod-itsma pod is running in 1/2 state or has crashed because operations are not permitted for certain storage volumes. </p>\n<h2><a id=\"Solution\" name=\"Solution\" title=\"Solution\"></a>Solution</h2>\n<p>Perform the steps according to your environment: on-premises or managed Kubernetes (public cloud). </p>\n<h3><a id=\"On_premises\" name=\"On_premises\" title=\"On-premises\"></a>On-premises</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the NFS server as root or a sudo user.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Change the owner of certain storage folders as described in <a href=\"/doc/423/26.1/smartanotworkinghelmtransform#Solution\" title=\"Change the owner of certain storage folders\">Change the owner of certain storage folders</a>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command on a control plane node:\n\t<pre><code>kubectl delete suite-conf-pod-itsma-xxxxxx -n core</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Wait until the suite-conf-pod-itsma pod is running in 2/2 state.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Refresh the Configure storage browser screen, and then continue with the suite version update process.</li></ol>\n<h3><a id=\"Managed_Kubernetes\" name=\"Managed_Kubernetes\" title=\"Managed Kubernetes\"></a>Managed Kubernetes</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the bastion node.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Change the owner of certain storage folders as described in <a href=\"/doc/423/26.1/smartanotworkinghelmtransform#Solution\" title=\"Change the owner of certain storage folders\">Change the owner of certain storage folders</a>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Run the following command on the bastion node:\n\t<pre><code>kubectl delete suite-conf-pod-itsma-xxxxxx -n core</code></pre>\n</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Wait until the suite-conf-pod-itsma pod is running in 2/2 state.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Refresh the Configure storage browser screen, and then continue with the suite version update process.</li></ol>\n</div>",
  "modifiedon": "2025-10-24 08:51:12"
}