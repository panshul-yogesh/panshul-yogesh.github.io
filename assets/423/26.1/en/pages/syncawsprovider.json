{
  "title": "Integrate with AWS for Cloud Cost Reporting",
  "content": "<div class=\"mw-parser-output\">\n<p>Before you can use the Cloud Cost Reporting capability, you must set up integrations with the cloud platforms from which you want to pull cloud data. We support integrations with Amazon Web Services (AWS), Azure, and Oracle Cloud Infrastructure (OCI).</p>\n<p>The Cloud Cost Reporting capability uses two types of cloud data. You will need to set up a separate integration to retrieve Cloud Account Data and Cloud Billing Data.</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Cloud account data – Cloud account data is retrieved so you can centrally manage cloud accounts on supported platforms using the account management functionality. You must set up an Integration Studio-based integration to import cloud account data.</li><li style=\"margin-left: 28px; position: relative;\">Cloud billing data –  Cloud billing data is used to generate prebuilt Cloud Cost Reports and to support custom reporting in Operations Cloud. You must set up a Cloud Cost Data Provider-based integration to retrieve cloud billing data.</li></ul>\n<p>This topic describes how to set up the two AWS integrations that support the Cloud Cost Reporting capability. The cloud accounts import integration and the billing data retrieval integration.</p>\n<h2><a id=\"Complete_prerequisite_tasks_in_AWS\" name=\"Complete_prerequisite_tasks_in_AWS\" title=\"Complete prerequisite tasks in AWS\"></a>Complete prerequisite tasks in AWS</h2>\n<p>To integrate with AWS, you must complete the following tasks in AWS at the management account level. </p>\n<h3><a id=\"Set_up_IAM_user_and_permissions\" name=\"Set_up_IAM_user_and_permissions\" title=\"Set up IAM user and permissions\"></a>Set up IAM user and permissions</h3>\n<p>Generate the security credentials required by the integrations and then grant the required permissions to the corresponding user:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the AWS management account as an administrator or the root user.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to the IAM service and then open the <strong>Policies </strong>page.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Add a policy with the following services and permissions:\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Service</th>\n<th scope=\"col\">Permissions</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\n<p>Organizations</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>DescribeOrganization</code></li><li style=\"margin-left: 28px; position: relative;\"><code>DescribeAccount</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ListAccounts</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Cost Explorer Service</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>ce:Describe*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ce:List*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ce:Get*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ce:StartSavingsPlansPurchaseRecommendationGeneration</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Savings Plans</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>savingsplans:Describe*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>savingsplans:List*</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>EC2</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>ec2:DescribeReservedInstances</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ec2:DescribeReservedInstancesOfferings</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ec2:DescribeInstances</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ec2:DescribeVolumes</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ec2:DescribeRegions</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Trusted Advisor</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>trustedadvisor:Describe*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>trustedadvisor:List*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>trustedadvisor:Get*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>trustedadvisor:DownloadRisk</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Compute Optimizer</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>compute-optimizer:Get*</code></li><li style=\"margin-left: 28px; position: relative;\"><code>compute-optimizer:Describe*</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Cost and Usage Report</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>cur:DescribeReportDefinitions</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Elastic Container Service</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>ecs:ListServices</code></li><li style=\"margin-left: 28px; position: relative;\"><code>ecs:ListClusters</code></li></ul>\n</td>\n</tr>\n<tr>\n<td>\n<p>Lambda</p>\n</td>\n<td>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>lambda:ListProvisionedConcurrencyConfigs</code></li><li style=\"margin-left: 28px; position: relative;\"><code>lambda:ListFunctions</code></li></ul>\n</td>\n</tr>\n</tbody>\n</table>\n\tYou'll need this policy for the cloud accounts import integration.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to the <strong>Users </strong>page, and then create an IAM user.\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">Make sure that the user's access type is <strong>programmatic access</strong>.</li><li style=\"margin-left: 40px; position: relative;\">Enter some meaningful tags for the user. The Cloud Cost Reporting capability will make use of this information.</li></ul>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Attach the policy added earlier and the following AWS managed policies to an appropriate principal entity (user, group, or role), depending on how you manage user permissions in AWS:\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\"><b>AmazonEC2ReadOnlyAccess</b></li><li style=\"margin-left: 40px; position: relative;\"><b>AmazonS3ReadOnlyAccess</b></li><li style=\"margin-left: 40px; position: relative;\"><b>AWSOrganizationsReadOnlyAccess</b></li><li style=\"margin-left: 40px; position: relative;\"><b>AWSPriceListServiceFullAccess</b></li></ul>\n\tIf you attach the policies to a group or role, assign the created IAM user to the group or assign the role to the user.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Note down the security credentials (<strong>Access key ID</strong> and <strong>Secret access key</strong>) for the user. You will need to enter the credentials when configuring the billing data and cloud accounts import integrations.</li></ol>\n<p>For details, see the <a href=\"https://docs.aws.amazon.com/\" title=\"AWS documentation\">AWS documentation</a>.</p>\n<h3><a id=\"Enable_rightsizing_recommendations\" name=\"Enable_rightsizing_recommendations\" title=\"Enable rightsizing recommendations\"></a>Enable rightsizing recommendations</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the AWS management account as an administrator or the root user.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to the <strong>AWS Billing and Cost Management</strong> console, and then open the <strong>Cost Management Preferences</strong> page.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">On the <strong>General</strong> tab, select the <strong>Rightsizing Recommendations</strong> and <strong>Enable Allow linked accounts to see recommendations</strong> options.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Save your changes.</li></ol>\n<p>For more information, see <a href=\"https://docs.aws.amazon.com/cost-management/latest/userguide/ce-rightsizing.html\" title=\"AWS Rightsizing Recommendations\">AWS Rightsizing Recommendations</a>.</p>\n<h3><a id=\"Configure_data_export\" name=\"Configure_data_export\" title=\"Configure data export\"></a>Configure data export</h3>\n<p>To enable the billing data retrieval integration, you need to configure a legacy CUR type data export by following the instructions in the <a href=\"https://docs.aws.amazon.com/cur/latest/userguide/dataexports-create-legacy.html\" title=\"AWS documentation\">AWS documentation</a>. Once configured, AWS will automatically generate reports and store them in the designated S3 bucket. The integration will then import these reports for further processing.</p>\n<p>This table lists the essential parameters required during the report configuration process. For other parameters, configure values that align with your specific requirements.</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\n<thead>\n<tr>\n<th scope=\"col\">Configuration parameter</th>\n<th scope=\"col\">Required value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Export type</td>\n<td>Legacy CUR export</td>\n</tr>\n<tr>\n<td>Include resource IDs</td>\n<td>Select the option</td>\n</tr>\n<tr>\n<td>Split cost allocation data</td>\n<td>Select the option</td>\n</tr>\n<tr>\n<td>Refresh automatically</td>\n<td>Select the option</td>\n</tr>\n<tr>\n<td>Report data time granularity</td>\n<td>Daily</td>\n</tr>\n<tr>\n<td>Report versioning</td>\n<td>Create new report version</td>\n</tr>\n<tr>\n<td>Report data integration</td>\n<td>Don't select any option</td>\n</tr>\n<tr>\n<td>Compression type</td>\n<td>GZIP</td>\n</tr>\n</tbody>\n</table>\n<p>Note down the <strong>S3 bucket name</strong> and the <strong>report path prefix</strong> displayed on the <strong>Review </strong>page of the report creation wizard. You will need these values later when you configure the cloud cost data provider.</p>\n<p>After configuring the cost usage report, verify that you can generate the report in this directory of the S3 bucket: <code>&lt;bucket name&gt;\\&lt;report path prefix&gt;</code>. The actual report path will contain an actual date range instead of the <code>date-range</code> value. Note that it might take longer than 24 hours to generate reports in the S3 bucket after you configure the cost and usage report.</p>\n<h2 id=\"CloudAccount\"><a id=\"Set_up_an_integration_via_Integration_Studio_to_import_cloud_accounts\" name=\"Set_up_an_integration_via_Integration_Studio_to_import_cloud_accounts\" title=\"Set up an integration via Integration Studio to import cloud accounts\"></a>Set up an integration via Integration Studio to import cloud accounts</h2>\n<p>This section describes how to set up an integration based on Integration Studio for AWS cloud accounts import.</p>\n<h3><a id=\"Prepare_an_integration_user\" name=\"Prepare_an_integration_user\" title=\"Prepare an integration user\"></a>Prepare an integration user</h3>\n<p>Create a dedicated integration user for each integration. </p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to Suite Administration (https://&lt;External Access Host&gt;/bo) as suite admin and create an integration user with the <strong>Integration user</strong> role for the integration.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to Agent Interface as the tenant admin and do the following:\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">Navigate to<strong> Administration </strong>&gt;<strong> Master Data</strong> &gt; <strong>People</strong> &gt; <strong>Roles</strong>, and create a role (with the Application value <strong>SMAX</strong>) with the <strong>Create</strong>, <strong>View</strong>, and <strong>Update</strong> permissions for the <strong>Cloud Account</strong> record type. </li><li style=\"margin-left: 40px; position: relative;\">Navigate to<strong> Administration </strong>&gt; <strong>Master Data </strong>&gt; <strong>People</strong>, locate the integration user, and then assign the created role to the user.</li></ul>\n</li></ol>\n<h3><a id=\"Configure_endpoint\" name=\"Configure_endpoint\" title=\"Configure endpoint\"></a>Configure endpoint</h3>\n<p>Create an endpoint using the Rest Executor 2.0 endpoint type:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to Agent Interface as the cloud integration administrator.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to <strong>Administration </strong>&gt; <strong>Utilities </strong>&gt; <strong>Integration</strong> &gt;<strong> Endpoints</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Add</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select<strong> Rest Executor 2.0</strong> as the endpoint type, enter a name for the endpoint (for example, AWS), and then click <strong>Add</strong>. The system creates the endpoint.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Configure</strong> and set these fields:\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Agent</td>\n<td>\n<p>Select <strong>Agentless</strong>.</p>\n</td>\n</tr>\n<tr>\n<td>Authentication type</td>\n<td>Select <strong>AWS Signature</strong>.</td>\n</tr>\n<tr>\n<td>Access key ID</td>\n<td>Enter the access key ID obtained in the prerequisite section.</td>\n</tr>\n<tr>\n<td>\n<p>Secret access key</p>\n</td>\n<td>Enter the secret access key obtained in the prerequisite section.</td>\n</tr>\n<tr>\n<td>Session token</td>\n<td>Leave the field empty.</td>\n</tr>\n<tr>\n<td>Certificate type</td>\n<td>Leave the field empty.</td>\n</tr>\n<tr>\n<td>Certificate format</td>\n<td>Leave the field empty.</td>\n</tr>\n<tr>\n<td>Server certificate</td>\n<td>Leave the field empty.</td>\n</tr>\n</tbody>\n</table>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">After completing the configuration, click <strong>Test connection</strong> to validate the configuration.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong>.</li></ol>\n<h3><a id=\"Create_an_integration\" name=\"Create_an_integration\" title=\"Create an integration\"></a>Create an integration</h3>\n<p>In the following steps, you'll create an integration with the predefined template.</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to <strong>Administration </strong>&gt; <strong>Utilities</strong> &gt; <strong>Integration</strong> &gt;<strong> Integration studio</strong>. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>New</strong>, enter the name of your integration, and then click <strong>Save</strong>. The system displays the Integration page.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Details</strong> section, configure the integration user you created for the current Service Management system.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the <strong>Active</strong> option to activate the integration.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the Connector-Endpoint mappings section, click <strong>Add</strong> to add a mapping.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <b>Management &amp; Governance</b> (under <strong>Amazon Web Services</strong>) as the connector, select the AWS endpoint that you created earlier, and then enter an alias for the mapping.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong>.</li></ol>\n<h3><a id=\"Configure_a_scenario\" name=\"Configure_a_scenario\" title=\"Configure a scenario\"></a>Configure a scenario</h3>\n<p>Perform the following steps to add and configure a scenario:</p>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">With the integration selected, click <strong>Add scenario</strong>. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Enter a name for the scenario. For example, AWS account sync.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Template</strong> field, select <strong>AWS accounts sync process </strong>(under <strong>Amazon Web Services </strong><b>Management &amp; Governance</b>).</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong> to add the scenario.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">(Optional) Expand the <strong>Set sync parameters</strong> rule in the <strong>Process logic</strong> section of the scenario, and update the value for the <code>IdleDaysToCleanUp </code>key. See below for the explanation of this parameter.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong>.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Manually run the scenario. If you don't do this, Cloud Cost Reporting capability that depends on cloud account data won't work as expected until the first scheduled cloud account sync occurs.</li></ol>\n<h4><a id=\"Use_IdleDaysToCleanUp_to_control_the_stale_cloud_account_cleanup_duration\" name=\"Use_IdleDaysToCleanUp_to_control_the_stale_cloud_account_cleanup_duration\" title=\"Use IdleDaysToCleanUp to control the stale cloud account cleanup duration\"></a>Use IdleDaysToCleanUp to control the stale cloud account cleanup duration</h4>\n<p>Service Management moves cloud accounts removed from the cloud platform to the Archived phase by using transition rules. To do this, it uses the \"PENDING_CLOSURE\" account status set by the integration scenario to decide what are the removed accounts. By default, the integration scenario sets the \"PENDING_CLOSURE\" status to cloud accounts removed more than 30 days ago. You can update the <code>IdleDaysToCleanUp</code> parameter's value (in days) to change this duration.</p>\n<div class=\"transcontent stn-begin--scheduling\"></div>\n<h3><a id=\"Schedule_the_import_of_cloud_accounts\" name=\"Schedule_the_import_of_cloud_accounts\" title=\"Schedule the import of cloud accounts\"></a>Schedule the import of cloud accounts</h3>\n<p id=\"Trigger_integration_by_scheduler\">Use the scheduler to periodically import cloud accounts from the cloud platform. Create a schedule that executes the cloud accounts import scenario at the scheduled time (for example, trigger the import at <strong>2:00</strong> every day).</p>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-tip-icon\"></div><div class=\"admonition-content admonition-tip-content\"><div>To optimize system performance, schedule cloud account imports with intervals of at least 24 hours.</div></div></div>\n<div class=\"transcontent stn-end--scheduling\"></div>\n<h3><a id=\"Check_the_scenario_execution_status\" name=\"Check_the_scenario_execution_status\" title=\"Check the scenario execution status\"></a>Check the scenario execution status</h3>\n<p>To check the scenario execution status, navigate to <b>Administration</b> &gt; <b>Utilities</b> &gt; <b>Integration</b> &gt; <b>Endpoints</b>, and then select the AWS endpoint in the left pane. The system displays the execution history for the AWS integration. Each record displayed in this grid corresponds to one scenario rule. Make sure all rules in the cloud accounts import scenario have the green <strong>Success</strong> status.</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">You can check the start and end time (and duration) for two main activities of the scenario: cloud accounts syncing and stale accounts status setting. To do this, click the hyperlinked ID for these rules (<em>Capture sync time</em> and <em>Clean up sync time end</em>), and check the value in the <strong>Output details</strong> field. The field displays both the start time and end time for the corresponding activity.</li><li style=\"margin-left: 28px; position: relative;\">The <strong>Connector</strong> column indicates the system where the action of the rule is applied: Management &amp; Governance (AWS), SMAX, or Common. Unlike other values, Common means that this rule doesn't call any APIs, instead, it just sets some values or performs some calculations.</li><li style=\"margin-left: 28px; position: relative;\">Records whose <strong>Connector</strong> value isn't <strong>Common </strong>contain detailed response data in the <b>Response details</b> field. Check this field for error codes or error messages for records with a warning or error status.</li><li style=\"margin-left: 28px; position: relative;\">If you find an error code or message in error or warning records for AWS rules (with the <b>Connector</b> value <strong>Amazon Web Services </strong><b>Management &amp; Governance</b>), check the Amazon documentation to see if you can find more information about the error.</li></ul>\n<h3><a id=\"Troubleshooting_tips\" name=\"Troubleshooting_tips\" title=\"Troubleshooting tips\"></a>Troubleshooting tips</h3>\n<p>For rules that correspond to API calls (as opposed to Common actions), if the error code or message in the <strong>Response details</strong> field indicates connection or credential errors, take these actions:</p>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Click <strong>Run scenario</strong> in the Scenario details page to run the scenario again, and then check the execution history for that rule to see if it succeeds. Use this method to check if temporary network issues are the cause of the error.</li><li style=\"margin-left: 28px; position: relative;\">Open the AWS endpoint's configuration page, and click <strong>Test connection</strong>. If the test connection succeeds, it indicates that invalid AWS security credentials aren't the cause of the error.</li></ul>\n<h2><a id=\"Configure_a_cloud_cost_data_provider_to_retrieve_billing_data\" name=\"Configure_a_cloud_cost_data_provider_to_retrieve_billing_data\" title=\"Configure a cloud cost data provider to retrieve billing data\"></a>Configure a cloud cost data provider to retrieve billing data</h2>\n<p>With this integration, you can configure retrieval of historical and current billing information for expenditures associated with your cloud provider. This information will be available within the reporting interface.</p>\n<h3 id=\"Create_a_cost_reporting_integration\"><a id=\"Create_a_cost_reporting_integration\" name=\"Create_a_cost_reporting_integration\" title=\"Create a cost reporting integration\"></a>Create a cost reporting integration</h3>\n<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to Agent Interface as the cloud integration administrator.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to <b>Administration </b>&gt;<b> Providers </b>&gt;<b> Cloud Cost Data Providers.</b></li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">On the <strong>Integrations</strong> page, click either <strong>Add Integration</strong> (if no integrations exist) or the <a class=\"image\" href=\"\"> <img alt=\"hcm 2018 11 integrations add.png\" data-file-height=\"20\" data-file-width=\"22\" src=\"../../../images/hcm_2018_11_integrations_add_1c285d73.png\" style=\"width: 22px; height: 20px;\"/> </a> icon on the right pane to add an additional integration.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <strong>Amazon AWS</strong> and click <b>Next</b>.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Specify these fields:\n\t<ol start=\"1\" style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\"><b>Connection Name</b>: Identifier for the AWS integration, for example, \"<code>My AWS DEV Account</code>\".</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><b>Access Key ID</b>: AWS access key obtained in the prerequisite section</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><b>Secret Access Key</b>: AWS secret access key obtained in the prerequisite section</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\"><b>Billing Bucket Name</b>: The name of the S3 bucket that stores billing data and that you designated when you configured the data export in AWS.</li><li style=\"--number-width: 24px; --number-spacing: 28px; margin-left: 52px; position: relative;\"><b>Billing Report Path</b>: The report path prefix (excluding the <code>/date-range/</code> value at the end) that you specified when you configured the data export in AWS.</li></ol>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-tip-icon\"></div><div class=\"admonition-content admonition-tip-content\"><div>If you forgot to make a note of the billing bucket name and billing report path when you configured the data export, follow these steps to identify them:\n\t<ol style=\"padding-left: 0px;\"><li style=\"--number-width: 21px; --number-spacing: 25px; margin-left: 49px; position: relative;\">Sign in to the AWS Management Console and open the Amazon S3 console at <a href=\"https://console.aws.amazon.com/s3/\" rel=\"noopener noreferrer\" target=\"_blank\" title=\"https://console.aws.amazon.com/s3/\">https://console.aws.amazon.com/s3/</a>.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">In the left navigation pane, select <strong>Buckets</strong>, and then navigate to the bucket associated with the integration.</li><li style=\"--number-width: 25px; --number-spacing: 29px; margin-left: 53px; position: relative;\">Click the <strong>Copy S3 URI</strong> button, and then paste the URI to a text editor. The URI is formatted as follows:\n\t\t<pre><code>s3://&lt;billing bucket name&gt;/&lt;billing report path&gt;</code></pre>\n<br/>\n<strong>Important:</strong> The billing report path doesn't include the forward slash that's between it and the billing bucket name. For example, if the S3 URI is <code>s3://bucket3///reportPath1/</code>, the billing report path is <code>//reportPath1/</code> (with one less forward slash).</li></ol>\n</div></div></div>\n</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Check the <b>I require a proxy server to connect to this provider</b> box to use a proxy server to connect to the cloud provider. You can either use the system default proxy server (configured by a suite admin) or use a custom proxy server here.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Leave the <strong>I require a custom base URL to connect to this provider</strong> checkbox unchecked to contact the cloud provider at its default endpoint.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Next</strong>.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Specify the following information:\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">Collection History Cutoff: By default, the integration will fetch all available billing data from the cloud provider. For AWS, Amazon introduced CUR in 2015, and the availability of data depends on the creation date of the configured CUR reports. If, in either case, you wish to limit the amount of data, select a collection start date so that your collection only gathers data from the specified date. For example, selecting January 2020 will fetch data from that point to the present day and into the future. There is no end date.</li><li style=\"margin-left: 40px; position: relative;\">Cloud Tags: To enable cloud tags for the selected provider, specify the name and key. Cloud tags help you to filter, search, and manage the AWS resources.<br/>\n\t\tFor more information, see <strong>Configure Cloud Tags</strong>.</li></ul>\n</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>Finish</b>.</li></ol>\n<div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>After you create the integration, a full data collection (including historical data) will occur. This may result in a longer-than-usual data collection time, and will cause issues if the collection is still running when the next scheduled collection is due to start.<br/>\n<br/>\nTo avoid this issue, we strongly recommend that you disable the integration until the initial full data collection is complete. You can then enable the integration again to resume scheduled data collection. To do this, click the toggle switch under <strong>COLLECTION SETTINGS </strong>so that it says <strong>Collection is disabled</strong>. When the full data collection is complete, click the toggle switch again<strong> </strong>so that it says <strong>Collection is enabled.</strong></div></div></div>\n<h2><a id=\"Related_topics\" name=\"Related_topics\" title=\"Related topics\"></a>Related topics</h2>\n<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">For general information about the Integration Studio, see <a href=\"/doc/423/26.1/integrationhub\" title=\"Integration Studio\">Integration Studio</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on triggering integration scenarios based on scheduler, see <a href=\"/doc/423/26.1/xiescheduler\" title=\"Scheduler\">Scheduler</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on how to export and import integrations and scenarios, see <a href=\"/doc/423/26.1/xieimportexportintegrations\" title=\"Export and import integrations\">Export and import integrations</a><strong>.</strong></li><li style=\"margin-left: 28px; position: relative;\">For information on Cost and Usage Report, see the AWS documentation <a href=\"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-gettingstarted.html\" rel=\"nofollow\" target=\"1\" title=\"Getting Started with CUR\">Getting Started with CUR</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on cloud tags, see <a href=\"/doc/423/26.1/cloudtags\" title=\"Configure cloud tags\">Configure cloud tags</a>.</li></ul>\n</div>",
  "modifiedon": "2026-01-28 05:56:18"
}