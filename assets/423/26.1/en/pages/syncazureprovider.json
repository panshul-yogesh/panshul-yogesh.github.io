{
  "title": "Integrate with Azure for Cloud Cost Reporting",
  "content": "<div class=\"mw-parser-output\"><p>Before you can use the Cloud Cost Reporting solution, you must set up integrations with the cloud platforms from which you want to pull cloud data. We support integrations with Amazon Web Services (AWS), Azure, and Oracle Cloud Infrastructure (OCI).</p><p>The Cloud Cost Reporting capability uses two types of cloud data. You will need to set up a separate integration to retrieve Cloud Account Data and Cloud Billing Data.</p><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Cloud account data – Cloud account data is retrieved so you can centrally manage cloud accounts on supported platforms using the account management functionality. You must set up an Integration Studio-based integration to import cloud account data.</li><li style=\"margin-left: 28px; position: relative;\">Cloud billing data – Cloud billing data is used to generate prebuilt Cloud Cost Reports and to support custom reporting in Operations Cloud. You must set up a Cloud Cost Data Provider-based integration to retrieve cloud billing data.</li></ul><p>This topic describes how to set up the two Azure integrations that support the Cloud Cost Reporting capability: the cloud accounts import integration and the billing data retrieval integration. Cloud Cost Reporting supports integration with Enterprise Agreement (EA), Microsoft Customer Agreement (MCA), and Microsoft Partner Agreement (MPA) billing accounts (the latter for billing data collection only).</p><div class=\"admonition\"><div class=\"admonition-icon admonition-caution-icon\"></div><div class=\"admonition-content admonition-caution-content\"><div> Support for Azure MCA and MPA billing accounts is a beta feature and therefore may contain defects. The primary objective of this feature is to obtain feedback on its functionality and quality, and to identify functional enhancement. Customer is advised to safeguard its data, use caution and not rely in any way on the correct functioning or performance of this feature and its artifacts. Customer assumes all risks and all costs associated with its use of this feature, including, without limitation, any damage to any equipment, software, information, or data. OpenText disclaims any liability for any loss, damage, or inconvenience caused by using or relying on this feature.</div></div></div><h2><a id=\"Complete_prerequisite_tasks_in_the_Azure_portal\" name=\"Complete_prerequisite_tasks_in_the_Azure_portal\" title=\"Complete prerequisite tasks in the Azure portal\"></a>Complete prerequisite tasks in the Azure portal</h2><p>To integrate with Azure, you must first complete the following tasks in the Azure portal.</p><h3><a id=\"Register_an_app_to_create_a_service_principal\" name=\"Register_an_app_to_create_a_service_principal\" title=\"Register an app to create a service principal\"></a>Register an app to create a service principal</h3><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Sign in to the Azure portal with a role with the <code>Application.ReadWrite.All</code> and <code>EnrollmentReader</code> permission.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <strong>Azure Active Directory</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Register an application by selecting <strong>App registrations</strong>. This creates the service principal.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">After you click <strong>Register</strong> to register the app, make a note of the Application (client) ID and Directory (tenant) ID. You will need these when configuring the integrations.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Generate a client secret and make a note of it. You will need this when configuring the integrations.</li></ol><h3><a id=\"Assign_permissions\" name=\"Assign_permissions\" title=\"Assign permissions\"></a>Assign permissions</h3><p>Azure uses role-based access control (RBAC) to manage access to Azure resources. You must assign the required roles to the service principal that you created earlier, so that it can access various Azure resources (scopes).</p><p>The roles required to integrate with Azure depend on billing account type of your Azure account.</p><table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\"><thead><tr><th scope=\"col\">Billing account type</th><th scope=\"col\">Roles required</th><th scope=\"col\">Notes</th></tr></thead><tbody><tr><td>Azure EA</td><td><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>Storage blob data reader </code>(Scope: storage account)</li><li style=\"margin-left: 28px; position: relative;\"><code>Enrollment reader </code>(Your Azure portal Enterprise Administrator will need to execute an API to do this. For more information, follow this <a href=\"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/assign-roles-azure-service-principals\" title=\"Assign enrollment account role permission to the SPN\">Microsoft documentation</a>.)</li><li style=\"margin-left: 28px; position: relative;\"><code>Reader </code>(Scope: management group)</li></ul></td><td><p>For more information about Azure EA roles, see this <a href=\"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/understand-ea-roles\" title=\"Assign enrollment account role permission to the SPN\">Microsoft documentation</a>.</p></td></tr><tr><td>Azure MCA</td><td><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>Storage blob data reader</code> (Scope: storage account)</li><li style=\"margin-left: 28px; position: relative;\"><code>Billing account reader</code> (Scope: billing account) </li></ul></td><td>For more information about Azure MCA roles, see this <a href=\"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/understand-mca-roles\" title=\"Assign enrollment account role permission to the SPN\">Microsoft documentation</a>.</td></tr><tr><td>Azure MPA</td><td><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\"><code>Storage blob data reader</code> (Scope: storage account)</li></ul></td><td>For more information about Azure MPA roles, see this <a href=\"https://learn.microsoft.com/en-us/partner-center/permissions-overview\" title=\"Assign roles, permissions, and workspace access to users\">Microsoft documentation</a>.</td></tr></tbody></table><h3><a id=\"Set_up_storage_for_the_billing_data\" name=\"Set_up_storage_for_the_billing_data\" title=\"Set up storage for the billing data\"></a>Set up storage for the billing data</h3><p>You must create a directory in an Azure storage account and export your billing data to it.</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the Azure portal as an enterprise administrator.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <b>Cost Management + Billing</b>, and then select <b>Cost Management</b> from the navigation menu.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <b>Exports</b> from the navigation menu, and then click <strong>Create</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <strong>Create your own export</strong>.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Type of data</strong> list, select <b>Cost and usage details (actual)</b>. </li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Export name</strong> field, enter a name for the export. For example, \"test_actual_bill\".</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Dataset version</strong> list, select <strong>2021-01-01</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Frequency</strong> list, select <strong>Daily export of month-to-date-costs</strong>.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Add</strong>, and then navigate to the<strong> Destination</strong> tab.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Storage type</strong> list, select <strong>Azure blob storage</strong>.</li><li style=\"--number-width: 17px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Destination and storage</strong> section, select the <strong>Create new</strong> option if you don’t have an existing storage account. If you do have one, select <strong>Use existing</strong>.\n\t<ul style=\"padding-left: 0px;\"><li style=\"margin-left: 40px; position: relative;\">If you selected to use an existing storage account, use the <strong>Subscription</strong> and <strong>Storage account</strong> lists to select that account. Then, enter names for the container (for example, \"actualbillcontainer\") and directory (for example, \"actual_bill\") of the new export.</li><li style=\"margin-left: 40px; position: relative;\">If you selected to create a new storage account, select an existing subscription from the <strong>Subscription</strong> list, select an existing resource group (or create a new one) from the <strong>Resource group</strong> list, and then enter a name for the new storage account (for example, \"actualtestaccount\") in the <strong>Account name</strong> field. Then, select a location from the <strong>Location</strong> list, and enter names for the container (for example, \"actualbillcontainer\") and directory (for example, \"actual_bill\") of the new export.</li></ul></li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Clear the <strong>Overwrite data</strong> option, and then click <strong>Next</strong>.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Review the information, and then click <strong>Create</strong>.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the export you just created (in the example, this was \"test_actual_bill\"), and then click <strong>Run now</strong>.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the new storage account that you just created (in the example, this was \"actualtestaccount\") or the existing storage account that you used.</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the left-hand menu, click <strong>Containers</strong> in the <strong>Data storage </strong>section, and then select the container that you created (in the example, this was \"actualbillcontainer\").</li><li style=\"--number-width: 17px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the directory that you created (in the examples, this was \"actual_bill\"), and then select the subdirectory named after the export (in the example, this was \"test_actual_bill\").</li><li style=\"--number-width: 19px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Make a note of the location. You will need to enter this in the <strong>Actual Cost Export Path </strong>field later when you configure the billing data retrieval integration. The location is composed of the storage account, container, directory, and subdirectory names (For example, \"actualtestaccount/actualbillcontainer/actual_bill/test_actual_bill\").</li></ol><div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>You must select the values specified above for the <strong>Types of data</strong>, <strong>Dataset version</strong>, <strong>Frequency</strong>, and <strong>Storage type </strong>lists, and for the <strong>Overwrite data</strong> option. This is the only configuration that we support.</div></div></div><h2 id=\"CloudAccount\"><a id=\"Set_up_an_Integration_Studio_based_integration_to_import_cloud_accounts\" name=\"Set_up_an_Integration_Studio_based_integration_to_import_cloud_accounts\" title=\"Set up an Integration Studio-based integration to import cloud accounts\"></a>Set up an Integration Studio-based integration to import cloud accounts</h2><p>To set up the Integration Studio-based integration for Microsoft Azure cloud account data import, follow these steps.</p><h3><a id=\"Prepare_an_integration_user\" name=\"Prepare_an_integration_user\" title=\"Prepare an integration user\"></a>Prepare an integration user</h3><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-SyncAWSProvider|CreateIntUser|N\"></span><p>Create a dedicated integration user for each integration. </p><ol><li>Log in to Suite Administration (https://&lt;External Access Host&gt;/bo) as suite admin and create an integration user with the <strong>Integration user</strong> role for the integration.</li><li>Log in to Agent Interface as the tenant admin and do the following:\n\t<ul><li>Navigate to<strong> Administration </strong>&gt;<strong> Master Data</strong> &gt; <strong>People</strong> &gt; <strong>Roles</strong>, and create a role (with the Application value <strong>SMAX</strong>) with the <strong>Create</strong>, <strong>View</strong>, and <strong>Update</strong> permissions for the <strong>Cloud Account</strong> record type. </li><li>Navigate to<strong> Administration </strong>&gt; <strong>Master Data </strong>&gt; <strong>People</strong>, locate the integration user, and then assign the created role to the user.</li></ul></li></ol><p><br/></p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-SyncAWSProvider|CreateIntUser|N\"></span><h3><a id=\"Create_an_endpoint\" name=\"Create_an_endpoint\" title=\"Create an endpoint\"></a>Create an endpoint</h3><p>Create an endpoint using the Rest Executor 2.0 endpoint type:</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to the Agent Interface as the cloud integration administrator.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to <strong>Administration </strong>&gt; <strong>Utilities </strong>&gt; <strong>Integration</strong> &gt;<strong> Endpoints</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Add</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select<strong> Rest Executor 2.0</strong> as the endpoint type, enter a name for the endpoint (for example, Azure), and then click <strong>Add</strong>. The system creates the endpoint. </li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Configure</strong>, and then enter the following information.\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\"><thead><tr><th scope=\"col\">Field</th><th colspan=\"2\" scope=\"col\">Description</th></tr><tr><td>Agent</td><td colspan=\"2\">Select <strong>Agentless</strong>.</td></tr><tr><td>Authentication type</td><td colspan=\"2\"><p>Select <strong>OAuth 2.0</strong>.</p></td></tr><tr><td>Protocol</td><td colspan=\"2\">Select <strong>https</strong>.</td></tr><tr><td>Base URL</td><td colspan=\"2\">Enter <code>https://management.azure.com</code></td></tr><tr><td>Certificate type</td><td colspan=\"2\">Leave empty.</td></tr><tr><td>Certificate format</td><td colspan=\"2\">Leave empty.</td></tr><tr><td>Server certificate</td><td colspan=\"2\">Leave empty.</td></tr><tr><td>Enable email notification for token expiration</td><td colspan=\"2\">Select this option and configure the<strong> Recipients </strong>field based on your needs.</td></tr><tr><td>Recipients</td><td colspan=\"2\">Configure the email notification recipients based on your needs.</td></tr><tr><td>Grant Type</td><td colspan=\"2\" rowspan=\"1\">Select <strong>Client Credentials</strong>.</td></tr><tr><td>Client ID</td><td colspan=\"2\"><p>Enter the Azure Application (client) ID obtained during the Azure app registration process.</p></td></tr><tr><td>Client Secret</td><td colspan=\"2\"><p>Enter the client secret<strong></strong>obtained during the Azure app registration process.</p></td></tr><tr><td>Token URL</td><td colspan=\"2\"><p><code>https://login.microsoftonline.com/&lt;Azure Directory ID&gt;/oauth2/token</code></p></td></tr><tr><td>Scope</td><td colspan=\"2\">Leave empty.</td></tr><tr><td>Send client Id and secret</td><td colspan=\"2\">Select <strong>In body</strong>.</td></tr></thead></table></li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Add</strong>, and then add the following advanced options:\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\"><thead><tr><th scope=\"col\">Field</th><th colspan=\"2\" scope=\"col\">Value</th></tr><tr><td>Key</td><td colspan=\"2\">Select <strong>Resource</strong></td></tr><tr><td>Value</td><td colspan=\"2\"><code>https://management.azure.com</code></td></tr></thead></table></li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Test connection</strong> to validate your configurations.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong>.</li></ol><h3><a id=\"Create_an_integration\" name=\"Create_an_integration\" title=\"Create an integration\"></a>Create an integration</h3><p>In the following steps, you'll create an integration with the predefined template.</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Navigate to <strong>Administration </strong>&gt; <strong>Integration</strong> &gt;<strong> Integration studio</strong>.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>New</strong>, enter the name of your integration, and then click <strong>Save</strong>. The system displays the Integration page.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Details</strong> section, configure the integration user you created for the current Service Management system.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the <strong>Active</strong> option to activate the integration.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the Connector-Endpoint mappings section, click <strong>Add</strong> to add a mapping.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <b>Azure Billing</b> (under <strong>Microsoft</strong>) as the connector, select the Azure billing endpoint that you created earlier, and then enter an alias for the mapping.</li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong>.</li></ol><h3><a id=\"Configure_a_scenario\" name=\"Configure_a_scenario\" title=\"Configure a scenario\"></a>Configure a scenario</h3><p>Perform the following steps to add a scenario to the integration:</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Add scenario</strong>. </li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Enter a name for the scenario. For example, Azure account sync.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">In the <strong>Template</strong> field, select <strong>Azure EA Accounts Sync Process</strong>, <strong>Azure MCA Accounts Sync Process</strong>, or <strong>Azure MPA Accounts Sync Process </strong>(under <strong>Microsoft </strong><b>Azure Billing</b>), depending on the type of billing account.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Save</strong> to add the scenario. </li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Manually run the scenario. If you don't do this, Cloud Cost Reporting functionality that depends on cloud account data will not work as expected until the first scheduled cloud account sync occurs.</li></ol><div class=\"admonition\"><div class=\"admonition-icon admonition-note-icon\"></div><div class=\"admonition-content admonition-note-content\"><div>Using the out-of-the-box template will make the integration configuration easier than starting from scratch. If you don't select this option, you'll have to manually add your own logic, starting from a blank page.</div></div></div><span class=\"snippet-start\" data-sname=\"423-25.4-423-25.3-SyncAWSProvider|scheduling|N\"></span><h3>Schedule the import of cloud accounts</h3>\n<p id=\"Trigger_integration_by_scheduler\">Use the scheduler to periodically import cloud accounts from the cloud platform. Create a schedule that executes the cloud accounts import scenario at the scheduled time (for example, trigger the import at <strong>2:00</strong> every day).</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-tip-icon\"></div>\n<div class=\"admonition-content admonition-tip-content\">To optimize system performance, schedule cloud account imports with intervals of at least 24 hours.</div>\n</div>\n<p><br/>\n</p><span class=\"snippet-end\" data-sname=\"423-25.4-423-25.3-SyncAWSProvider|scheduling|N\"></span><h3><a id=\"Check_scenario_execution_status\" name=\"Check_scenario_execution_status\" title=\"Check scenario execution status\"></a>Check scenario execution status</h3><p>To check the scenario execution status, navigate to <b>Administration</b> &gt; <b>Utilities</b> &gt; <b>Integration</b> &gt; <b>Endpoints</b>, and then select the Azure Billing endpoint in the left pane. The system displays the execution history for the Azure Billing integration. Each record displayed in this grid corresponds to one scenario rule. Make sure all rules in the cloud accounts import scenario have the green <strong>Success</strong> status.</p><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">You can check the start and end time (and duration) for two main activities of the scenario: cloud accounts syncing and stale accounts status setting. To do this, click the hyperlinked ID for these rules (<em>Set sync end time</em> and <em>Set cleanup end time</em>), and check the value in the <strong>Output details</strong> field. The field displays both the start time and end time for the corresponding activity.</li><li style=\"margin-left: 28px; position: relative;\">The <strong>Connector</strong> column indicates the system against which the rule's action is taken: Azure Billing (Azure), SMAX, or Common. Unlike other values, Common means that this rule doesn't call any APIs, instead, it just sets some values or performs some calculations.</li><li style=\"margin-left: 28px; position: relative;\">Records whose <b>Connector</b> value is not Common contain detailed response data in the <b>Response details</b> field. Check this field for error code or error message for records with a warning or error status.</li><li style=\"margin-left: 28px; position: relative;\">If you find an error code or message in error or warning records for Azure Billing rules (with the <b>Connector</b> value <strong>Azure Billing</strong>), check the Microsoft documentation to see if you can find more information about the error. In particular, if you see the error code <code>429</code>, the error might be caused by Azure throttling limit being reached. Read this <a href=\"https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/request-limits-and-throttling\" title=\"Throttling Resource Manager requests\">Microsoft documentation</a> for details.</li></ul><h2><a id=\"Configure_a_cloud_cost_data_provider_to_retrieve_billing_data\" name=\"Configure_a_cloud_cost_data_provider_to_retrieve_billing_data\" title=\"Configure a cloud cost data provider to retrieve billing data\"></a>Configure a cloud cost data provider to retrieve billing data</h2><p>With this integration, you can configure retrieval of historical and current billing information for expenditures associated with your cloud provider. This information will be available within the reporting interface.</p><ol style=\"padding-left: 0px;\"><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Log in to Agent Interface as the cloud integration administrator.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Go to <b>Administration </b>&gt; <b>Providers </b>&gt; <b>Cloud Cost Data Providers.</b></li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">On the <strong>Integrations</strong> page, click either the <strong>Add Integration</strong> button (if no integrations exist) or the <a class=\"image\" href=\"\"><img alt=\"hcm 2018 11 integrations add.png\" data-file-height=\"20\" data-file-width=\"22\" src=\"../../../images/hcm_2018_11_integrations_add_1c285d73.png\" style=\"width: 22px; height: 20px;\"/></a> icon on the right pane to add an additional integration.</li><li style=\"--number-width: 13px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select <b>Microsoft Azure</b>, click <b>Next</b>, and then enter the following information.\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\"><thead><tr><th scope=\"col\">Field</th><th scope=\"col\">Description</th></tr></thead><tbody><tr><td><b>Connection Name</b></td><td>The identifier for the Azure integration, for example, \"<code>My Microsoft EA</code>\".</td></tr><tr><td><strong>Azure Agreement Type</strong></td><td>The type of Azure billing account: EA, MCA, or MPA.</td></tr><tr><td><b>Azure Billing Account ID</b></td><td>The Azure ID for your billing account or subscription.</td></tr><tr><td><strong>Application (client) ID</strong></td><td>The application client ID you obtained during the Azure app registration process.</td></tr><tr><td><strong>Client Secret</strong></td><td>The client secret<strong> </strong>you<strong> </strong>obtained during the Azure app registration process.</td></tr><tr><td><strong>Directory (tenant) ID</strong></td><td>The directory tenant ID you obtained during the Azure app registration process.</td></tr><tr><td><strong>Actual Cost Export Path</strong></td><td>The path to the subdirectory that stores the billing data. This path is the location that you copied after you set up storage for the billing data. </td></tr></tbody></table></li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Select the <b>I require a proxy server to connect to this provider</b> option to use a proxy server to connect to the cloud provider. You can either use the system default proxy server (configured by a suite admin) or use a custom proxy server here.</li><li style=\"--number-width: 12px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <strong>Next</strong>, and then enter the following information:\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\"><thead><tr><th scope=\"col\">Field</th><th scope=\"col\">Description</th></tr><tr><td><strong>Collection History Cutoff</strong></td><td>By default, all available billing data is fetched from the cloud provider. For Azure, Microsoft preserves three years of history (dated from present day). If you wish to limit the amount of data, select a collection start date so that your collection only gathers data from the specified date. For example, selecting January 2020 will fetch data from that point to the present day and into the future. There is no end date.</td></tr><tr><td><strong>Cloud Tags</strong></td><td>To enable cloud tags for the selected provider, specify the name and key. Cloud tags help you to filter, search, and manage the Azure resources. For more information, see <a href=\"/doc/423/26.1/cloudtags\" title=\"Configure cloud tags\">Configure Cloud Tags</a>.</td></tr></thead></table></li><li style=\"--number-width: 10px; --number-spacing: 24px; margin-left: 36px; position: relative;\">Click <b>Finish</b>.</li></ol><div class=\"admonition\"><div class=\"admonition-icon admonition-important-icon\"></div><div class=\"admonition-content admonition-important-content\"><div>After you create the integration, a full data collection (including historical data) will occur. This may result in a longer-than-usual data collection time, and will cause issues if the collection is still running when the next scheduled collection is due to start.<br/><br/>\nTo avoid this issue, we strongly recommend that you disable the integration until the initial full data collection is complete. You can then enable the integration again to resume scheduled data collection. To do this, click the toggle switch under <strong>COLLECTION SETTINGS </strong>so that it says <strong>Collection is disabled</strong>. When the full data collection is complete, click the toggle switch again<strong> </strong>so that it says <strong>Collection is enabled.</strong></div></div></div><h3><a id=\"Troubleshooting_tips\" name=\"Troubleshooting_tips\" title=\"Troubleshooting tips\"></a>Troubleshooting tips</h3><p>For rules that correspond to API calls (as opposed to Common actions), if the error code or message in the <strong>Response details</strong> field indicates connection- or credentials-related errors, take the following actions:</p><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">Click <strong>Run scenario</strong> in the Scenario details page to re-run the scenario, and then check the execution history for that rule to see if it succeeds. Use this method to determine whether the error was caused by temporary network issues.</li><li style=\"margin-left: 28px; position: relative;\">Open the Azure Billing endpoint's configuration page, and click <strong>Test connection</strong>. If the Test connection succeeds, this means that the error was not caused by invalid Azure security credentials.</li></ul><h2 id=\"Related_topics\"><a id=\"Related_topics\" name=\"Related_topics\" title=\"Related topics\"></a>Related topics</h2><ul style=\"padding-left: 0px;\"><li style=\"margin-left: 28px; position: relative;\">For more information about service principals in Azure, see <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/service-accounts-principal\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" title=\"Securing service principals in Microsoft Entra ID\">Securing service principals in Microsoft Entra ID</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on cloud cost data providers, see <a href=\"/doc/423/26.1/cgrointegrations\" title=\"Cloud cost data providers\">cloud cost data providers</a>.</li><li style=\"margin-left: 28px; position: relative;\">For general information about the Integration Studio, see <a href=\"/doc/423/26.1/integrationhub\" title=\"Integration Studio\">Integration Studio</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on triggering integration scenarios based on scheduler, see <a href=\"/doc/423/26.1/xiescheduler\" title=\"Scheduler\">Scheduler</a>.</li><li style=\"margin-left: 28px; position: relative;\">For information on how to export and import integrations and scenarios, see <a href=\"/doc/423/26.1/xieimportexportintegrations\" title=\"Export and import integrations\">Export and import integrations</a><strong>.</strong></li><li style=\"margin-left: 28px; position: relative;\">For information on cloud tags, see <a href=\"/doc/423/26.1/cloudtags\" title=\"Configure cloud tags\">Configure Cloud Tags</a>.</li></ul></div>",
  "modifiedon": "2026-01-28 06:02:38"
}