{
  "title": "Synchronize CIs from UCMDB to RTSM",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><h2>Configure CI synchronization</h2>\n<p><strong>Terminology</strong></p>\n<ul>\n<li>UCMDB - UCMDB attached to Service Management</li>\n<li>RTSM - UCMDB attached to OBM/OpScope</li>\n</ul>\n<p>Please consider the following recommendations before syncing the data between Service Management and OBM/OpScope.</p>\n<ol>\n<li>If both Service Management and OBM/OpScope are new or Service Management is in place already, and OBM/OpScope is newly set up, then discovery is set up to UCMDB and CIs are imported to UCMDB. Perform your service modeling in Service Management.  Push the Services and related CIs from the UCMDB to RTSM.<br/>\n<br/>\n\tIn case you set up additional discovery jobs in OBM, you can push CIs back to UCMDB. The UCMDB is the Global ID generator. You must push back the Global ID of the CIs to RTSM.</li>\n<li>If OBM/OpScope is already installed and Service Management is newly set up and configured, there is already RTSM that has CIs. We recommend the following:\n\t<ul>\n<li>\n<p>Keep discovery in OBM/OpScope. Keep in mind that the data model in RTSM is different from standard UCMDB, hence the out-of-the-box TQLs must exclude the layout elements specific to RTSM, before pushing the data to UCMDB.</p>\n</li>\n<li>\n<p>The UCMDB is the Global ID generator. You must push back the Global ID of the CIs to RTSM.</p>\n</li>\n<li>\n<p>Perform service modeling in Service Management. Push the Services and the relations to the CIs back to RTSM.<span style=\"display: none;\"> </span></p>\n</li>\n</ul>\n</li>\n<li>If both Service Management and OBM are installed already and running independently, which means UCMDB to RTSM sync is not already happening, consider the following recommendations:\n\t<ul>\n<li>\n<p>Make UCMDB the master CI repository, which means that all CIs are discovered/imported into UCMDB and distributed to RTSM. The UCMDB must act as the Global ID generator to have unique CI Ids in UCMDB and RTSM.</p>\n</li>\n<li>\n<p>Synchronize CIs from UCMDB to RTSM</p>\n</li>\n<li>\n<p>In case you have set up additional discovery jobs in OBM, you can push data back to UCMDB. The UCMDB is the Global ID generator.</p>\n</li>\n</ul>\n</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">\n<p>Changing the global Id of CIs may cause the following side effects:</p>\n<ul>\n<li>In Native SACM, CIs whose global Ids change will be re-created again and the old CIs become orphan CIs</li>\n<li>In OBM, when CIs get a new global Id, duplicate CIs will appear in Optic Data Lake (ODL) – Time series-related reports may break.</li>\n</ul>\n<p>In case of questions, please contact Product Management.</p>\n</div>\n</div>\n<p>The system includes TQLs to sync the required CIs between UCMDB and RTSM (documented below). Those TQLs may not cover all the data you need to sync. Therefore, please review the existing TQLs and check if you need to sync additional data; if yes, add the required TQLs to the integration jobs.</p>\n<p>In addition, also consider the following best practices when syncing data between two UCMDBs <a href=\"/doc/403/25.4/integmbestpractice\" title=\"UCMDB Replication Best practices\">UCMDB Replication Best practices</a>.</p>\n<div>\n<h2><span style=\"font-size: clamp(1.3125rem, 15.4737px + 1.15132vw, 1.75rem);\">Configure RTSM</span></h2>\n<h3>Disable the Global ID generator</h3>\n<p>Please ensure the OBM RTSM is not the global ID generator. Click this link <a href=\"/doc/403/24.3/integmglobalid\" title=\"Configure Global ID generation\">Configure Global ID generation</a> to find details about how to deactivate the Global ID generation in the RTSM.</p>\n<p>Run the JMX method <strong>setAsNonGlobalIdGenerator</strong>.</p>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">In SaaS, contact the SaaS Ops team to perform this step.</div>\n</div>\n<h3><span style=\"font-size: clamp(1.3125rem, 15.4737px + 1.15132vw, 1.75rem);\">Configure UCMDB</span></h3>\n<p>To prepare the UCMDB to synchronize data from Service Management UCMDB to OBM RTSM, perform the following steps in the below topics.</p>\n<h4>Enable Global ID generator in UCMDB</h4>\n<p>Make sure that the UCMDB acts as the global ID generator. Follow the procedure on <a href=\"/doc/403/24.3/integmglobalid\" title=\"this page\">this page</a> to check if the central UCMDB is already set as the global ID generator.</p>\n<p>In SaaS, contact the SaaS Ops team to perform this step.</p>\n<h4>Turn off the autocomplete capability</h4>\n<p>The autocomplete capability can have a significant performance hit when pushing data from one system to another. Turning off the autocomplete capability can dramatically speed up data replication. See <a href=\"/doc/ucmdb_containerized/24.3/integmbestpractice#Turn_off_the_Autocomplete_capability\" title=\"this page\">this page</a> for how to turn it off.</p>\n<h4>Configure and run integration jobs to push CIs to RTSM</h4>\n<p>Perform the following steps to configure and run integration jobs to push CIs from the central UCMDB to RTSM.</p>\n<ul>\n<li>Add a new integration point.</li>\n<li>Create integration jobs.</li>\n<li>Run integration jobs.</li>\n<li>Synchronize additional CIs.</li>\n</ul>\n<h4>Add a new integration point</h4>\n<p>You need to create an integration point with the <strong>UCMDB 10.x and later</strong> adapter. To do this, follow these steps:</p>\n<ol>\n<li>In UCMDB UI, click <strong>UD/UCMDB Modules</strong>  ( <a class=\"image\" href=\"/file/images/3/39/CMS_Modules_Icon.png\" title=\"/file/images/3/39/CMS_Modules_Icon.png\"> <img alt=\"CMS_Modules_Icon.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/39/CMS_Modules_Icon.png\" height=\"24\" hspace=\"0\" src=\"../../../images/CMS_Modules_Icon_c894a623.png\" style=\"width:24px;height:24px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"24\"/> </a> ) to expand the UD/UCMDB Modules pane, and then click <strong>Integration Studio</strong> under Discovery &amp; Integration.</li>\n<li>Click the <strong>New integration point</strong> icon ( <a class=\"image\" href=\"/file/images/9/93/New_Integ_Point_Icon.png\" title=\"/file/images/9/93/New_Integ_Point_Icon.png\"> <img alt=\"New_Integ_Point_Icon.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/9/93/New_Integ_Point_Icon.png\" height=\"24\" hspace=\"0\" src=\"../../../images/New_Integ_Point_Icon_dcf992d0.png\" style=\"width:25px;height:24px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"25\"/> </a> ) to display the<strong> New Integration Point</strong> pane.</li>\n<li>Enter a name and description for the integration point.</li>\n<li>In the <strong>Select Adapter</strong> section, select <strong>OpenText Products</strong> as the category, select <strong>UCMDB</strong> as the product, and then select the <b>UCMDB 10.x and later</b> adapter.\\</li>\n<li>Complete the Adapter Properties section as described in the following table:\n\t<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Field</th>\n<th scope=\"col\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Hostname/IP</td>\n<td>The Core UD/UCMDB on SaaS hostname or IP that SaaS Operations provides. For example, <code>saas.example.com</code>.</td>\n</tr>\n<tr>\n<td>Port</td>\n<td>The RTSM port number</td>\n</tr>\n<tr>\n<td>Protocol</td>\n<td>Select the connection protocol. For example, HTTPS (SSL).</td>\n</tr>\n<tr>\n<td>Customer Name</td>\n<td>Required. Enter the target UCMDB customer name. It's 1 in an OBM setup.</td>\n</tr>\n<tr>\n<td>Credentials ID</td>\n<td>\n<p>Credentials for the CMS user.</p>\n<p>Click the Credentials ID field to open the Choose Credentials pane, select a credential from the list, and then click <strong>OK</strong>. </p>\n<p>If the required credential is not displayed, click the Add icon in the Choose Credentials pane, enter the credential information, click <strong>Save</strong>, and then click <strong>OK</strong>.</p>\n</td>\n</tr>\n<tr>\n<td>Push Back Ids for Population     </td>\n<td>Select <strong>Disabled</strong>. </td>\n</tr>\n<tr>\n<td>Push Back Ids for Push </td>\n<td>Select <strong>Disabled</strong>.</td>\n</tr>\n<tr>\n<td>Data Flow Probe </td>\n<td>\n<p><strong>Option 1:</strong></p>\n<p>Select the name of the Data Flow Probe/Integration service used to execute the synchronization. Make sure that the probe can access the host.</p>\n<p><strong>Option 2:</strong></p>\n<p>If a direct network connection between UCMDB and RTSM can be established, use the \"<strong>Direct push service</strong>\" to synchronize the data. A Data Flow Probe is not required in this case.</p>\n</td>\n</tr>\n<tr>\n<td>Run Push Only</td>\n<td>Select <strong>true</strong></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>Click <strong>OK </strong>to create the new integration point.</li>\n</ol>\n<h4>Create integration jobs</h4>\n<p>You need to create the following integration jobs and add related TQLs that you imported to the jobs. </p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n<thead>\n<tr>\n<th scope=\"col\">Integration job</th>\n<th scope=\"col\">Related queries </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01_Node_base_info </td>\n<td>\n<ul>\n<li>NativeSACM_RTSM_cluster_resource_group</li>\n<li>NativeSACM_RTSM_node_with_identification</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>02_Node_details </td>\n<td>\n<ul>\n<li>NativeSACM_RTSM_node_with_regular_node_element </li>\n<li>NativeSACM_RTSM_node_with_running_software</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>03_DiscoveredItems </td>\n<td>\n<ul>\n<li>NativeSACM_RTSM_activedirectory </li>\n<li>NativeSACM_RTSM_db_resource </li>\n<li>NativeSACM_RTSM_j2ee </li>\n<li>NativeSACM_RTSM_networkdevice </li>\n<li>NativeSACM_RTSM_vmware </li>\n<li>NativeSACM_RTSM_webservice</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>04_Business_Elements </td>\n<td>\n<ul>\n<li>NativeSACM_RTSM_business_element </li>\n<li>NativeSACM_RTSM_business_to_infraelement </li>\n<li>NativeSACM_RTSM_ci_collection</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>To create a new integration job, follow these steps: </p>\n<ol>\n<li>In UCMDB UI, click <strong>UD/UCMDB Modules</strong>  ( <a class=\"image\" href=\"/file/images/3/39/CMS_Modules_Icon.png\" title=\"/file/images/3/39/CMS_Modules_Icon.png\"> <img alt=\"CMS_Modules_Icon.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/39/CMS_Modules_Icon.png\" height=\"24\" hspace=\"0\" src=\"../../../images/CMS_Modules_Icon_c894a623.png\" style=\"width:24px;height:24px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"24\"/> </a> ) to expand the UD/UCMDB Modules pane, and then click <strong>Integration Studio</strong> under <strong>Discovery &amp; Integration</strong>.</li>\n<li>Click the name of the integration point that you created.</li>\n<li>Click the <strong>Add integration job</strong> icon, and then select the <strong>Push</strong> type integration job. The Push Job pane opens. </li>\n<li>Enter a name for the integration job. For example, <code>01_Node_base_info</code>. </li>\n<li>Click the <strong>Add</strong> icon to add corresponding queries to the job. You can click the up and down arrows to change the order in which the queries are run.</li>\n<li>Click <strong>OK</strong> to create the integration job.</li>\n<li>Repeat the steps above to add all four integration jobs.</li>\n</ol>\n<h4>Run integration jobs</h4>\n<p>Before you run the job, review the following configurations (in <strong>UD/UCMDB Modules &gt; Administration &gt; Infrastructure Settings Management</strong>), and adjust the settings according to your requirements to make this job successful: </p>\n<ul>\n<li>Increase <strong>Data Push Job Timeout</strong>. Increase the value based on your network performance. In the lab test, pushing 20,000 nodes with corresponding CIs takes about six hours. </li>\n<li>Adjust <strong>Data Push Chunk Size</strong>. On SaaS, there is a 3-minute timeout on the Load Balancer. With a big chunk, if data-in takes more than three minutes, the job will fail with a<strong> General Integration</strong> error while smaller chunks help avoid this.</li>\n<li>Adjust <strong>Maximum number of data push job failures allowed in a sequence</strong>. Out of the box, if there are more than 20,000 CIs failed during the push, the job will be stopped. You can adjust the setting to a higher number based on your CI volume.</li>\n</ul>\n<p>Run the jobs that you created one by one.</p>\n<p>When you run the push jobs, you must run the job in the following sequence. In addition, start the next job only when the previous job is completed.</p>\n<ul>\n<li>01_Node_base_info</li>\n<li>02_Node_details</li>\n<li>03_DiscoveredItems</li>\n<li>04_Business_Elements</li>\n</ul>\n<p>Otherwise, you might get a mismatch of data and a failed push. </p>\n<p>To run a job, execute the following steps in the sequence described below. </p>\n<ol>\n<li>In UCMDB UI, click <strong>UD/UCMDB Modules </strong> ( <a class=\"image\" href=\"/file/images/3/39/CMS_Modules_Icon.png\" title=\"/file/images/3/39/CMS_Modules_Icon.png\"> <img alt=\"CMS_Modules_Icon.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/3/39/CMS_Modules_Icon.png\" height=\"24\" hspace=\"0\" src=\"../../../images/CMS_Modules_Icon_c894a623.png\" style=\"width:24px;height:24px;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;border:0px solid black;\" vspace=\"0\" width=\"24\"/> </a> ) to expand the UD/UCMDB Modules pane, and then click <strong>Integration Studio</strong> under <strong>Discovery &amp; Integration</strong>. </li>\n<li>Click the name of the integration point that you created for pushing CIs to another UCMDB customer on SaaS.</li>\n<li>Click the job name to edit the job details as needed, and then click <strong>OK</strong>. \n\t<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">Use a daily schedule for delta push. Don't select <strong>Enable live job</strong>.</div>\n</div>\n</li>\n<li>Select the job, click <strong>Synchronize integration job</strong>, and then select <strong>Full</strong><strong> Sync </strong>or <strong>Delta Sync</strong>.</li>\n<li>Click the <strong>Refresh</strong> icon to check the status of the job.</li>\n<li>Click the job name to open the job details pane, and then select STATISTICS to view the statistics for each query in the integration job. If a warning or error icon is displayed beside a query, you can click the icon to display more detailed information about the issue. </li>\n</ol>\n<p><strong>Run push job: 01_Node_base_info</strong></p>\n<p>The first job is to push all the CIs of the Node type by using the predefined cluster_resource_group and node_with_identification queries. This should be the first bunch of CIs to be migrated. </p>\n<ol>\n<li>Check the failed nodes and manually resolve them.<br/>\n\tDon't continue until all node-related issues are resolved as the node CIs are the most important data in UCMDB. Ignore the error only if you confirm the failed node is not useful and can be ignored.</li>\n<li>Compare the number of node CIs in the source customer and in the target customer. Only when you confirm all nodes are migrated successfully, proceed to the next step. </li>\n</ol>\n<p><strong>Run push job: 02_Node_details</strong> </p>\n<p>The second job is to push all the CIs of the NodeElement type. The process will take quite some time as this job pushes a large number of CIs. </p>\n<p>When the job is completed successfully, proceed to the next step. </p>\n<p><strong>Run push job: 03_DiscoveredItems</strong></p>\n<p>The third job is to push the discovered CIs with the help of predefined queries. </p>\n<p>When the job is completed successfully, proceed to the next step. </p>\n<p><strong>Run push job: 04_Business_Elements</strong> </p>\n<p>The last job is to push the CIs of Business type with the help of predefined queries. </p>\n<p><strong>Synchronize additional CIs</strong> </p>\n<p>With the help of prepared TQLs, typical CIs are pushed from the source CMS to RTSM.</p>\n<p>To synchronize other monitored CIs, you may need to create additional TQLs based on your data so that you can synchronize the remaining CIs. Make sure that you stop Universal Discovery for the source UCMDB customer before you do the last run of delta synchronization so that all the CIs are pushed to the target UCMDB.  </p>\n<p>For additional considerations, review the <a href=\"/doc/ucmdb_containerized/24.3/integmbestpractice#Implementation\" title=\"UCMDB sync best practices\">UCMDB sync best practices</a>. </p>\n<p><strong>Schedule the integration</strong> </p>\n<p>We recommend starting the initial sync manually and once all CIs are migrated, schedule a delta sync. Ensure the jobs are running in the sequence defined in this document. Plan enough buffer between the different integration jobs.</p>\n<h3>Push CIs from RTSM to UCMDB </h3>\n<p>In case it is required to push CIs from RTSM to UCMDB, the steps to set up the sync are the same as described above. In addition, consider the following points:</p>\n<ul>\n<li>The TQLs must exclude RTSM-specific properties and CI Types. Such data shouldn't be sent to UCMDB.</li>\n<li>In the integration point, ensure the <strong>Push Back Ids for Push</strong> option is enabled. See the <a href=\"/doc/403/24.3/integmpushbackid\" title=\"UCMDB documentation\">UCMDB documentation</a> for details.</li>\n</ul>\n</div>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}