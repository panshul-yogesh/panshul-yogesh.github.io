{
  "title": "Tenant export and import",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p paraeid=\"{8a55add2-8182-4a64-950b-cdc52b453dfd}{88}\" paraid=\"1694086564\">When you plan to move a tenant that has Native SACM enabled (either inside the same farm or across farms), you need to perform the following tasks to set up your new tenant successfully. </p>\n<h2 paraeid=\"{8a55add2-8182-4a64-950b-cdc52b453dfd}{88}\" paraid=\"1694086564\">Preparation</h2>\n<ol>\n<li>Prepare a new active tenant that doesn't have Native SACM enabled. See <a href=\"/doc/423/26.1/deploytenantwflw\" title=\"Set up a tenant\">Set up a tenant</a>.</li>\n<li>Prepare a new UCMDB customer to which the new tenant will connect. We recommend that you use the tenant ID as the UCMDB customer ID. For more details about the Multi Customer mode in UCMDB, see <a href=\"/doc/401/2023.05/mcovervw\" title=\"UCMDB Multi-Customer overview\">UCMDB Multi-Customer overview</a>. To create a new UCMDB customer, see <a href=\"/doc/401/2023.05/mccreatecustomer\" title=\"Create a customer\">Create a customer</a>. </li>\n<li>Ensure all customizations from the source UCMDB customer are moved to the target UCMDB customer. We recommend that you use the Package Manager to transfer customizations.</li>\n<li>Customized Infrastructure Settings in the source UCMDB customer (marked in the <strong>Was modified</strong> column) should also be configured in the target UCMDB customer. </li>\n</ol>\n<h2>Push data from the source UCMDB customer to the target one</h2>\n<p>To migrate CIs from the source UCMDB customer to the target UCMDB customer, see<a href=\"/doc/423/26.1/pushdatabetweencmscustomers\" title=\" Push data from the source UCMDB customer to the target UCMDB customer\"> Push data from the source UCMDB customer to the target UCMDB customer</a>. </p>\n<h2><span id=\"cke_bm_7961C\" style=\"display: none;\"> </span>Import the source tenant to the target tenant</h2>\n<ol>\n<li>\n<p>Log in to Suite Administration as the suite admin.</p>\n</li>\n<li>\n<p>Export the source tenant, and import the data to your target tenant. For more information about how to export or import tenants, see <a href=\"/doc/423/26.1/createtenant#Export_and_import_tenant_(Service_Management_tenant_only)\" title=\"Export and import tenant (SMAX tenant only)\">Export and import tenant (Service Management tenant only)</a>.</p>\n</li>\n</ol>\n<h2>Reconfigure Native SACM in the target tenant</h2>\n<p>Once the new tenant and UCMDB customer are ready and the data migration from the source to the target is complete, as Native SACM was enabled in the source, you only need to reconfigure Native SACM in the target without having to migrate CIs again. </p>\n<p>In the target tenant, reconfigure Native SACM with the following values: </p>\n<ul>\n<li>Target <strong>UCMDB Gateway URL</strong> </li>\n<li>Target <strong>UCMDB customer ID</strong> </li>\n<li>The <strong>user name</strong> and <strong>password</strong> for the target UCMDB customer</li>\n</ul>\n<h2>Synchronize the BitmapId and BitPostion of each CI from UCMDB to Service Management</h2>\n<p>Run the migration REST API to synchronize the regenerated BitmapId and BitPosition of each CI from the target UCMDB customer to the target Service Management tenant. You can use any REST client to do this.</p>\n<pre><code>PUT  https://&lt;service-management-host&gt;:&lt;service-management-port&gt;/rest/&lt;target-tenant-id&gt;/cmsx/ci/model/action/migration\n\nbody: {\"syncStep\": \"onlyCmsToSmax\"}</code></pre>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-important-icon\"></div>\n<div class=\"admonition-content admonition-important-content\">Until you have successfully executed this rest API, CIs in the target Service Management tenant and target UCMDB customer may not be consistent, and the tenant export and import process is not complete.</div>\n</div>\n<h2>Some background</h2>\n<p>One UCMDB Gateway installation can only talk to one UCMDB server. That is, for each tenant in Native SACM mode, either a separate UCMDB customer or a separate UCMDB server with a separate UCMDB Gateway is required. </p>\n<p>The following are two example options.<br/>\n<br/>\n<strong>Option1: architecture for one UD/UCMDB installation with multiple UCMDB customers</strong><br/>\n<a class=\"image\" href=\"/file/images/pn_images/pn_image_5eccdcb105c993.49803322.png\" title=\"/file/images/pn_images/pn_image_5eccdcb105c993.49803322.png\"> <img alt=\"pn_image_5eccdcb105c993\" border=\"0\" height=\"271\" hspace=\"0\" src=\"../../../images/pn_image_5eccdcb105c993.49803322_b5b4c310.png\" vspace=\"0\" width=\"285\"/> </a><br/>\n<strong>Option2: architecture for several UD/UCMDB installations</strong><br/>\n<a class=\"image\" href=\"/file/images/pn_images/pn_image_5eccdcb1db31d6.88376131.png\" title=\"/file/images/pn_images/pn_image_5eccdcb1db31d6.88376131.png\"> <img alt=\"pn_image_5eccdcb1db31d6\" border=\"0\" height=\"280\" hspace=\"0\" src=\"../../../images/pn_image_5eccdcb1db31d6.88376131_5210a6b6.png\" vspace=\"0\" width=\"310\"/> </a><br/>\nIf you want to install several UCMDB Gateway services on the same server, follow these steps:</p>\n<ol>\n<li>Unzip the UCMDB Gateway installation package to a different folder.</li>\n<li>Change <code>http_port/https_port</code> to a different value in <code>config.properties</code> for each UCMDB Gateway instance.</li>\n<li>Edit <code>bin\\installService.bat</code> and change the following line to a different service name:\n\t<pre>set SERVICE_NAME=\"cms-gateway\"</pre>\n</li>\n<li>Run <code>bin\\installService.bat</code>.</li>\n<li>Now you have 2 UCMDB Gateway services that listen to different ports.</li>\n</ol>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">Make sure the capacity of the server is sufficient to run several UCMDB Gateway installations on one server. If sizing isn't sufficient, the solution may encounter severe performance issues.</div>\n</div>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}