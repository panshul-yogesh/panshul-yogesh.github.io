{
  "title": "Session timeout configuration",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>When a user successfully logs in to the UI (such as the Suite Administration Portal, Service Portal, or Agent interface), the backend services produce two tokens, which are stored in the client browser's cookies. Any requests from the UI to backend services need to carry the two tokens. These two tokens are the LWSSO token and the SMAX_AUTH_TOKEN token.</p>\n<p>The system uses the LWSSO token when integrated with other OpenText products based on lightweight SSO, or when running in mixed mode (SMA-SM mode).</p>\n<p>If the LWSSO token becomes invalid after a certain amount of time, the integration part will not work. For example, the 3rd party data or page will not be retrieved or displayed successfully. In mixed mode, data will not be retrieved successfully from Service Manager if the LWSSO token has expired.</p>\n<p>If the SMAX_AUTH_TOKEN becomes invalid, users must log in again for new tokens to continue operating on the system.</p>\n<p>The amount of time the two tokens are valid before they expire is controlled by specific timeout parameters. You can change the value of those parameters to extend or shorten the period that a session lives.</p>\n<p>This document contains information about the tokens, related parameters, and how to configure them. We always recommend you configure the value through the GUI. Change the value from the configmap only if something is wrong and you can't save the value from the GUI.</p>\n<p>Below are the two tokens required by user sessions and the timeout parameters that affect them. </p>\n<h2 id=\"LWSSO_token\">LWSSO token</h2>\n<ul>\n<li>Cookie name: <strong>LWSSO_COOKIE_KEY</strong></li>\n<li>Timeout parameters: <strong>lwssoConfig.expirationPeriod</strong></li>\n</ul>\n<h2 id=\"SMAX_AUTH_TOKEN\">SMAX AUTH TOKEN</h2>\n<ul>\n<li>Cookie name: <strong>SMAX_AUTH_TOKEN</strong></li>\n<li>Timeout parameters: <strong>idm.token.lifetime.minutes</strong></li>\n</ul>\n<p>In the system, there are several timeout settings for various services. The parameters described below have an impact on session timeout for suite users.</p>\n<h2 id=\"lwssoConfig.expirationPeriod(in_minutes)\">lwssoConfig.expirationPeriod(in minutes)</h2>\n<p>This parameter controls the idle timeout for the LWSSO token in SMA-SM mode or when the system has integration with other products based on lightweight SSO. If the token has expired, the integration will not work well, for example, not retrieving the data from the third-party product. </p>\n<h3 id=\"How_to_change_it_in_UI\">How to change it in UI</h3>\n<p>You can change the value of this parameter in <strong>Suite Administration</strong> &gt; <strong>CONFIGURATIONS</strong> &gt; <strong>Security</strong> &gt; <strong>Lightweight SSO configuration</strong> &gt; <strong>Token expiration period (minutes)</strong>. After you save the change, the system automatically restarts the related backend services to make the new value take effect.</p>\n<div><a class=\"image\" href=\"/file/images/pn_images/pn_image_6053c24462ec86.83538126.png\" title=\"/file/images/pn_images/pn_image_6053c24462ec86.83538126.png\"> <img alt=\"pn_image_6053c24462ec86.83538126.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/pn_images/pn_image_6053c24462ec86.83538126.png\" height=\"121\" hspace=\"0\" id=\"Picture_x0020_2\" src=\"../../../images/pn_image_6053c24462ec86.83538126_5d5e5996.png\" style=\"width: 800px; height: 121px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></div>\n<h3 id=\"Data_in_ConfigMap\">Data in ConfigMap</h3>\n<p>The value of the parameter is stored in the <strong>lwsso_expirationperiod</strong> key (the time unit is minute) of the ConfigMap 'lwsso-configmap'. If you want to change the value through ConfigMap, you need to restart the suite IDM pod and bo-login pod to let the changes take effect.</p>\n<h2 id=\"idm.token.lifetime.minutes_(in_minutes)\">idm.token.lifetime.minutes (in minutes)</h2>\n<h3 id=\"Usage\"><span style='color: rgb(51, 51, 51); font-family: Roboto, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"; font-size: 16px;'>For end-users, if they have not operated for the period specified by this parameter, their session is timed out, and they have to log in again before they can continue operating on the system.</span></h3>\n<h3 id=\"How_to_change_it_in_UI\">How to change it in UI</h3>\n<p>You can change the value of this parameter in <strong>Suite Administration</strong> &gt; <strong>CONFIGURATIONS</strong> &gt; <strong>Security</strong> &gt; <strong>Access Token configuration</strong> &gt; <strong>Token expiration period (minutes)</strong>. After you save the change, the system automatically restarts the related backend services to make the new value take effect. <br/>\n<a class=\"image\" href=\"/file/images/pn_images/pn_image_6053c244b51861.06606791.png\" title=\"/file/images/pn_images/pn_image_6053c244b51861.06606791.png\"> <img alt=\"pn_image_6053c244b51861.06606791.png\" border=\"0\" file=\"https://staging.docs.microfocus.com/mediawiki/images/pn_images/pn_image_6053c244b51861.06606791.png\" height=\"79\" hspace=\"0\" id=\"Picture_x0020_3\" src=\"../../../images/pn_image_6053c244b51861.06606791_22ddcecf.png\" style=\"width: 800px; height: 79px; margin: 0px; border: 0px solid black;\" vspace=\"0\" width=\"800\"/> </a></p>\n<h3 id=\"Data_in_ConfigMap\">Data in ConfigMap</h3>\n<p>The value of the parameter is stored in the <strong>TokenExpirationPeriod </strong>key (the time unit is second) of the ConfigMap 'idm-config'. Similarly, you need to restart the IDM pod if you change the value in ConfigMap.</p>\n<h2 id=\"Recommended_Configuration\">Recommended configuration</h2>\n<p>Set the <strong>lwssoConfig.expirationPeriod</strong> and <strong>idm.token.lifetime.minutes</strong> parameters to the same value to avoid confusion.</p>\n<h3 id=\"Example\">Example</h3>\n<p>In this example, we will walk through the steps to extend the session timeout to 4 hours.</p>\n<ol>\n<li>Log in to Suite Administration as the suite administrator: https://&lt;EXTERNAL_ACCESS_HOST&gt;/bo.</li>\n<li>Navigate to <strong>CONFIGURATIONS</strong> &gt; <strong>Security</strong>.</li>\n<li>In the <strong>Lightweight SSO configuration</strong> section, change the value of <strong>Token expiration period (minutes)</strong> to 240.</li>\n<li>In the <strong>Access Token configuration</strong> section, change the value of <strong>Token expiration period (minutes)</strong> to 240.</li>\n<li>Click the <strong>Save</strong> button. After related pods are up and running, the new settings take effect.</li>\n</ol>\n<h2 id=\"Tips_and_Tricks\">Tips and tricks</h2>\n<p>The SMAX_AUTH_TOKEN token is renewed when 35% of the value defined by <strong>idm.token.lifetime.minutes</strong> has passed. Due to the less frequent renew mechanism, the actual session timeout is shorter than what is expected. In extreme cases, users may experience session timeout right after half of the desired time. For example, assume the parameter is set to 1 hour. You log in to SMAX at 2:00. You operate on the UI till 2:20 and go away. When you come back to the system at 3:01, you will find the session times out. It seems the system kicks out your session which is only idle for 40 minutes instead of 1 hour. Let's walk through the story again to see what happens. When you log in to the system, a SMAX_AUTH_TOKEN  token is produced. In each request to backend services, it checks how long the token is to expire. Since the token will not expire in 21 minutes, it is not renewed. From 2:21 to 3:00, since there are no requests from the client, there's no chance to renew the token. At 3:01, when a request comes from the client, the token exceeds its expiration period (1 hour) and the session is therefore timed out.</p>\n<p>So if you want to make sure it's always more than one hour in the situation mentioned above, you can set the SMAX_AUTH_TOKEN to 92 (60/0.65). The side effect is that the session will be expired after 92 minutes in some cases.</p>\n<!-- \nNewPP limit report\nCached time: 20200217094548\nCache expiry: 86400\nDynamic content: false\nCPU time usage: 0.020 seconds\nReal time usage: 0.070 seconds\nPreprocessor visited node count: 27/1000000\nPreprocessor generated node count: 64/1000000\nPost‐expand include size: 7654/2097152 bytes\nTemplate argument size: 0/2097152 bytes\nHighest expansion depth: 2/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 0/5000000 bytes\n--><!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    0.000      1 -total\n-->\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}