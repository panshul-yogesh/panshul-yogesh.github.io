{
  "title": "On-call shifts aren't displayed in the on-call calendar",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>On-call shifts aren't displayed in the on-call calendar.</p>\n<h2>Cause</h2>\n<p>By design, the maximum number of on-call shifts in a group is 3000. However, the system doesn't clean up outdated on-call shifts, once the accumulated number of on-call shifts exceeds the limit, new on-call shifts won't show up in the on-call calendar.</p>\n<h2>Resolution</h2>\n<p>To work around this issue, manually clean up old on-call shifts by running the following command:</p>\n<pre>UPDATE user_work_schedule_&lt;tenant ID&gt; SET is_deleted = true WHERE group_id = '&lt;group ID&gt;' and schedule_end_time &lt; &lt;timestamp&gt;;\n</pre>\n<p>Make sure that you replace placeholders &lt;tenant ID&gt;, &lt;group ID&gt; and &lt;timestamp&gt; with the actual tenant ID, group ID, and UNIX timestamp. For example, the following command deletes the on-call shift data for the group ID 10005 before July 1st, 2023 in the tenant 100000002:</p>\n<pre>UPDATE user_work_schedule_100000002 SET is_deleted = true WHERE group_id = '10005' and schedule_end_time &lt; 1688140800000</pre>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}