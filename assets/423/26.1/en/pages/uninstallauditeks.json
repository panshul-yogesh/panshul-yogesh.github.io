{
  "title": "Uninstall Audit on AWS (EKS)",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>To uninstall Audit service, perform the following tasks:</p>\n<h2>Delete the Audit deployment</h2>\n<ol>\n<li>\n<p>Log on to the bastion node.</p>\n</li>\n<li>\n<p>Run the following command to remove the Audit release:</p>\n<pre>helm uninstall &lt;Audit<i> Release Name</i>&gt; -n &lt;<em>Namespace</em>&gt;</pre>\n<p>where,</p>\n<p><em>&lt;Audit Release Name&gt;</em> is the Audit release that you want to uninstall</p>\n<p><em>&lt;Namespace&gt;</em><code><em><small> </small></em></code>is the namespace where you installed Audit</p>\n</li>\n<li>\n<p>Go to the <b>$CDF_HOME/scripts</b> folder and run the following command:</p>\n<pre>./cdfctl.sh deployment delete -d &lt;Audit<em> </em>Deployment<em> </em>Name&gt;</pre>\n<p>where,</p>\n<p><em>&lt;Audit Deployment Name&gt;</em> is the name you specified for the deployment you created to install Audit.</p>\n<p>For example:</p>\n<pre>./cdfctl.sh deployment delete -d audit-prod</pre>\n</li>\n</ol>\n<h2>Remove persistent volumes</h2>\n<p>If you created PVs based on the <strong>itom-audit</strong><b>-pv.yaml</b> sample file, you can run the following command to delete the persistent volumes:</p>\n<pre>kubectl delete -f itom-audit-pv.yaml</pre>\n<h2>Clean the EFS volumes</h2>\n<p>Log on to the Elastic File System (EFS) server host and clear all the contents in the EFS volume directories that you created.</p>\n<p>For example:</p>\n<ul type=\"disc\">\n<li>rm -rf /var/vols/itom/audit/auditns/vault/*</li>\n<li>rm -rf /var/vols/itom/audit/auditns/log/*</li>\n</ul>\n<h2>Clean the databases</h2>\n<p>The Audit uninstallation process doesn't remove the databases from the external PostgreSQL server. You need to remove the databases manually.</p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}