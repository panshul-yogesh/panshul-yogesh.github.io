{
  "title": "Restore Vertica database",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>Perform the following steps to restore the Vertica database:</p>\n<ol>\n<li>Create the Vertica database with the same parameter and credentials as the original database.<br/>\n<code>adminTools -t create_db -d cgro -p dbadmin --hosts=&lt;VerticaNode1&gt; --policy=always</code></li>\n<li>Stop the Vertica database.<br/>\n<code>admintools -t stop_db -d cgro -p &lt;password&gt; -F</code></li>\n<li>(You can find available backed up archives under <code>&lt;vertica_backup_location&gt;/Snapshots/</code>) or by running vbr.py:\n\t<pre>/opt/vertica/bin/vbr.py  -t listbackup --list-all -c backup_restore_full_external.ini\nEnter vertica password:\nbackup                            backup_type   epoch   objects   include_patterns   exclude_patterns   nodes(hosts)                       version    file_system_type\nbackup_snapshot_20200805_172031   full          2898                                                    v_cgro_node0001(10.0.0.6     )   v9.2.1-0   [Linux]\n</pre>\n</li>\n<li>If using remote backups, ensure that password-less SSH has been correctly configured (presumably done already in order to have created the backup).</li>\n<li>Restore the database from a given restore point:\n\t<pre>/opt/vertica/bin/vbr.py -t restore --archive 20200805_172031 --config-file backup_restore_full_external.ini\nStarting full restore of database <code>cgro</code>.\nParticipating nodes: v_<code>cgro</code>_node0001.\nRestoring from restore point: backup_snapshot_20200805_172031\nDetermining what data to restore from backup.\n[==================================================] 100%\nApproximate bytes to copy: 362268160 of 363420789 total.\nSyncing data from backup to cluster nodes.\n[==================================================] 100%\nRestoring catalog.\nRestore complete!\n </pre>\n</li>\n<li>Start the DB and verify if the data got restored.<br/>\n\t <code>/opt/vertica/bin/admintools -t start_db -d cgro -p &lt;password&gt; -F</code></li>\n</ol>\n<h2 id=\"Related_topics\">Related topics</h2>\n<ul>\n<li>For instructions on backing up the Vertica database, see <a href=\"/doc/423/26.1/backupverticadb\">Back up the Vertica database</a>.</li>\n</ul>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}