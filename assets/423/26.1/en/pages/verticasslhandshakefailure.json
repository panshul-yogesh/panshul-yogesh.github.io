{
  "title": "CMP FinOps functionality doesn't work because of SSL handshake failure with Vertica database",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>After suite installation, when enabling the CMP FinOps functionality,  the showback and insights pods don't come up due to which the CMP FinOps functionality doesn't work.</p>\n<h2>Cause</h2>\n<p>This issue occurs if you don't select the TLS option when deploying the suite, but you have configured the Vertica database with SSL. In this case, suite installation will go through, but while enabling CMP FinOps, the required pods don't come up, and the CMP FinOps functionality doesn't work because of SSL handshake failure with Vertica database.</p>\n<h2>Solution (Classic)</h2>\n<ol>\n<li>Place the Vertica CA certificate in the <code>source</code> directory in the following path: <code>/&lt;persistent_volume&gt;/itsma/global-volume/certificate/cgro/source/</code>.<br/>\n\tReplace <code>&lt;persistent_volume&gt;</code> with persistent volume path appropriate to your environment.  Example: <code>var/vols/itom</code></li>\n<li>Change to <code>/&lt;persistent_volume&gt;/core/suite-install/itsma/output/2020.08/itom-cgro-&lt;build number&gt;/yamls</code> and run the following commands to restart the showback and insights pods: <br/>\n<code>kubectl delete -f itom-cgro-insights-deployment.yaml</code><br/>\n<code>kubectl delete -f itom-cgro-showback-deployment.yaml<br/>\n\tkubectl create -f itom-cgro-showback-deployment.yaml<br/>\n\tkubectl create -f itom-cgro-insights-deployment.yaml</code><br/>\n\tReplace <code>&lt;persistent_volume&gt;</code> and <code>&lt;build number&gt;</code> as appropriate to your environment.</li>\n</ol>\n<h2>Helm-specific solution</h2>\n<ol>\n<li>Place the Vertica CA certificate in the <code>source</code> directory of the following path:<br/>\n<code>/&lt;persistent_volume&gt;/itsma/config-volume/certificate/cgro/source/</code>\n<div class=\"admonition\">\n<div class=\"admonition-icon admonition-note-icon\"></div>\n<div class=\"admonition-content admonition-note-content\">You can give the persistent volume path appropriate to your environment. Example: <code>/vars/vols/itom</code></div>\n</div>\n</li>\n<li>Run the following command to restart the pod.          <br/>\n\t  <code>ns=&lt;ESM_NAMESPACE&gt;<br/>\n\t  kubectl rollout restart deployment -n $ns itom-cgro-insights<br/>\n\t  kubectl rollout restart deployment -n $ns itom-cgro-showback</code></li>\n</ol>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}