{
  "title": "Websocket error messages after upgrade",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\"></p><div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>After the suite is upgraded to a new version, you may find many websocket error messages in controller.log. The following is an example of such errors.</p>\n<pre><code>ERROR [SimpleAsyncTaskExecutor-8] (DefaultTransportRequest.java:229) No more fallback transports after TransportRequest[url=https://myhost.mycompany.com:443/ws-gateway/websocket/stomp/422/b62134e66318446aa0e13e12bb28eb1f/xhr]  \norg.springframework.web.client.HttpServerErrorException$InternalServerError: 500Â : [{\"timestamp\":\"2022-04-03T11:03:49.278+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"message\":\"Uncaught failure in SockJS request, uri=https://myhost.mycompany.com/ws-gateway/websocket/... (628 bytes)]  \nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)  [2022-04-03 11:03:59,445] ERROR [SimpleAsyncTaskExecutor-5] (DefaultTransportRequest.java:225) TransportRequest[url=wss://myhost.mycompany.com:443/ws-gateway/websocket/stomp/341/049969e29a10427583369240c33b46dc/websocket] failed. \nFalling back on next transport. javax.websocket.DeploymentException: The HTTP response from the server [404] did not permit the HTTP upgrade to WebSocket </code></pre>\n<h2>Cause</h2>\n<p>After the suite is upgraded to 2022.05, the OPB agent supports websocket functions. As such, websocket should be enabled on any additional load balancer installed.</p>\n<p>This error occurs if you have an additional load balancer installed in front of the suite but have not enabled websocket on the load balancer.</p>\n<h2>Solution</h2>\n<p>Enable websocket on any additional load balancer you have in front of the suite. For apache and nginx users, this issue will happen if websocket is not enabled.</p>\n<p class=\"mw-empty-elt\"></p></div>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}