{
  "title": "OPB Certificates",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><h2 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>Introduction </span></span></b></span></h2>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>When creating an integration to Service Management with a remote system that has an SSL address, it is possible that the certificate of the remote server must be imported into the trusted keystore file of the On-Premises Bridge (OPB). The cacerts file stores public certificates of root Certificate Authority (CA). If there is a problem with the connection between the OPB and the remote system, check the controller.log file of the OPB for the error defined below. If the error exists, then you may be required to follow the procedure described in this document.</span></span></span></p>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><i><span style='font-family:\"Times New Roman\",serif'>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span></i></span></span></p>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>This chapter will include:</span></span></span></p>\n<ul>\n<li><span style=\"font-size:12pt\"><span style=\"tab-stops:list .5in\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>Finding the location of the Service Management OPB controller log</span></span></span></span></li>\n<li><span style=\"font-size:12pt\"><span style=\"tab-stops:list .5in\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>Finding the location of the Service Management OPB trusted keystore</span></span></span></span></li>\n<li><span style=\"font-size:12pt\"><span style=\"tab-stops:list .5in\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>Obtaining the certificate of the remote server</span></span></span></span></li>\n<li><span style=\"font-size:12pt\"><span style=\"tab-stops:list .5in\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>Adding the certificate to the trusted keystore</span></span></span></span></li>\n<li><span style=\"font-size:12pt\"><span style=\"tab-stops:list .5in\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>How to identify if the certificate is present</span></span></span></span></li>\n</ul>\n<h3 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>Finding the location of the Service Management OPB controller log</span></span></b></span></h3>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>The default location of the controller.log file is in the <i>C:\\Program Files\\HP\\On-Premises Bridge Agent\\product\\log\\controller</i> directory. Once the log file is located, search the log file for the HandshakeException error. If the error appears, the Fully Qualified Domain Name (FQDN) will be logged, which will allow you to verify that the endpoint in question was indeed the one that is giving the error.</span></span></span></p>\n<p><a class=\"image\" href=\"/file/images/9/96/OPB_Image1.png\" title=\"/file/images/9/96/OPB_Image1.png\"> <img alt=\"OPB Image1.png\" src=\"../../../images/OPB_Image1_18d15eed.png\"/> </a></p>\n<h3 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>Finding the location of the Service Management OPB trusted keystore</span></span></b></span></h3>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>The default OPB trusted keystore file is named <b>cacerts</b> and is located in the <i>C:\\Program Files\\HP\\On-Premises Bridge Agent\\product\\util\\3rd-party\\jre\\lib\\security</i> directory. The OPB has its own file and should not be confused with any other Java installation on the machine.</span></span></span></p>\n<h3 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>Obtaining the certificate of the remote server</span></span></b></span></h3>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>In most cases there is a company created certificate available and the server administrator will be able to send it to you. In cases where this is not available, it is also possible to use a browser (Firefox, for example) to export the certificate so that it can be imported into the OPB’s trusted keystore.</span></span></span></p>\n<h3 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>Adding the certificate to the trusted keystore</span></span></b></span></h3>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>The java keytool utility is used to import certificates into the trusted keystore. To run the utility, open a command window and navigate to C:\\Program Files\\HP\\On-Premises Bridge Agent\\product\\util\\3rd-party\\jre\\bin directory. The format of the necessary command is as follows:</span></span></span></p>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>keytool -import -keystore ..\\lib\\security\\cacerts -alias \"new Alias\" –file myCert.crt .</span></span></span></p>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>In this example the <b>myCert.crt</b> file is the certificate of the remote server, <b>cacerts</b> is the trusted keystore, and the alias is a label set for the certificate. When prompted for a password, “changeit” is the default.</span></span></span></p>\n<div style=\"background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;\"><code><span style=\"font-size:12pt\"><span style=\"tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt\"><span style=\"font-family:Calibri,sans-serif\"><span style=\"font-size:10.0pt\"><span style='font-family:\"Courier New\"'>C:\\Program Files\\Micro Focus\\On-Premises Bridge Agent\\product\\util\\3rd-party\\jre\\bin&gt;keytool -import -keystore ..\\lib\\security\\cacerts -alias \"new Alias\" -file c:\\myCert.crt</span></span></span></span></span></code></div>\n<h3 style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><b><span style=\"font-size:18.0pt\"><span style='font-family:\"Times New Roman\",serif'>How to identify if the certificate is present</span></span></b></span></h3>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>Java uses a tool named keytool to list or import any certificates in the trusted keystore file. Using this tool allows you to list all the certificates that were imported into the keystore. Open a command window and navigate to the <i>C:\\Program Files\\HP\\On-Premises Bridge Agent\\product\\util\\3rd-party\\jre\\bin</i> directory. Run the keytool while pointing to the cacerts file. Syntax for the command is: <b><i>keytool –list –v –keystore ..\\lib\\security\\cacerts &gt; c:\\contents.txt</i></b></span></span></span></p>\n<div style=\"background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;\"><code><span style=\"font-size:12pt\"><span style=\"tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt\"><span style=\"font-family:Calibri,sans-serif\"><span style=\"font-size:10.0pt\"><span style='font-family:\"Courier New\"'>C:\\Program Files\\Micro Focus\\On-Premises Bridge Agent\\product\\util\\3rd-party\\jre\\bin&gt;keytool -list -v -keystore ..\\lib\\security\\cacerts &gt; c:\\contents.txt</span></span></span></span></span></code></div>\n<div style=\"background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;\"><span style=\"font-size:12pt\"><span style=\"tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt\"><span style=\"font-family:Calibri,sans-serif\"><span style=\"font-size:10.0pt\"><span style='font-family:\"Courier New\"'>Enter keystore password:  changeit</span></span></span></span></span></div>\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><span style='font-family:\"Times New Roman\",serif'>The default password for the keystore is “changeit”. Once executed, a file named c:\\contents.txt will list the entire content of the keystore. It is possible to search through this file in notepad or a similar text editor to confirm that the certificate for the remote server to confirm was loaded correctly.</span></span></span></p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}