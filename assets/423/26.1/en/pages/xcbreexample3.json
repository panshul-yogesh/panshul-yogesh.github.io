{
  "title": "Make an entity read only after it has been closed",
  "content": "<div class=\"mw-parser-output\"><p class=\"mw-empty-elt\">\n</p><p>There are multiple ways to make an entity read-only, below are a few examples of different ways it can be done.</p>\n<p><b>Option 1</b></p>\n<p>Add the validation rule <b>${current_update.PhaseId.IsChanged}</b> to the ‘Done’ meta phase of the request entity workflow. This option won’t allow the request to be updated under any circumstances after it reaches the ‘Done’ phase.</p>\n<p><a onclick=\"javascript:loadingImage(this);\"></a><a class=\"image\" href=\"/file/images/9/97/xc_bre_ex3_1.png\" title=\"/file/images/9/97/xc_bre_ex3_1.png\"> <img alt=\"xc bre ex3 1.png\" data-file-height=\"315\" data-file-width=\"1656\" height=\"315\" src=\"../../../images/xc_bre_ex3_1_606d367d.png\" width=\"1656\"/> </a></p>\n<p><b>Option 2</b></p>\n<p>Add the validation rule <b>${current_update.PhaseId.IsChangedcurrent_user.IsPermitted('EMS-Admin-Template(entityType=Request)')}</b> to the ‘Done’ phase of the request entity workflow. This rule won’t allow the entity to be updated if it is in the ‘Done’ meta phase unless the currently logged in user has admin rights defined in their role.</p>\n<p><a onclick=\"javascript:loadingImage(this);\"></a><a class=\"image\" href=\"/file/images/3/3e/xc_bre_ex3_2.png\" title=\"/file/images/3/3e/xc_bre_ex3_2.png\"> <img alt=\"xc bre ex3 2.png\" data-file-height=\"394\" data-file-width=\"1670\" height=\"394\" src=\"../../../images/xc_bre_ex3_2_4d9a30af.png\" width=\"1670\"/> </a></p>\n<p><b>Option 3</b></p>\n<p>Add the validation rule <b>${current_update.PhaseId.IsChangedcurrent_user.IsPermitted('EMS-Admin-Template(entityType=Request)')(now() - entity.CloseTime)&lt;3600000)}</b> to the ‘Done’ phase of the request entity workflow. This rule won’t allow the entity to be updated if it is in the ‘Done’ step unless the currently logged in user has admin rights defined in their role <b>or</b> the request was closed within the last hour.</p>\n<p><a onclick=\"javascript:loadingImage(this);\"></a><a class=\"image\" href=\"/file/images/d/dc/xc_bre_ex3_3.png\" title=\"/file/images/d/dc/xc_bre_ex3_3.png\"> <img alt=\"xc bre ex3 3.png\" data-file-height=\"410\" data-file-width=\"1667\" height=\"410\" src=\"../../../images/xc_bre_ex3_3_46a78072.png\" width=\"1667\"/> </a></p>\n<p class=\"mw-empty-elt\"></p></div>",
  "modifiedon": "2025-10-24 08:51:12"
}